[
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMImportErrorsMaterials do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a single material import record (identified by @importid and @seq) in the PM module's worksheet (bPMWM), checking for missing or invalid Item, Phase, and related fields like CostType, UM, Material, and Vendor. It builds an error message string (@errors) for issues such as non-existent Items in the import items table (bPMWI) or invalid Phases (via bspJCPMValUseValidChars), and populates defaults for PhaseGroup, MatlGroup, and VendorGroup from company setup (HQCO/PMCO). Likely updates the record with errors and sets @msg OUTPUT for caller feedback during batch import processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMLocationTransferAttach form?"
      },
      {
        "from": "gpt",
        "value": "The EMLocationTransferAttach form includes these fields: Location History Id, Attached Equipment, Memo, Override Date Time, Date In, Time In, Attached Sequence, Parent Equipment, Sequence"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POIB view?"
      },
      {
        "from": "gpt",
        "value": "The POIB view (Module: PO) contains: Co, Mth, BatchId, BatchSeq, POItem, BatchTransType, ItemType, MatlGroup, Material, VendMatId, Description, UM, RecvYN, PostToCo, Loc... (106 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRPurgePayHistory do?"
      },
      {
        "from": "gpt",
        "value": "This SP purges historical payroll data (pay history headers like PRPH and details like PRDH) for a specified company (@PRCo) and optional pay group (@PRGroup) through a cutoff date (@ThroughDate), but only for fully interfaced payroll periods (JC, EM, GL, AP all complete and status active). It logs the process to VPLog.vPRPurgeLog, tracks deletions, and outputs errors. The optional @FilterPostedDate flag likely refines purging based on posting status in later logic."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPRTimeJob view?"
      },
      {
        "from": "gpt",
        "value": "The brvPRTimeJob view (Module: PR) contains: PRCo, PRGroup, PREndDate, Employee, LastName, FirstName, MidName, Suffix, SortName, Type, JCCo, Job, JobDesc, Phase, JCDept... (44 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBIDTMWork view?"
      },
      {
        "from": "gpt",
        "value": "The JBIDTMWork view (Module: JB) contains: VPUserName, Contract, Item, CustGroup, Customer, TemplateSeq, TemplateSeqType, DetailKey, Source, PhaseGroup, CostType, CostTypeCategory, PRCo, Employee, EarnType... (85 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPCanvasTreeItemsTemplate"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPCanvasTreeItemsTemplate: KeyID (int, not null); ItemType (int, not null); Item (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspUserMemoQueryBuild do?"
      },
      {
        "from": "gpt",
        "value": "This SP dynamically generates SQL fragments (UPDATE, JOIN, WHERE clauses) for handling user-defined memo fields (columns starting with 'ud') by identifying matching ud fields between a source table/view and a destination table/view in Viewpoint Vista. It validates object existence and common ud columns, setting flags and building reusable query components for memo data synchronization or querying. Unused params like @co/@mth/@batchid suggest integration with company/month/batch contexts for filtered operations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the FlexDataColumn table?"
      },
      {
        "from": "gpt",
        "value": "The FlexDataColumn table (Module: Other) contains: ID, Column, Type"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSMD"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSMD: MSCo (bCompany, not null); Quote (varchar, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMRateOverrideStandardItem view?"
      },
      {
        "from": "gpt",
        "value": "SM Rate Override Standard Item"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSLClaimBalForwardCreate do?"
      },
      {
        "from": "gpt",
        "value": "This SP creates a special \"Balance Forward Claim\" (ClaimNo=0) for a subcontract, used to carry over outstanding balances (e.g., retainage, prior unpaid amounts) from previous periods into a new claim cycle in the Subcontractor Ledger (SL) module. It initializes the claim with a standard description and date, ensuring clean tracking of historical balances. The procedure focuses heavily on pre-creation validations to prevent errors or duplicates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSJC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSJC: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMAgreementBillingScheduleExt view?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementBillingScheduleExt view (Module: SM) contains: SMAgreementBillingScheduleID, SMCo, Agreement, Revision, Service, Billing, Date, Month, Day, BillingAmount, SMInvoiceID, Notes, UniqueAttchID, TaxType, TaxGroup... (24 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APTL with JCJM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APTL with JCJM, use:\n\n```sql\nFROM APTL\nINNER JOIN JCJM\n  ON APTL.JCCo = JCJM.JCCo AND APTL.Job = JCJM.Job\n```\n\nThis pattern is used in the vrvPMContractAnalysisDD view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDFHUserMemoExist view?"
      },
      {
        "from": "gpt",
        "value": "This view lists standard user memo forms linked to document fields of type 4, excluding those starting with 'ud', by joining form configurations and memo form definitions. It groups results by form details to eliminate duplicates and orders by title for reference."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_FWT_R10_15 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Canadian Federal Withholding Tax (FWT) for payroll employees under 2010-2015 tax rules (R10_15), using annual pay periods (@ppds), annualized earnings (@calcbasis), and deductions/credits (e.g., @HD, @F1, @TC). It applies progressive tax brackets (15%-29%), subtracts credits for tax credits, CPP/PP, EI, QPIP (Quebec only), stock cap, and other factors like LCF, outputting basic tax (@A) and final calculated amount (@calcamt). Province-specific logic (e.g., QC) adjusts for QPIP and Quebec federal tax factors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDFS table?"
      },
      {
        "from": "gpt",
        "value": "The vDDFS table (Module: DD) contains: Co, Form, SecurityGroup, VPUserName, Access, RecAdd, RecUpdate, RecDelete, AttachmentSecurityLevel, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMViewpointDefaultsPREA do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies Viewpoint Vista-specific default values (e.g., company code into PRCo field) to staging records in the IMWE (Import Work Entries) table during data import. It checks import templates (IMTD) for a '[Bidtek]' flag and form mappings (DDUD), then conditionally overwrites fields like PRCo, AuditYN, SubjectAmt, and EligibleAmt based on template overwrite settings from vfIMTemplateOverwrite. Targeted at PREA record types (likely Prevailing Wage or Certified Payroll reporting), it ensures imported data from external sources like Bidtek aligns with Vista's Payroll (PR) structure."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVAScheduledChanges"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVAScheduledChanges: KeyID (int, not null); FormName (varchar, not null); FieldSequence (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ptvPREH view?"
      },
      {
        "from": "gpt",
        "value": "The ptvPREH view (Module: PR) contains: Employee, Name, Craft, CraftDesc, Class, ClassDesc, EarnCode, PRCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkCompletedEquipmentExtAll"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkCompletedEquipmentExtAll: SMWorkCompletedID (bigint, not null); Type (tinyint, not null); NonBillable (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPMDocDistAudit"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPMDocDistAudit: Sort (int, not null); ProjectMgr (int, nullable); JobStatus (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvSMWorkOrderStatusByTechnician view?"
      },
      {
        "from": "gpt",
        "value": "The vrvSMWorkOrderStatusByTechnician view (Module: SM) contains: SMCo, Technician, TechnicianName, WorkOrder, Status, AssignedAsLeadTechnician, WorkOrderTripsAttended, WorkCompletedAssigned, Customer, CustomerName, Scope, WorkOrderDescription, WorkScopeDescription, Description, ServiceSite... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Using vrv* views instead of custom JOINs\n\nSELECT h.*, d.*\nFROM APTH h WITH (NOLOCK)\nJOIN APTL d WITH (NOLOCK) ON h.APCo = d.APCo AND h.Mth = d.Mth AND h.APTrans = d.APTrans\nJOIN JCCD j WITH (NOLOCK) ON d.JCCo = j.JCCo AND d.Job = j.Job"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT *\nFROM vrvAPJobCost WITH (NOLOCK)\nWHERE APCo = @APCo AND Mth = @Mth\n```\n\nOptimization tip: Check for existing vrv* (Viewpoint Report Views) before writing complex JOINs. They're pre-optimized."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDDeleteFieldLookups do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes a specific custom lookup value from a form field's lookup list in Viewpoint Vista's Dynamic Data Dictionary (DD) system. It first validates that required parameters (@form, @seq, @lookup) are provided, ensures the lookup is not assigned to the field's datatype (via vDDDT and vfDDFIShared), and confirms it is not a standard lookup in vDDFL before performing the delete from vDDFLc. If any check fails, it returns an error message via @errmsg and a non-zero @rcode without deleting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMStandardItem view?"
      },
      {
        "from": "gpt",
        "value": "The SMStandardItem view (Module: SM) contains: SMStandardItemID, SMCo, StandardItem, Description, CostRate, BillableRate, Notes, UniqueAttchID, MiscCostOffsetGLCo, SMCostType, MiscCostOffsetGLAcct, BillableMarkup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRINSERTPRAUContributionHistory do?"
      },
      {
        "from": "gpt",
        "value": "> This proceddure receives rows of data as input parameters and insert them into vPRAUContributionHistory.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMGridColumnOrder view?"
      },
      {
        "from": "gpt",
        "value": "The SMGridColumnOrder view (Module: SM) contains: VPUserName, FormName, ColumnName, ColumnOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentType view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers active document types with their unique IDs, codes, descriptions, and linked document category IDs by joining PMDT to PMCT on category code. It filters exclusively for active records to ensure only valid types are surfaced."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUEmployeeMiscAmounts view?"
      },
      {
        "from": "gpt",
        "value": "AUS Empl PAYG Misc Amts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrderQuoteExt with SMServiceCenter in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrderQuoteExt with SMServiceCenter, use:\n\n```sql\nFROM SMWorkOrderQuoteExt\nINNER JOIN SMServiceCenter\n  ON SMWorkOrderQuoteExt.SMCo = SMServiceCenter.SMCo AND SMWorkOrderQuoteExt.ServiceCenter = SMServiceCenter.ServiceCenter\n```\n\nThis pattern is used in the vrvSMWorkOrderQuote view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure cvsp_HQTCUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This SP maintains the bHQTC (Headquarters Transaction Control) table by scanning transaction history tables across modules (e.g., bAPTH for AP, bARTH for AR) to capture and store the maximum (latest) transaction ID per company and month. It inserts new records or updates existing ones in bHQTC to track posting progress, enabling HQ to monitor synchronized data from divisions/branches. Error handling logs failures per table/company/month for troubleshooting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRWI"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRWI: HRCo (bCompany, not null); HRRef (bHRRef, not null); DednCode (bEDLCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with SLHD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with SLHD, use:\n\n```sql\nFROM JCCD\nINNER JOIN SLHD\n  ON JCCD.APCo = SLHD.SLCo AND JCCD.SL = SLHD.SL\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSVT table?"
      },
      {
        "from": "gpt",
        "value": "The bMSVT table (Module: MS) contains: VendorGroup, Vendor, Truck, Description, TruckType, Axles, GrossWght, TareWght, WghtCap, WghtUM, LicPlateNo, LicState, LicExpDate, Driver, PermitDate... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQWOVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHQWOVal validates a specified template type and document object by querying the bHQWO table in Viewpoint Vista ERP, retrieving output parameters for alias, join order, object table, and word table used in dynamic SQL joins for reporting or document generation. It is invoked to confirm valid configurations before building queries, preventing errors in workflows like work order processing. Key operations include NULL checks on inputs, a NOLOCK lookup with error handling for missing records, and returning a status code with a message detailing the alias and join order.\n\nbspHQWOVal validates a specified document object against a template type by querying the bHQWO table and outputs the corresponding alias, join order, object table, and word table settings. It is used in Viewpoint Vista ERP to retrieve and confirm configuration details for dynamic report or query building involving work orders or documents. Key operations include input NULL checks, a NOLOCK SELECT for lookup, error handling with descriptive messages if no match is found, and return of a status code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvHRPositions view?"
      },
      {
        "from": "gpt",
        "value": "This report validation view unions HR position records from HRPC—providing company, position code, 'P' type, and job title—with matching records from HRCM to deliver a complete list of positions including company, code, type, and description. It supports standardized position lookups by combining catalog and master data sources."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspBITargetLevelVal do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspBITargetLevelVal validates a TargetLevel for a specified Company in Viewpoint Vista ERP's business intelligence module. It checks for non-null Company and TargetLevel inputs, then verifies the TargetLevel exists in the BITargetLevel table, setting an output message and returning a 0 (success) or 1 (error) code accordingly. It ensures data integrity prior to using target levels in reporting or configuration processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDSSRSAdminUserCheck do?"
      },
      {
        "from": "gpt",
        "value": "This SP evaluates a list of Vista users to determine if they qualify as System Administrators (SysAdmin) or System Users (SysUser) based on their access rights to specific administrative forms. It checks direct user access (read/write via vDDFS) or indirect access through security groups (vDDSU), ensuring no explicit denies (Access=2) override grants. Results flag users in a returnable table for privilege-based actions like report access."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Allocation Departments\n\nContext: Viewpoint Vista database, view JCAD"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCAD.*\nFROM dbo.bJCAD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUSTPETP view?"
      },
      {
        "from": "gpt",
        "value": "PR STP Employee ETP Amounts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDFH_Bak table?"
      },
      {
        "from": "gpt",
        "value": "The vDDFH_Bak table (Module: DD) contains: Form, Title, FormType, ShowOnMenu, IconKey, ViewName, JoinClause, WhereClause, AssemblyName, FormClassName, ProgressClip, FormNumber, HelpFile, HelpKeyword, NotesTab... (39 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates total pending estimated hours, hour costs, estimated cost charges, and units per job and company from detailed cost type data. It performs grouping by company and job with summati\n\nContext: Viewpoint Vista database, view JCJobAnalysisJobL-PCO"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [JCCo],\n    [Job],\n    sum([PendEstHours]) AS [PendEstHours],\n    sum([PendHourCost]) AS [PendHourCost],\n    sum([PendEstCostChg]) AS [PendEstCostChg],\n    sum([PendEstUnits]) AS [PendEstUnits]\nFROM [dbo].[JCJobAnalysisCostTypeL-PCO]\nGROUP BY [JCCo] ,[Job];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMCrossRefPMTemplate do?"
      },
      {
        "from": "gpt",
        "value": "This SP processes cross-references between an Inventory (IM) import template and Project Management (PM) templates, validating the template exists with PM cross-reference enabled (IMXH.PMCrossReference='Y') and retrieving identifiers/defaults for key PM elements like Job Company (JCCo), Phase Group, Material Group, and Vendor Group from IMTD. It initializes a cursor to loop over cross-reference headers (xrefname, datatype, pmtemplate) for batch processing, likely mapping import data to PM structures. Output includes error messages (@msg) and return code (@rcode) for import validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VABatchDocumentViewerDetail form?"
      },
      {
        "from": "gpt",
        "value": "The VABatchDocumentViewerDetail form includes these fields: Batch Detail Sequence, first name, Last name, Participant email address, Hidden Display Name, Hidden Company Name, Hidden Company Number, Hidden Status, Hidden doc role type Id, Hidden created by user"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRID view?"
      },
      {
        "from": "gpt",
        "value": "The PRID view (Module: PR) contains: PRCo, State, InsCode, DLCode, Rate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAVPDisplaySecurityGroups form?"
      },
      {
        "from": "gpt",
        "value": "The VAVPDisplaySecurityGroups form includes these fields: Display Profile ID, Security Group"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRTZGrid view?"
      },
      {
        "from": "gpt",
        "value": "This view provides a grid listing of Payroll (PR) batches from headquarters batch control, including company, month, batch ID, PR group, and payroll end date. It filters exclusively to batches with Source='PR Entry' and left joins payroll transaction batches for potential matching. No calculations or transformations beyond the join and filter."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspBatchPublishReport do?"
      },
      {
        "from": "gpt",
        "value": "This SP initiates a batch publishing process for multiple documents/reports by creating a new monthly batch via HQ batch control, registering or retrieving the sender (user) in the Document module, verifying company setup, and bulk-inserting documents from XML input into Batch.Document with 'New' status, due date, and batch association. It returns the batch ID, month, and document key XML for tracking. Supports automated report distribution in Vista's document management."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSQHByTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Microsoft Quote Header (MSQH) by company (MSCo), quote type, and quote number, retrieving the corresponding description from the bMSQH table if found. It first checks for missing input parameters and sets error messages in the @msg output if any are null or if no matching record exists. Primarily used in Viewpoint Vista ERP to confirm quote validity before related business operations, returning a success code (0) or error code (1).\n\nThe stored procedure bspMSQHByTypeVal validates a quote for a specific MS company by checking the bMSQH table using the provided company number (@msco), quote type (@quotetype), and quote number (@quote). If valid, it retrieves and outputs the quote's description via @msg with a return code of 0; otherwise, it sets an error message in @msg and returns code 1 for missing inputs or invalid quotes. It is used in Viewpoint Vista ERP to confirm quote legitimacy in quoting, estimating, or related business processes before proceeding.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRDL"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRDL: HRCo (bCompany, not null); HRRef (bHRRef, not null); State (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSPC table?"
      },
      {
        "from": "gpt",
        "value": "The bMSPC table (Module: MS) contains: MSCo, PayCode, Description, PayBasis, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPR1094EINVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an EIN entry for a specific sequence in the PR1094ALE Other Members table within Viewpoint Vista ERP's payroll tax reporting module. It ensures the PR company is provided, the tax year is a valid numeric value (1000-9999), and the EIN is unique for the given company and tax year across other sequences. Upon failure, it outputs an error message and returns code 1; success returns 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure cvsp_TL_Execute_AP do?"
      },
      {
        "from": "gpt",
        "value": "This SP is a data cleanup utility for test/demo company 99, purging transactional records (Job/Project not starting with '99999%') from PM (Project Management), SL (Service Management), and PO (Purchase Order) tables to reset them while preserving templates. It uses conditional trigger disabling, transactions, checkpoints, and delays for safe bulk deletes in multi-company environments. Likely extends to AP tables in the full procedure, preparing a clean slate for AP testing or data loads."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides a distinct list of AP transactions from the OnCost workfile headers matched to AP transaction headers, with an OnCostYN flag indicating vendor type—Y if no OnCostID exists in the vendor OnCos\n\nContext: Viewpoint Vista database, view APOnCostVendorTypesYN"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT\n    APOnCostWorkFileHeader.APCo,\n    APOnCostWorkFileHeader.Mth,\n    APOnCostWorkFileHeader.APTrans,\n    CASE ISNULL(APVendorMasterOnCost.OnCostID,'') WHEN '' THEN 'Y' ELSE 'N' END AS 'OnCostYN'\nFROM dbo.APOnCostWorkFileHeader\nJOIN dbo.APTH ON\n    APOnCostWorkFileHeader.APCo=APTH.APCo\n    AND APOnCostWorkFileHeader.Mth=APTH.Mth\n    AND APOnCostWorkFileHeader.APTrans=APTH.APTrans\nLEFT JOIN dbo.APVendorMasterOnCost\nON APOnCostWorkFileHeader.APCo=APVendorMasterOnCost.APCo AND APTH.VendorGroup = APVendorMasterOnCost.VendorGroup AND APTH.Vendor = APVendorMasterOnCost.Vendor;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.DocumentResponseValue"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.DocumentResponseValue: Id (bigint, not null); FieldName (varchar, nullable); ResponseValue (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vw_FlexStagebGLBD_exp3 view?"
      },
      {
        "from": "gpt",
        "value": "The vw_FlexStagebGLBD_exp3 view (Module: Other) contains: BudgetCode, GLCo, GLAcct, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPPayTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Pay Type for a specific AP Company (and optionally Pay Category) in the Accounts Payable module. If valid, retrieves the associated GL Account and Description from the Pay Type setup table (bAPPT); otherwise, returns an error message. Ensures Pay Types are correctly configured and linked to proper GL accounts for financial postings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAFormsByModule do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Created: Aaron Lang 5/14/07\n> Modified: GG 08/23/07 - corrected to retrieve forms based on module assignments, include custom forms,\n> and check license level.\n> Modified: AL 12/10/07 - corrected to include user created forms.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Hold Codes\n\nContext: Viewpoint Vista database, view HQHC"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQHC.*\nFROM dbo.bHQHC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the voldDDFI20110329 table?"
      },
      {
        "from": "gpt",
        "value": "The voldDDFI20110329 table (Module: DD) contains: Form, Seq, ViewName, ColumnName, Description, Datatype, InputType, InputMask, InputLength, Prec, ActiveLookup, LookupParams, LookupLoadSeq, SetupForm, SetupParams... (51 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_MBT23 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Manitoba provincial income tax withholding (MBT23) for Canadian payroll employees, applying tiered marginal rates (10.80%, 12.75%, 17.40%) to annual income (@A), adjusted for basic personal amounts, CPP/QPP contributions (base/additional components), EI premiums, pay periods, eligibility factors, and Quebec-specific QPP handling. It outputs the total calculated tax amount (@calcamt) and error messages (@msg), ensuring caps and validations like pay periods per year are met."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRMyTimesheetEmpVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee for timesheet entry in Viewpoint Vista's Payroll (PR) module, specifically for the \"My Timesheet\" feature. It verifies the employee's existence, active status, default job/craft/class/shift/earn code via a helper SP (bspPREmplValName), and ensures the employee belongs to the same payroll group as the entry user. It outputs validated employee details or an error message if validations fail, enforcing security restrictions based on user roles from vDDUP."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementWorkOrderList"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementWorkOrderList: SMCo (bCompany, not null); Agreement (varchar, not null); EffectiveDate (bDate, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_JCCompany view?"
      },
      {
        "from": "gpt",
        "value": "This BI dimension view maps Job Costing (JC) companies to their headquarters names, filtering to companies recognized in the BI companies interface. It combines JC company keys, codes, and HQ names with a static 'Unassigned' row for analytics handling of unspecified companies."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPMPOCO table?"
      },
      {
        "from": "gpt",
        "value": "The vPMPOCO table (Module: PM) contains: PMCo, Project, POCo, PO, POCONum, Description, Details, Date, Status, Reference, DateSent, DateDueBack, DateReceived, DateApproved, Notes... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPREmployeeCraftClass table?"
      },
      {
        "from": "gpt",
        "value": "The vPREmployeeCraftClass table (Module: PR) contains: KeyID, PRCo, Employee, Craft, Class, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the budAPUIComp table?"
      },
      {
        "from": "gpt",
        "value": "The budAPUIComp table (Module: AP) contains: Co, APRef, CompCode, Description, TransMth, UIMth, UISeq, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPCBidCoverage"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPCBidCoverage: HQCo (bCompany, nullable); Name (varchar, nullable); BidJCDept (bDept, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Hold-Release to be Released\n\nContext: Viewpoint Vista database, view APHR"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPHR.*\nFROM dbo.bAPHR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCProjInBatch do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a job can be inserted into a Job Cost (JC) Projections batch for a specific month and company. It checks for missing inputs, existing projections for the job in other batches/months, and future projections that would be overwritten upon batch posting. Returns success (0), blockage (1), or warning (2) via @rcode and @msg for user feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bGLRA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bGLRA: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCRollUpDesc do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCRollUpDesc retrieves the rollup description (RollupDesc) for a given company code (JCCo) and rollup code from the JCRU table in Viewpoint Vista ERP's job costing system. It is used to look up human-readable descriptions for rollup codes, enabling accurate reporting or display in job cost rollups. Key operations include input validation on parameters, a selective query with NOLOCK hint, and outputting the result via the @msg parameter while returning a zero error code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Phase Cost Types\n\nContext: Viewpoint Vista database, view JCPC"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCPC.*\nFROM dbo.bJCPC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMJCJMItems view?"
      },
      {
        "from": "gpt",
        "value": "The PMJCJMItems view (Module: PM) contains: PMCo, Project, JCCo, Job, Contract, Item, UM, OrigContractUnits, ContractUnits, ContractDesc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPTL table?"
      },
      {
        "from": "gpt",
        "value": "The bAPTL table (Module: AP) contains: APCo, Mth, APTrans, APLine, LineType, PO, POItem, ItemType, SL, SLItem, JCCo, Job, PhaseGroup, Phase, JCCType... (76 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJCCmtdCostDDAttachments view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJCCmtdCostDDAttachments view (Module: JC) contains: Src, JCCo, Mth, CostTrans, Job, PhaseGroup, Phase, CostType, PostedDate, ActualDate, JCTransType, Source, Description, INCo, APCo... (32 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLEntryTotal view?"
      },
      {
        "from": "gpt",
        "value": "The SLEntryTotal view (Module: SL) contains: TotalCost, Tax, SLCo, Mth, BatchId, BatchSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLWI view?"
      },
      {
        "from": "gpt",
        "value": "The SLWI view (Module: SL) contains: SLCo, UserName, SL, SLItem, ItemType, Description, PhaseGroup, Phase, UM, CurUnits, CurUnitCost, CurCost, PrevWCUnits, PrevWCCost, WCUnits... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvGLFSSum view?"
      },
      {
        "from": "gpt",
        "value": "Provides GL account details with summary account attributes, transaction-level debits/credits/net amounts split by month/fiscal period/year, beginning balances, and descriptions for account segments (Parts 1-4) plus custom reporting parts 2/3. Combines account master data with detail transactions and fiscal summaries for hierarchical financial reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join GLFP with JCCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join GLFP with JCCO, use:\n\n```sql\nFROM GLFP\nINNER JOIN JCCO\n  ON GLFP.GLCo = JCCO.GLCo\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMClearBatchEntries do?"
      },
      {
        "from": "gpt",
        "value": "vspIMClearBatchEntries deletes entries from the IMBC table for batches that have reached a completed status (Status >= 5) in the HQBC table, based on matching Company (Co), BatchId, and Month (Mth). It is used in Viewpoint Vista ERP to clean up processed inventory management batch data after finalization, preventing retention of obsolete records. The procedure performs a single DELETE operation with an INNER JOIN and returns an error code via @rcode, populating the @msg output parameter only on failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APUnappInvStatusLineInfo view?"
      },
      {
        "from": "gpt",
        "value": "Provides line-level details for unapproved AP invoices, including company, invoice month/sequence/line, reviewer group, approval sequence, vendor name, invoice total, and a formatted descriptive string for each line's allocation based on its type (e.g., Job/Phase/CostType, PO/Item, Equipment/CostType/CostCode, or Work Order)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPMIL view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vf_rptPMRelatedDocs, bPMIL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDLookupExport"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDLookupExport: TableName (varchar, not null); ExtractStep (int, not null); ExtractOrder (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRLeaveCodeOverrideCheck do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a leave code for a specific company has existing overrides in the bPRLVEarnLeave table. If overrides exist, it returns an error code (1) and a message prohibiting changes to a \"Fixed\" accrual type, otherwise it returns 0. It enforces payroll leave management rules to prevent inconsistent updates when overrides are active.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the POCD view?"
      },
      {
        "from": "gpt",
        "value": "PO Change Order Detail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bCMCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bCMCO: CMCo (bCompany, not null); GLCo (bCompany, not null); Jrnl (bJrnl, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDCreateLoadForm do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a dynamic SQL script to reload data for a specified DD Form (likely Document Delivery or Data Dictionary Forms in Vista). It disables constraints/triggers, deletes existing target data (filtered by Form), and inserts fresh data from export views (vDDFormExport) into base tables, with special checks for non-standard user forms (bDDUF/bDDUD). The output script is transaction-wrapped for safe execution, enabling form data migration or recreation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.Comment"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.Comment: CommentId (uniqueidentifier, not null); CommentType (smallint, not null); CommentDate (datetime, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspUDCountRows do?"
      },
      {
        "from": "gpt",
        "value": "This utility stored procedure dynamically counts the total number of rows in any specified table or view in the Viewpoint Vista database, returning the count via an output parameter. It supports safe execution under the 'vcsreader' context, enabling row count queries without direct table access privileges. Primarily used for data volume checks, auditing, or performance tuning across Vista modules like JC, AP, or PM."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRCodeTypeValForHREH do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates HR code types specifically for HREH contexts, accepting 'H', 'P', or 'N' as the @type parameter. If valid, it calls bspHRCodeTypeVal to perform further validation and passes back any message via @msg OUTPUT, returning a success code (0); otherwise, it sets an error message (\"Invalid History Code Type. Must be (H, P, OR N)\") and returns failure code (1). It ensures data integrity in HR employee history processes by restricting inputs to approved code types.\n\nThis stored procedure validates HR code types specifically for Employee History (HREH) contexts, restricting inputs to 'H', 'P', or 'N'. If the provided @type is valid, it delegates to bspHRCodeTypeVal for detailed validation and passes back the output message; otherwise, it sets an error message (\"Invalid History Code Type. Must be (H, P, OR N)\") and returns a failure code of 1. It ensures data integrity in HR processes by enforcing type restrictions before further operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCJP with JCCP in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCJP with JCCP, use:\n\n```sql\nFROM JCJP\nINNER JOIN JCCP\n  ON JCJP.JCCo = JCCP.JCCo AND JCJP.Job = JCCP.Job AND JCJP.Phase = JCCP.Phase AND JCJP.PhaseGroup = JCCP.PhaseGroup\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pForumViews table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pForumViews table (Module: Other) contains: ForumID, TotalViews"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMScopeSitePOCheck do?"
      },
      {
        "from": "gpt",
        "value": "> ============================================================================================================================= -- Author:\t\tJayR -- Create date: 6/14/2016 -- Modified:  JayR 3/22/2017 TFS-348550 If there is a customer attached to a site check for PO Required there. -- Description:\tFor a work order and site checks if a PO is required and missing, just required, or not required. --        This proc is related to proc dbo.vspSMCallCustomPOVal -- Example: DECLARE @msg varchar(100); DEC\n> Author:\t\tJayR\n> Create date: 6/14/2016\n> Modified:  JayR 3/22/2017 TFS-348550 If there is a customer attached to a site check for PO Required there.\n> Description:\tFor a work order and site checks if a PO is required and missing, just required, or not required.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUEmployerBASGSTTaxCodes table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUEmployerBASGSTTaxCodes table (Module: PR) contains: PRCo, TaxYear, Seq, Item, TaxCode, ItemDesc, KeyID, TaxGroup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMDivisionCallType view?"
      },
      {
        "from": "gpt",
        "value": "The SMDivisionCallType view (Module: SM) contains: SMAssociatedCallTypeID, SMCo, ServiceCenter, Division, CallType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMWH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMWH: ImportId (varchar, not null); Template (varchar, not null); PMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vHQRoleMember table?"
      },
      {
        "from": "gpt",
        "value": "The vHQRoleMember table (Module: HQ) contains: Role, UserName, Active, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INLC view?"
      },
      {
        "from": "gpt",
        "value": "IN Location Company Category"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT06 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNDT06 calculates North Dakota state income tax withholding for a payroll period using progressive tax brackets based on filing status (single 'S' or married 'M'). It annualizes the subject gross amount by multiplying by pay periods per year, subtracts exemption allowances ($3300 each), determines the applicable tax bracket with base tax and marginal rate, computes total annual tax, and prorates it back to the per-period withholding amount (rounded to whole dollars). Primarily used in Viewpoint Vista ERP payroll processing for accurate ND state tax deductions, with input validation and error messaging for missing parameters.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Projection Batch Detail\n\nContext: Viewpoint Vista database, view JCPD"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCPD.*\nFROM dbo.bJCPD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARGLCoUpdateVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a GL Company ID (@glco) for association with an AR Company (@arco), ensuring it exists in HQ Company setup (bHQCO) and is preferably configured in GL Company setup (bGLCO). Returns success (rcode=0) with the HQ Company name in @errmsg if valid, error (rcode=1) for invalid/missing GLCo or HQCo, or warning (rcode=2) if GLCo lacks GL setup. @arco is required but unused in logic, likely for contextual linking."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRWE"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRWE: PRCo (bCompany, not null); TaxYear (char, not null); Employee (bEmployee, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the FlexDataViews table?"
      },
      {
        "from": "gpt",
        "value": "The FlexDataViews table (Module: Other) contains: ViewID, TableID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMVal_Meters_AddedChanged do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates equipment meter readings (e.g., hours or usage) that have been added or changed within a specific batch transaction in the Equipment Management (EM) module. It retrieves batch details from EMBF, invokes specialized equipment validation (vspEMEquipValForMeterReadings) to check rules like date, equipment status, and meter logic, and logs errors to a batch error queue (HQBE) if validation fails. The process ensures meter data integrity before batch posting, preventing invalid equipment usage data from affecting job costs or billing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMReferenceNoDefault do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\tLane Gresham\n> Create Date: 01-06-12\n> Description:\tReturns the default for a Work Completed Reference No\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vAuditFlags table?"
      },
      {
        "from": "gpt",
        "value": "The vAuditFlags table (Module: Other) contains: FlagName, Module, AuditByCompany, AuditByGroup, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMOMTotals view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates estimated costs from project management order lines by company, project, change order details, phase group, and cost type, then applies sequential internal markup (on base costs) and contractor markup (on internal-marked-up costs) from the order master to produce total markup amounts. Markup amounts are rounded to whole dollars or two decimals based on project phase/cost type parameters. Provides summarized cost totals with markups for change order oversight."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the IMWEDetail view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers a flattened detail set of import worksheet entries by unioning main records lacking notes (via anti-join exclusion) with all associated note records, flagged distinctly by IsNote. It casts upload and imported values to VARCHAR(MAX) for flexible display. The structure ensures comprehensive coverage without duplicating entries that have notes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJCLastMonthOfActivityByContract view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJCLastMonthOfActivityByContract view (Module: JC) contains: JCCo, Contract, LastMonthOfActivity"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQRV form?"
      },
      {
        "from": "gpt",
        "value": "The HQRV form includes these fields: Reviewer, Name, Active, Approve with missing data, E-mail Address"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Filtering on non-indexed column causes table scan\n\nSELECT * FROM APTL WITH (NOLOCK) WHERE Description LIKE '%concrete%'"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT * FROM APTL WITH (NOLOCK)\nWHERE APCo = @APCo AND Mth >= @StartMth AND Mth <= @EndMth\n  AND Description LIKE '%concrete%'\n```\n\nOptimization tip: Filter by indexed columns (company, month) first to reduce rows before applying text search."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vHQTXHistory table?"
      },
      {
        "from": "gpt",
        "value": "The vHQTXHistory table (Module: HQ) contains: ParentTable, ParentTableKeyID, TaxGroup, TaxCode, CompDate, TaxRate, TaxAmount, CreatedDate, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPCheckClearVoid do?"
      },
      {
        "from": "gpt",
        "value": "This SP processes a range of AP checks in a specified payment batch (bAPPB table) by clearing their Cash Management (CM) references and paid dates, effectively uncoupling them from bank reconciliation. If the `@voidopt` is 'V', it also inserts a duplicate voided entry (VoidYN='Y') for audit/tracking before clearing the original. It handles one or more checks based on company, month, batch, account, and check number range, returning success/failure via `@msg` and `@rcode`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRRP form?"
      },
      {
        "from": "gpt",
        "value": "The HRRP form includes these fields: Seq, Code, Rating, Notes, HRRef, ReviewDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAddManualMaintenance form?"
      },
      {
        "from": "gpt",
        "value": "The SMAddManualMaintenance form includes these fields: Agreement, Version, Service, Service Desc, Service Site, Serviceable Item, Call Type, ItemClass, ItemType, Agreement Customer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDGridGroupingColumn.\n\nContext: Viewpoint Vista database, view DDGridGroupingColumn"
      },
      {
        "from": "gpt",
        "value": "SELECT vDDGridGroupingColumn.*\nFROM dbo.vDDGridGroupingColumn;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQCSUpdateLogo do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Created: 12/06/11\n> Updated: 12/20/11\n> Modified: 2/13/2015\tADL - TFS-65125 - Updated image datatype to varbinary(max)\n> Removed MIME column as it is not required\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMFlatPriceChangeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates flat price changes on service management invoice details in Viewpoint Vista ERP. It compares the new billing amount against the remaining billable amount, calculated by subtracting the previous billing amount from the original price in the linked SMWorkOrderScope. If the new amount exceeds this limit, it sets an error message and returns 1; otherwise, it returns 0 to allow the change.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PCIntentToBidTemplateScopes view?"
      },
      {
        "from": "gpt",
        "value": "The PCIntentToBidTemplateScopes view (Module: PC) contains: ScopePhase, ScopePhaseDescription"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSTP"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSTP: MSCo (bCompany, not null); PriceTemplate (smallint, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vAPAUPayeeTaxPaymentATO table?"
      },
      {
        "from": "gpt",
        "value": "The vAPAUPayeeTaxPaymentATO table (Module: AP) contains: KeyID, APCo, TaxYear, VendorGroup, Vendor, PayeeName, AusBusNbr, Address, Address2, City, State, PostalCode, Country, Phone, TotalNoABNTax... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspTelemetryJobs do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOItemLinesExist do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspPOItemLinesExist determines if a specific purchase order (PO) item has any detail lines beyond the first one by checking the POItemLine table for the given PO company, PO number, and PO item where POItemLine > 1. It sets the output parameter @ItemLinesExist to 'Y' if such lines exist, otherwise 'N', with no error message unless an issue arises. This is used in business processes to validate the existence of PO item lines before actions like header deletion or updates to prevent data inconsistencies.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ROSG do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates and applies addon earnings (e.g., fringes, burdens) in Canadian Payroll (PR_CA) by multiplying a specified rate against \"subject\" straight gross earnings from time records (bPRTH). If `@addonYN = 'Y'`, it inserts new addon records into bPRTA for qualifying time entries filtered by employee, craft, class, job/service templates, and earnings subject to addons (bPREC.SubjToAddOns='Y'). Otherwise, it sums the total subject amount for those earnings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvPCCurrentProjectGoals view?"
      },
      {
        "from": "gpt",
        "value": "The vrvPCCurrentProjectGoals view (Module: PC) contains: JCCo, Job, Contract, PotentialProject, VendorGroup, CertificateType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRAutoLeave form?"
      },
      {
        "from": "gpt",
        "value": "The PRAutoLeave form includes these fields: Month, Batch ID, Update Fixed Accruals, Accrual Post Date, Leave Code, Frequency, Description, Delete Existing Accruals, Use Pay Period Earnings, PR Group"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMSubcontractCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMSubcontractCO: PMCo (bCompany, not null); Project (bProject, not null); SubCO (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PORB view?"
      },
      {
        "from": "gpt",
        "value": "The PORB view (Module: PO) contains: Co, Mth, BatchId, BatchSeq, BatchTransType, POTrans, PO, POItem, RecvdDate, RecvdBy, Description, UnitCost, ECM, RecvdUnits, RecvdCost... (43 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRRIT05 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRRIT05 calculates per-pay-period Rhode Island state income tax (RIT) withholding based on annualized subject wages. It adjusts gross pay by multiplying by pay periods per year and subtracting exemptions (at $3200 each), then applies progressive tax brackets and rates depending on filing status (S/H for Single/Head of Household or M for Married). The procedure outputs the computed tax amount and handles validation for required inputs like pay periods.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPSaveGridGroupColumnUser do?"
      },
      {
        "from": "gpt",
        "value": "> Add the parameters for the stored procedure here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPSetSelectedTemplate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure applies a pre-defined dashboard template to a specific user tab in Viewpoint Vista's customizable \"Canvas\" UI, copying layout settings (rows/columns), part configurations (grids/collapsibles), and grid parameters from template tables. It deletes prior tab settings, inserts new ones, and handles special logic for the default \"My Viewpoint\" tab (TabNumber=1). This enables users to quickly adopt standardized or saved dashboard views without manual reconfiguration."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSIN table?"
      },
      {
        "from": "gpt",
        "value": "The bMSIN table (Module: MS) contains: MSCo, Mth, BatchId, INCo, Loc, MatlGroup, Material, INTransType, BatchSeq, HaulLine, OldNew, MSTrans, SaleDate, CustGroup, Customer... (40 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBTandMGetLineKey do?"
      },
      {
        "from": "gpt",
        "value": "The bspJBTandMGetLineKey stored procedure generates a fixed-width, padded line key for journal batch template entries in Viewpoint Vista ERP, used to sort and uniquely identify transaction lines during job costing or posting. It retrieves the sort order from the bJBTM table and builds the key prefix based on that order—using formatted post/actual date (yyyymmdd), phase, or job—while appending the contract item and template sequence. Special cases replace the prefix with spaces for process totals, ensuring consistent sorting in reports and batches.\n\nThe bspJBTandMGetLineKey stored procedure generates a formatted, padded line key for journal batch template and module (JBT&M) entries in Viewpoint Vista ERP. It retrieves the sort order from the bJBTM table and builds the key based on that order ('D'/'A' for formatted post/actual dates, 'P' for phase, 'J' for job+phase), appending padded contract item and template sequence values, while using spaces for process totals. This standardizes line identification for consistent sorting and processing of construction job transactions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VPQueryLinks form?"
      },
      {
        "from": "gpt",
        "value": "The VPQueryLinks form includes these fields: Starting Query, Related Query, Display Sequence, Default Drill-Through, Is VP standard query link, Link Parameters are Configured"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWOInvoiceDescriptionWorkOptions table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWOInvoiceDescriptionWorkOptions table (Module: SM) contains: SMWOInvoiceDescriptionWorkOptionsID, SMCo, Field, Select, CustomLabelName, SortOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APLB"
      },
      {
        "from": "gpt",
        "value": "Key columns in APLB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Document Export\n\nContext: Viewpoint Vista database, view HQDX"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQDX.*\nFROM dbo.bHQDX;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCJPRoles"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCJPRoles: KeyID (bigint, not null); JCCo (bCompany, not null); Job (bJob, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvAPVM_MasterVendor view?"
      },
      {
        "from": "gpt",
        "value": "This view filters the AP Vendor Master table to return complete details only for vendors designated as the MasterVendor within each VendorGroup. It augments the data with an explicit MasterVend column derived from a distinct subquery on the same table. The result standardizes access to hierarchical master vendor records for reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDTS table?"
      },
      {
        "from": "gpt",
        "value": "The vDDTS table (Module: DD) contains: Co, Form, Tab, SecurityGroup, VPUserName, Access, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQDXPREH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQDXPREH: ErrorID (int, not null); Co (bCompany, nullable); Employee (bEmployee, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCBidMessageHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCBidMessageHistory: JCCo (bCompany, not null); PotentialProject (varchar, not null); BidPackage (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkScopeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Work Scope in Viewpoint Vista's Service Management (SM) module for a specified company, optionally enforcing existence and retrieving associated details like description, summary, priority name, and phase. It conditionally clears the phase if no valid Work Order with a Job is provided, ensuring data integrity during scope assignment. Returns success (0) with populated outputs or failure (1) with an error message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPMFourProjectsMapDocCategory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPMFourProjectsMapDocCategory: PMCo (bCompany, not null); Project (bProject, not null); DocCat (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCAllocationCostTypesAdd do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCAllocationCostTypesAdd creates a new entry in the JCAT table to link a cost type to an allocation code within a company's Job Costing (JC) setup in Viewpoint Vista ERP. It retrieves the PhaseGroup from the HQCO table for the specified company (@jcco), then inserts the record using @alloccode, the fetched PhaseGroup, and @costtype. This supports cost allocation configurations by defining valid cost types for job costing distributions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspUDCheckIfColumnExists do?"
      },
      {
        "from": "gpt",
        "value": "> ============================================= Author: JonathanP 01/14/08 - Created. AR 5/14/2014 - 84247 - changing exec as to dbo JayR 7/11/2019 VTS-169111 Change this to remove execute as dbo. Description:\tThis stored procedure will check if a given column exists in a table. Used for validation. Return Codes: 0 : Column exists. 1 : Column does not exist. =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMPMArch view?"
      },
      {
        "from": "gpt",
        "value": "This view provides complete PM personnel master records with a computed full contact name by concatenating first name, middle initial, and last name fields. It incorporates overridden mailing address details (address lines, city, state, zip, country) from a linked override table. The join ensures address overrides are applied only where specified for specific vendor group, firm, and contact combinations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRVP"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRVP: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SLCB view?"
      },
      {
        "from": "gpt",
        "value": "SL Change Order Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMGetModuleAttachments do?"
      },
      {
        "from": "gpt",
        "value": "> Created: 05/24/07 JonathanP - Returns a result set of all the AttachmentIDs in HQAT for the given module list. History: 06/14/07 JonathanP - added \"and UnqiueAttchID is not null\" to the where clause to not include records that have a null UniqueAttchID. 03/27/08 JonathanP - added \"and CurrentState = 'A'\" to the where clause to only include attached attachments. Inputs: @modulelist - should have this format: \"AP,EM\"\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRBasisOnDednLiabCodeCheckboxVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the \"Basis on Deduction/Liability Code\" checkbox setting for a payroll liability code in the PR module. It ensures the code is not in active use as a basis code when disabling the checkbox ('N') and prevents assigning a liability basis to a code that already has one when enabling it ('Y'). Returns an error message and 1 on validation failure, or 0 on success, enforcing data integrity in payroll deduction calculations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSLAddonValAndCalc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Service Ledger (SL) addon for a Project Management (PM) project and calculates the addon amount based on the record type (@rectype: 'O' for original from unbilled SL items, 'A' for approved from ACO commitments, 'P' for pending/fixed from PCO commitments). It retrieves addon details (type, percentage, phase, cost type, description) from SLAD, sums eligible unbilled costs from PMSL and SLIT (ItemType 1/2, non-interfaced), and computes the addon as a percentage of those costs or commitment amounts—skipping if addon type is absolute ('A'). Key business rules include excluding interfaced items to avoid double-counting, supporting percentage-based markups, and handling fixed/pending PCO logic; errors are raised for missing PM data or invalid addons."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspRequiredCraftVal do?"
      },
      {
        "from": "gpt",
        "value": "bspRequiredCraftVal validates a provided craft code by first checking if it is null and then querying the PRCM table for its existence. If invalid (null or not found), it sets an error message in the output parameter and returns 1; otherwise, it outputs the craft's description and returns 0. It is used in Viewpoint ERP to enforce valid craft inputs for processes like project requirements or labor tracking.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSMX view?"
      },
      {
        "from": "gpt",
        "value": "The MSMX view (Module: MS) contains: MSCo, Mth, BatchId, BatchSeq, MiscDistCode, Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvMSNumericTicket"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvMSNumericTicket: MSCo (bCompany, not null); CoName (varchar, nullable); Ticket (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQBEInsert do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure logs errors encountered during headquarters (HQ) batch processing by inserting a sequenced error record into the bHQBE table, keyed by company, month, and batch ID. It prevents duplicate entries for identical errors and uses retry logic (up to 9 attempts) with transactions to ensure reliable insertion despite concurrency issues. The output parameter provides success confirmation or error details for the calling process."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IM Template Header\n\nContext: Viewpoint Vista database, view IMTH"
      },
      {
        "from": "gpt",
        "value": "SELECT bIMTH.*\nFROM dbo.bIMTH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMWP view?"
      },
      {
        "from": "gpt",
        "value": "The EMWP view (Module: EM) contains: EMCo, WorkOrder, WOItem, MatlGroup, Material, Equipment, EMGroup, PartsStatusCode, InvLoc, Description, UM, QtyNeeded, PSFlag, Required, INCo... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPHBInsertExistingTrans do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure inserts existing Accounts Payable (AP) transactions (invoices, payments, etc.) from open batches into a target hold batch (bAPHB) for a specified company, month, and batch ID. It applies filters for batch ID, transaction ID, vendor, pay control, pay category, and invoice date range to selectively pull eligible transactions, optionally including detail lines and marking source batches for deletion. Output parameters track added transaction count and any errors, supporting batch consolidation or correction workflows."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AR Customer Master\n\nContext: Viewpoint Vista database, view ARCM"
      },
      {
        "from": "gpt",
        "value": "SELECT bARCM.*\nFROM dbo.bARCM;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VSBH view?"
      },
      {
        "from": "gpt",
        "value": "The VSBH view (Module: VS) contains: BatchId, Description, CreatedDate, CreatedBy, InUseBy, Restricted, AttachmentTypeID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRWE table?"
      },
      {
        "from": "gpt",
        "value": "The bPRWE table (Module: PR) contains: PRCo, TaxYear, Employee, SSN, FirstName, MidName, LastName, Suffix, LocAddress, DelAddress, City, State, Zip, ZipExt, TaxState... (32 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMUR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMUR: EMCo (bCompany, not null); RulesTable (varchar, not null); Description (bDesc, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMDocumentSubmittalRevVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a document submittal or submittal package revision in Project Management by first confirming the document type exists and its category (SBMTL or SBMTLPCKG), then retrieves the description and status for the specified project, document, and optional revision. It populates output parameters with the details or error messages if validations fail, ensuring data integrity before submittal-related operations. The procedure sets a return code to indicate success (0) or failure (1)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from DDDTShared.\n\nContext: Viewpoint Vista database, view DDDTSecurable"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    Datatype,\n    Description,\n    InputType,\n    InputMask,\n    InputLength,\n    Prec,\n    Secure,\n    DfltSecurityGroup,\n    Label,\n    MasterTable,\n    MasterColumn,\n    QualifierColumn,\n    Lookup,\n    SetupForm,\n    ReportLookup,\n    SQLDatatype,\n    ReportOnly\nFROM dbo.DDDTShared WITH (nolock)\nWHERE Datatype IN ('bAPCo', 'bARCo', 'bCMCo', 'bEMCo', 'bGLCo', 'bHQCo',\n'bINCo', 'bJCCo', 'bMSCo', 'bPOCo', 'bPRCo', 'bSLCo', 'bCMAcct', 'bEmployee',\n'bContract', 'bJob', 'bLoc','bHRRef','bJBCo', 'bHRCo', 'bPMCo', 'bSMCo');"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvVATemplateSecurity view?"
      },
      {
        "from": "gpt",
        "value": "This report validation view consolidates security access details for VA Canvas Templates per company, distinguishing individual user access from security group access via a UNION ALL structure. It maps template permissions to user or group names with full names and defaults unspecified company names to 'ALL Companies'."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_YTT23 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the Year-To-Date (YTD) Basic Personal Amount (BPAYT) tax credit for Canadian payroll in tax year 2023, factoring in income thresholds, CPP/QPP contributions, EI premiums, and Quebec-specific rates (QPP vs. CPP). It outputs the computed amount (@calcamt) and handles eligibility based on pay periods, net income, and hardcoded CRA thresholds/rates (e.g., $15,000 standard amount, $165,430/$235,675 thresholds). Additional variables support related deductions like health premiums (HD) and eligibility factors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkCompleted with ARTL in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkCompleted with ARTL, use:\n\n```sql\nFROM SMWorkCompleted\nINNER JOIN ARTL\n  ON SMWorkCompleted.SMWorkCompletedID = ARTL.SMWorkCompletedID\n```\n\nThis pattern is used in the vrvARInvoiceAttach view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGrantFMAccess do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure grants SELECT (read-only) permissions on a predefined list of core Viewpoint Vista tables—primarily from GL (General Ledger) and JC (Job Cost) modules, plus a few others—to the database principal 'FMETL' (likely Field Management ETL or integration account). It enables secure, automated data extraction for reporting, integration, or field management without broader database access. The procedure uses dynamic SQL via a cursor for bulk granting, ensuring consistent permissions across financial and job-related tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRDP"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRDP: HRCo (bCompany, not null); HRRef (bHRRef, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vw_FlexStagebGLBD_exp1"
      },
      {
        "from": "gpt",
        "value": "Key columns in vw_FlexStagebGLBD_exp1: BudgetCode (varchar, nullable); GLCo (varchar, nullable); GLAcct (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the UDVHLookup view?"
      },
      {
        "from": "gpt",
        "value": "The UDVHLookup view (Module: UD) contains: ValProc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMTemplateOtherDelimVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a user-specified \"other delimiter\" character for data import templates in the IM (Inventory or Import) module. It checks if the input is null or a single character matching forbidden predefined delimiters (pipe '|', space, comma ',', semicolon ';', tab), returning an error code (1) and message via @msg if invalid, or success (0) if valid. The final message encourages using predefined options for non-standard delimiters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMTechnicianWorkCompletedVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Service Management (SM) technician's work completion entry for integration with Payroll (PR) and Job Cost (JC), mapping the technician to an employee, retrieving payroll details (shift, earn code, craft, class), and confirming timesheet access to the associated work order's job. It supports posting technician time/costs only if all validations pass, returning populated output parameters or an error message. Primarily handles LineType=2 (likely equipment/inventory-related lines)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPReportSecurityByUser do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure determines a user's access rights to a specific report in Viewpoint Vista's reporting system (RP module) for a given company. It checks direct user permissions (company-specific via Co=@co, then global via Co=-1), falling back to the minimum access level from the user's security groups via vDDSU join if no direct match. Outputs access level (1=granted; 0/2=denied/no access) or error messages for invalid inputs, non-existent reports, or explicit denials."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQRV view?"
      },
      {
        "from": "gpt",
        "value": "The HQRV view (Module: HQ) contains: Reviewer, Name, UniqueAttchID, RevEmail, KeyID, Active, ApproveWithoutData"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSHBInsertExistingTrans do?"
      },
      {
        "from": "gpt",
        "value": "This SP adds an existing haul transaction (identified by FreightBill or HaulTrans) from the MSHH header table to an open Material Sales Hauling batch, inserting a copy into the batch header table bMSHB (and likely lines into bMSLB). It supports batch processing by staging unbatched haul bills for posting, while incorporating user-defined memo fields and preserving original transaction details like vendor, equipment, and employee data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWOInvoiceDescriptionWorkOptionsCustomer table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWOInvoiceDescriptionWorkOptionsCustomer table (Module: SM) contains: SMWOInvoiceDescriptionWorkOptionsCustomerID, SMCo, CustGroup, Customer, Field, Select, CustomLabelName, SortOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMTechnician with SMTrip in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMTechnician with SMTrip, use:\n\n```sql\nFROM SMTechnician\nINNER JOIN JOIN SMTrip\n  ON SMTechnician.SMCo = SMTrip.SMCo AND SMTechnician.Technician = SMTrip.Technician\n```\n\nThis pattern is used in the vrvSMWorkOrderCountByTechnician view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view extends service management work order quote data by adding a computed Status field ('A' for approved, 'C' for canceled, 'N' for neither) based on DateApproved and DateCanceled flags. It deli\n\nContext: Viewpoint Vista database, view SMWorkOrderQuoteExt"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMWorkOrderQuote.*, CASE\n    WHEN (vSMWorkOrderQuote.DateCanceled IS NULL AND vSMWorkOrderQuote.DateApproved IS NOT NULL) THEN 'A'\n    WHEN (vSMWorkOrderQuote.DateCanceled IS NOT NULL AND vSMWorkOrderQuote.DateApproved IS NULL) THEN 'C'\n    ELSE 'N' END AS Status\nFROM dbo.vSMWorkOrderQuote;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCAReturnT4SlipsToPopulateDetail do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates detailed data for populating T4 tax slips (Canadian employee income tax summaries) for a specified company and tax year in Viewpoint Vista's Canadian Payroll (PRCA) module. It aggregates payroll amounts into federal and provincial T4 boxes (e.g., Box 14 Wages, Box 16 CPP Contributions, Box 22 Income Tax, EI, RPP, union dues, etc.) per employee, handling provincial wage ratios and splits between employment province and federal totals. Results are stored in a temporary table for use in T4 slip printing, reporting, or filing with the Canada Revenue Agency (CRA)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMEMUsageBatchPosting do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts batches of Service Management (SM) Equipment Management (EM) usage transactions, first delegating core batch posting to HQ (detail-level GL/job costing) via `vspHQBatchPosting`, then linking posted HQ cost details back to SM Work Completed records. It conditionally prepares EM interface postings if enabled for the company, ensuring equipment usage from service work orders flows into GL distributions, job costs, and EM tracking. Output includes any error messages and a return code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCCIValWithDept do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates and retrieves the Department and Description for a specified Job Cost Company (JCCo), Contract, and Contract Item from the bJCCI table in Viewpoint Vista ERP. It first checks for missing input parameters, then queries the table and outputs the results or an error message with return code 1 if no matching record exists. Used to ensure contract items have associated department data in job costing workflows, returning success code 0 on valid lookup.\n\nThis stored procedure retrieves the department code and description for a specified JC company, contract, and contract item from the bJCCI table in Viewpoint Vista's job cost system. It validates that all input parameters (@jcco, @contract, @item) are provided and that a matching record exists; if not, it outputs an error message via @msg and returns failure code 1. On success, it populates @dept with the department and @msg with the description, returning 0 to confirm valid data retrieval for contract item processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This batch report view combines project management estimated costs from detail lines (including units, hours, unit costs, and totals) linked to accounting orders (ACO) and ready for interface (SendYN=\n\nContext: Viewpoint Vista database, view brvPMEstCo"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PMOL.PMCo,\n    PMOL.Project,\n    PMOL.ACO,\n    PMOL.ACOItem,\n    PMOL.Phase,\n    PMOL.CostType,\n    PMOL.EstUnits,\n    PMOL.UM,\n    PMOL.UnitHours,\n    PMOL.EstHours,\n    PMOL.HourCost,\n    PMOL.UnitCost,\n    PMOL.ECM,\n    PMOL.EstCost\nFROM dbo.PMOL\nWHERE PMOL.ACO IS NOT NULL AND PMOL.SendYN = 'Y' AND PMOL.InterfacedDate IS NULL\n    UNION ALL\n    SELECT DISTINCT PMOI.PMCo,PMOI.Project,PMOI.ACO,PMOI.ACOItem,PMPA.Phase,PMPA.CostType,\n    0,NULL,0,0,0,0,'Add ON',PMOA.AddOnAmount\nFROM dbo.PMOI\nLEFT JOIN dbo.PMOA ON PMOI.PMCo = PMOA.PMCo AND PMOI.Project = PMOA.Project\n    AND PMOI.PCO = PMOA.PCO AND PMOI.PCOItem = PMOA.PCOItem AND PMOI.PCOType = PMOA.PCOType\nLEFT JOIN dbo.PMPA ON PMOA.PMCo = PMPA.PMCo AND PMOA.Project = PMPA.Project AND PMOA.AddOn = PMPA.AddOn\n    AND PMPA.Phase IS NOT NULL\nWHERE PMOA.Status <> 'Y' AND PMPA.Phase IS NOT NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedEMCompanyVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 3/15/11\n> Description:\tValidates that the EM company is valid and that the GL month used for posting is valid\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT092 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNDT092 calculates per-pay-period North Dakota state income tax withholding based on progressive brackets. It annualizes gross subject amount by pay periods per year (@ppds), subtracts exemptions (@exempts * $3650 allowance), determines bracket parameters (base tax, limit, marginal rate) by filing status ('S' single or 'M' married), computes annual tax, and divides by @ppds to output the withholding amount (@amt). Used in Viewpoint payroll for accurate ND state tax deductions, with error handling for invalid inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_BCT17 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates British Columbia (BC) provincial income tax withholding for payroll, applying tiered tax rates to annual income (@A), subtracting credits for personal exemptions (@KP, @K1P, @K2P, @K3P), CPP/EI contributions, and low-income reductions (@S, @LCP) to compute net tax (@T2, ultimately output via @calcamt). It uses hardcoded tax brackets, rates (e.g., 5.06%-14.70%), and defaults (e.g., @TCP=10208) specific to BC tax rules, likely for a given year like T4 slip reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREFTProcessCheck do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates parameters for initiating EFT (Electronic Funds Transfer) payroll payment processing for checks in a specific company, pay group, period end date, optional payment sequence, and employee sort name range. It checks for an open pay period, valid payment sequence, and existence of unpaid EFT-eligible employees (PayMethod='E', no CMRef), setting an error message and returning 1 on failure. If valid, it proceeds to select top eligible employees from bPRSQ/PREH for EFT batch processing (SQL cuts off at SELECT TOP)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROKT03 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates provincial income tax withholding (likely Ontario, Canada, based on brackets and exemptions) for payroll, using subject pay amount, pay periods per year, employee status (e.g., 'S' single, 'M' married, 'H' head of household), and exemptions. It annualizes wages (capped at $22,560), applies standard/personal deductions with progressive rates, subtracts exemptions/deductions, and determines final tax via bracketed additions/rates output to @amt. Errors (e.g., missing pay periods, negative tax base) set @msg and exit early."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCProgressLinkCT form?"
      },
      {
        "from": "gpt",
        "value": "The JCProgressLinkCT form includes these fields: Mth, BatchId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvJCContStat view?"
      },
      {
        "from": "gpt",
        "value": "The brvJCContStat view (Module: JC) contains: JCCo, Contract, Item, ProjMth, Mth, OrigContractAmt, OrigContractUnits, OrigUnitPrice, ContractAmt, ContractUnits, CurrentUnitPrice, BilledUnits, BilledAmt, ReceivedAmt, CurrentRetainAmt... (35 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Monthly Costs\n\nContext: Viewpoint Vista database, view EMMC"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMMC.*\nFROM dbo.bEMMC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRUP view?"
      },
      {
        "from": "gpt",
        "value": "PR User Posting Options"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMWD table?"
      },
      {
        "from": "gpt",
        "value": "The bPMWD table (Module: PM) contains: ImportId, Sequence, Item, PhaseGroup, Phase, CostType, UM, BillFlag, ItemUnitFlag, PhaseUnitFlag, Hours, Units, Costs, ImportItem, ImportPhase... (27 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPGridQueriesc"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPGridQueriesc: QueryName (varchar, not null); QueryTitle (varchar, nullable); QueryDescription (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvEMRevandCost view?"
      },
      {
        "from": "gpt",
        "value": "The brvEMRevandCost view (Module: EM) contains: Type, EMCo, Category, CatDesc, EMGroup, Equipment, EquipDesc, Month, FiscalPeriod, FiscalYear, RevCode, Department, RevCodeDesc, RevTimeUM, RevAvailableHrs... (29 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFNFRemoveGroupRecord do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tCC\n> Create date: 3/5/2008\n> Description:\tRemoves records for notifier email groupings\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRCA view?"
      },
      {
        "from": "gpt",
        "value": "PR Craft Accumulations"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspPhase do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMOI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMOI: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAPVendorCompares"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAPVendorCompares: Vendor1Group (bGroup, nullable); Vendor1 (bVendor, nullable); Vendor2Group (bGroup, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join EMJT with EMTC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join EMJT with EMTC, use:\n\n```sql\nFROM EMJT\nINNER JOIN EMTC\n  ON EMJT.RevTemplate = EMTC.RevTemplate\n```\n\nThis pattern is used in the vrvPRFlash view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPRMShared"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPRMShared: Mod (char, nullable); ReportID (int, nullable); MenuSeq (smallint, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRPayPdControlAFC form?"
      },
      {
        "from": "gpt",
        "value": "The PRPayPdControlAFC form includes these fields: Frequency, PRGroup, PREndDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: detail of vPRAUEmployeeByDate\n\nContext: Viewpoint Vista database, view PRAUEmployeeETPByDLCode"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAUEmployeeETPByDLCode.*\nFROM dbo.vPRAUEmployeeETPByDLCode;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.vDrawing table?"
      },
      {
        "from": "gpt",
        "value": "The api.vDrawing table (Module: Other) contains: GlobalDrawingId, Description, BusinessUnitId, ProjectId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMTemplateCopyDestVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the destination import template name prior to copying in Viewpoint Vista's IM module. It checks if @desttemplate is provided and does not already exist in the IMTH table, returning success code 0 and setting @msg to the template name if valid, or error code 1 with an appropriate message otherwise. It ensures safe copy operations by preventing overwrites and missing targets.\n\nThis stored procedure validates the destination template name prior to copying an Import Module (IM) template. It ensures @desttemplate is provided and does not already exist in the IMTH table, returning an error code (1) and message if invalid. On success, it sets the output message to the destination name and returns code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMServiceSiteContact"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMServiceSiteContact: SMServiceSiteContactID (int, not null); SMCo (bCompany, not null); ServiceSite (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the AuditTables view?"
      },
      {
        "from": "gpt",
        "value": "The AuditTables view (Module: Other) contains: TableName, SchemaName, KeyID, LogTable, DefaultCompany, LogOnlyKeyOnInsert, LogOnlyKeyOnDelete, AuditColumn, AbortContext"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCopySecuritySettings do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAL vspCopySecuritySettings\n> Create date: 9/5/07\n> Modified : 11/6/07 Added fix that caused 'Group access cannot be set to 2-denied' to\n> to be returned when copying from user to user\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDALAudit"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDALAudit: DateTime (datetime, not null); HostName (varchar, nullable); UserName (bVPUserName, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPORBPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts a batch of purchase order receipts (PORB records) to update PO headers/items (commitments, backorders), inventory quantities/costs (bINMT), job cost postings (bJCCP), and related receipt tables (bPORA, bPORD, etc.). Handles receipt details like received units/costs, backordered amounts, receiver numbers, and invoiced flags, while propagating changes to PO status, inventory on-order, and JC commitments. Calls batch posting framework (vspHQBatchPosting) to mark PORB as posted and log errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCTT98 do?"
      },
      {
        "from": "gpt",
        "value": "Computes annualized subject wages, applies filing status-specific personal exemptions (Single 'S', Head of Household 'H', Married 'M') that taper at higher incomes, deducts exemptions to get taxable income, then applies a progressive tax rate (3% up to a status-specific limit, 4.5% thereafter) to calculate state/local income tax withholding amount per pay period. Also derives personal tax credits (@pcredits) for Single filers in income bands (unused in output). Outputs withholding (@amt) or error message (@msg) if pay periods missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMPartsCopy form?"
      },
      {
        "from": "gpt",
        "value": "The EMPartsCopy form includes these fields: Copy From Equipment, Copy to Option, Category, Begining Equip, Ending Equipment, Update Option, Range"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Date range query not using index\n\nSELECT * FROM GLDT WITH (NOLOCK) WHERE YEAR(ActDate) = 2024"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT * FROM GLDT WITH (NOLOCK)\nWHERE ActDate >= '2024-01-01' AND ActDate < '2025-01-01'\n```\n\nOptimization tip: Avoid functions on columns in WHERE clause - they prevent index usage. Use range comparisons instead."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMRFIResponseAddRFIContact do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure adds a new RFI (Request for Information) recipient contact record or updates an existing one in the PMRD (RFI Distribution) table for a specific project, RFI, firm, and contact. It tracks key dates (sent, required response, received) and sets flags like CC='N' (not carbon copy), Send='Y' (on insert), and preferred send method from vendor preferences. The purpose is to manage RFI distribution lists in construction projects, ensuring accurate logging of communications to subcontractors or vendors without duplicates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvJCCostRevenue view?"
      },
      {
        "from": "gpt",
        "value": "The brvJCCostRevenue view (Module: JC) contains: JCCo, Contract, Item, ProjMth, Mth, OrigContractAmt, OrigContractUnits, OrigUnitPrice, ContractAmt, ContractUnits, CurrentUnitPrice, BilledUnits, BilledAmt, ReceivedAmt, CurrentRetainAmt... (45 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This batch report view maps GL accounts for equipment depreciation expenses by department, pulling the primary depreciation account from master data and specific expense accounts from cost code and co\n\nContext: Viewpoint Vista database, view brvEMDeprExpAcct"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMCO=EMDM.EMCo,\n    Dept=EMDM.Department,\n    GLCo=EMDM.GLCo,\n    EMDM.DepreciationAcct,\n    EMDOCostCode.CostCode,\n    EMDGCostType.CostType,\n    EMDOAcct=EMDOCostCode.GLAcct,\n    EMDGAcct=EMDGCostType.GLAcct\nFROM EMDM\nLEFT JOIN (SELECT EMDO.EMCo, EMDO.Department, EMDO.CostCode, EMDO.EMGroup, EMDO.GLCo, EMDO.GLAcct\nFROM EMDO\nINNER JOIN EMCO ON EMDO.EMCo=EMCO.EMCo AND EMDO.EMGroup=EMCO.EMGroup AND EMCO.DeprCostCode=EMDO.CostCode) AS\n    EMDOCostCode ON EMDOCostCode.EMCo=EMDM.EMCo AND EMDOCostCode.Department=EMDM.Department\nLEFT JOIN (SELECT EMDG.EMCo, EMDG.Department, EMDG.CostType,EMDG.EMGroup,EMDG.GLCo, EMDG.GLAcct\nFROM EMDG\nINNER JOIN EMCO ON EMDG.EMCo=EMCO.EMCo AND EMDG.EMGroup=EMCO.EMGroup\n    AND EMCO.DeprCostType=EMDG.CostType) AS\n    EMDGCostType ON EMDGCostType.EMCo=EMDM.EMCo AND EMDGCostType.Department=EMDM.Department;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRCompAssetGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves currently checked-out assets for a specified HR company (@hrco) and reference (@hrref), selecting asset codes, descriptions, checkout dates, and memos. It is used to populate a grid in the Viewpoint Vista HR Compensation Asset module for viewing active asset assignments. Key operations include joining HRTA (asset transactions) and HRCA (asset catalog) tables with a filter for DateIn IS NULL.\n\nThis stored procedure retrieves currently checked-out company assets for a specific HR reference and company, populating a grid with asset details. It joins the HRTA transaction table with the HRCA asset catalog to select Asset, AssetDesc, DateOut, and MemoOut, filtering where DateIn IS NULL to identify active assignments. It is used in Viewpoint Vista's HR module for displaying employee or compensation-related asset assignments in a user interface grid.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the FlexData table?"
      },
      {
        "from": "gpt",
        "value": "The FlexData table (Module: Other) contains: ID, Name, LastSavedDate, CreatedDate, LastUserSaved, HasHeaders, DeletedDate, LongName, UserCreated, ReadOnly, IsView, Locked, FilePath, FileName, SheetName... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INBM view?"
      },
      {
        "from": "gpt",
        "value": "IN Bill of Materials Detail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APOnCostWorkFileHeader view?"
      },
      {
        "from": "gpt",
        "value": "The APOnCostWorkFileHeader view (Module: AP) contains: KeyID, APCo, Mth, APTrans, UserID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "The vspHRLoadProc stored procedure validates an input HR company code (@hrco) and retrieves the default country for that company. It first checks if @hrco is null or missing from the HRCO table, outputting an error message and return code 1 if invalid; otherwise, it selects the DefaultCountry from the HQCO table into the @defaultcountry output parameter and returns code 0. This procedure serves as an initial setup validation in HR workflows to confirm company configuration before loading or processing HR data.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the WFChecklist form?"
      },
      {
        "from": "gpt",
        "value": "The WFChecklist form includes these fields: Checklist, Status code number, Enforce steps/tasks in order, Use email for item start, Is checklist private, Checklist description., Req. Completion, Date completed, Added By, AddedOn"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vRPTYc table?"
      },
      {
        "from": "gpt",
        "value": "The vRPTYc table (Module: RP) contains: ReportType, Description, Active"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMPCOSItemsAddons form?"
      },
      {
        "from": "gpt",
        "value": "The PMPCOSItemsAddons form includes these fields: AddOn, TotalType, Include, Basis, Add-On Percent, AddOnAmount, Project, Calculation level, Equivalent Rate, Default PMPA Percent"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCX"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCX: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMServiceItemPart"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMServiceItemPart: ServiceItemPartID (int, not null); SMCo (bCompany, not null); ServiceSite (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvAPTL_DistinctPO"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvAPTL_DistinctPO: APCo (bCompany, not null); PO (varchar, nullable); POItem (bItem, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPMDistribution"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPMDistribution: KeyID (bigint, not null); Seq (bigint, not null); VendorGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the QADetailItems form?"
      },
      {
        "from": "gpt",
        "value": "The QADetailItems form includes these fields: Record Number"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMGeneratePMWOSummary view?"
      },
      {
        "from": "gpt",
        "value": "SMGeneratePMWOSummary"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join bAPPT with bGLDT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join bAPPT with bGLDT, use:\n\n```sql\nFROM bAPPT\nINNER JOIN bGLDT\n  ON bAPPT.GLCo = bGLDT.GLCo\n```\n\nThis pattern is used in the vrvAPRec_APEntry view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPMProjectDefaultDocumentDistribution"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPMProjectDefaultDocumentDistribution: DocCategory (bDocType, not null); DocType (varchar, nullable); ContactKeyID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Responsible Firm\n\nContext: Viewpoint Vista database, view PMFMResp"
      },
      {
        "from": "gpt",
        "value": "SELECT PMFM.*\nFROM dbo.PMFM;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PORA view?"
      },
      {
        "from": "gpt",
        "value": "PO Receipts JC Dist Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRJC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRJC: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOClearFixedAmounts do?"
      },
      {
        "from": "gpt",
        "value": "This SP checks a Potential Change Order (PCO) in the PM module to see if it has non-fixed-amount details (e.g., units >0, unit prices >0, non-zero fixed amounts, contract items, add-on percentages >0, or markups >0) in PMOI (items), PMOA (add-ons), or PMOM (markups). If `@clearAmounts='Y'` and details exist, it updates batch tables (bPMOI, etc.) to reset them to fixed lump sum mode (FixedAmountYN='Y', amounts=0, UM='LS'). Outputs flags for clearing needed (`@amountsToClear`), check status (`@alreadyChecked`), completion (`@complete`), and errors (`@msg`)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMImportIdDelete do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMImportIdDelete stored procedure deletes all records from the PMWH table matching a specified company (PMCo) and ImportId, used in Viewpoint Vista ERP's Project Management module to remove entire import batches from staging data after processing or error correction. It validates that the ImportId is provided, setting an error message and return code if missing. Key operations include parameter checks, a targeted DELETE statement, and returning a success/error code.\n\nThe bspPMImportIdDelete stored procedure deletes records from the PMWH table (likely a Project Management warehouse or staging table) for a specified company (PMCo) and ImportId. It is used in Viewpoint Vista ERP to clean up imported PM data after processing or to remove failed imports. Key operations include validating that ImportId is provided (returning an error message and code 1 if missing), executing the DELETE statement, and returning a success/error code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementBillingAllocation form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementBillingAllocation form includes these fields: Agreement, Version, Billing Allocation, ARCo, Tax Type, Tax Code, Tax Basis Percent, Tax Group, Billing Start Date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INLS"
      },
      {
        "from": "gpt",
        "value": "Key columns in INLS: INCo (bCompany, not null); Loc (bLoc, not null); Co (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDFormTabInsert do?"
      },
      {
        "from": "gpt",
        "value": "The vspDDFormTabInsert stored procedure adds a new tab to a specified form in Viewpoint Vista's Dynamic Data Forms (DDF) configuration. It determines the next available tab ID by finding the maximum from vDDFTc (ensuring at least 100), calculates the next load sequence from DDFTShared, and inserts the form, tab, title, and load sequence into vDDFTc. This supports dynamic form extension and tab management for customized user interfaces.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDAL"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDAL: DateTime (datetime, not null); HostName (varchar, nullable); UserName (bVPUserName, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAFSAPIResourceSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure enforces security for VAFS API operations by validating user permissions against specific resources and actions (GET, POST, PUT, DELETE, PATCH) in Viewpoint Vista. It categorizes actions as read (GET) or write operations, then checks form-level access (e.g., PMDocLocations for create/send resources) via sub-procedures, returning access codes (default 4 = denied) to authorize or block API requests. Primarily targets Project Management document workflows to prevent unauthorized creates, updates, or deletes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Batch.vParticipant table?"
      },
      {
        "from": "gpt",
        "value": "The Batch.vParticipant table (Module: Other) contains: ParticipantId, FirstName, LastName, Email, DisplayName, Title, CompanyName, CompanyNumber, DocumentId, Status, DocumentRoleTypeId, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRUpdatePostAccums do?"
      },
      {
        "from": "gpt",
        "value": "Updates posted payroll accumulators (e.g., YTD hours, amounts, overtime, eligible pay) for processed employee payroll sequences in a specific company, group, and pay period. Handles country-specific logic first (Canada via vspPRCAUpdatePostAccumsDetail, Australia via vspPRAUUpdatePostAccumsDetail) before cursor-based processing of employee pay sequences from bPRSQ, pulling details to recalculate/post accumulations in tables like bPREA. Ensures accurate running totals post-payroll for reporting/taxes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCOHTotals view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates contract revenue from JCOI and estimated overhead costs from JCOD at the company, job, and ACO level, computing total profit as revenue minus estimated cost and markup as profit divided by estimated cost."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMOP table?"
      },
      {
        "from": "gpt",
        "value": "The bPMOP table (Module: PM) contains: PMCo, Project, PCOType, PCO, Description, Issue, Contract, PendingStatus, Date1, Date2, Date3, ApprovalDate, Notes, UniqueAttchID, IntExt... (32 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBTMBillLineTickets"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBTMBillLineTickets: JBCo (bCompany, not null); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APEFT form?"
      },
      {
        "from": "gpt",
        "value": "The APEFT form includes these fields: Month, Batch ID, AP CM Account (Virtual), CM Acct, CSCMAcctYN, CredServ CM Acct Overwrite, Rerun batch?, CMRef to assign, Description, EFT Date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RQRR view?"
      },
      {
        "from": "gpt",
        "value": "The RQRR view (Module: RQ) contains: RQCo, Reviewer, RQID, RQLine, AssignedDate, ReviewDate, Status, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPRW2 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates aggregated payroll data formatted for IRS Form W-2 reporting, capturing federal wages/taxes, Social Security/Medicare amounts, tips, EIC advances, Box 12 codes/amounts (e.g., deferrals, fringes), and multi-state/local wages/taxes/misc items for a company and tax year. It populates temp tables (#W2Data, #EmpState) with employee-specific totals from payroll history, supporting W-2 printing, electronic filing (e.g., SSA magnetic media), or previews. Filters allow selection by employee ID range or alpha name range, with @RptType controlling output format (e.g., 'S' for summary/detail)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APRLGrid view?"
      },
      {
        "from": "gpt",
        "value": "The APRLGrid view (Module: AP) contains: APCo, VendorGroup, Vendor, InvId, Line, LineType, Description, UM, GrossAmt, MiscAmt, TaxAmt, Retainage, Discount, Total"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Dept Override by Earn Type\n\nContext: Viewpoint Vista database, view EMDE"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMDE.*\nFROM dbo.bEMDE;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Compare wizard-created field (udTestField) with SQL-created fields\n\nModule: Unknown"
      },
      {
        "from": "gpt",
        "value": "/*******************************************************************************\n * METADATA COMPARISON: udTestField vs udBill* Fields\n * \n * Purpose: Compare wizard-created field (udTestField) with SQL-created fields\n *          to identify metadata differences preventing grid display\n * \n * Date: 2025-10-16\n ******************************************************************************/\n\nUSE Viewpoint;\nGO\n\nSET NOCOUNT ON;\n\nPRINT '============================================================================';\nPRINT 'SIDE-BY-SIDE METADATA COMPARISON';\nPRINT '============================================================================';\nPRINT '';\nPRINT 'Comparing:';\nPRINT '  - udTestField (WORKING - created by wizard)';\nPRINT '  - udBillMonth, udBillInvoice, udBillNumber (NOT WORKING - created by SQL)';\nPRINT '';\nPRINT '============================================================================';\nPRINT '';\n\nSELECT \n    ColumnName,\n    Form,\n    Seq,\n    ViewName,\n    Label,\n    Description,\n    Datatype,\n    InputType,\n    InputMask,\n    InputLength,\n    Prec,\n    ControlType,\n    ControlPosition,\n    FieldType,\n    DefaultType,\n    DefaultValue,\n    Tab,\n    TabIndex,\n    ShowForm,\n    ShowGrid,\n    GridCol,\n    GridColHeading,\n    ColWidth,\n    Req,\n    InputSkip,\n    ActiveLookup,\n    LookupParams,\n    ComboType,\n    ValProc,\n    ValParams,\n    ValLevel,\n    UpdateGroup,\n    AutoSeqType,\n    MinValue,\n    MaxValue,\n    ValExpression,\n    ValExpError,\n    HeaderLinkSeq,\n    CustomControlSize,\n    Computed,\n    ShowDesc,\n    DescriptionColWidth,\n    IsFormFilter,\n    ExcludeFromAggregation,\n    MaskText,\n    DisableInput,\n    ShowInSearchLabel,\n    OverrideStdDefaultYN,\n    LoadOnDemand,\n    MappedColumnNameToSource,\n    TimeStampNotesYN\nFROM vDDFIc \nWHERE Form = 'APEntryDetail' \n  AND ColumnName IN ('udTestField', 'udBillMonth', 'udBillInvoice', 'udBillNumber')\nORDER BY \n    CASE ColumnName \n        WHEN 'udTestField' THEN 1 \n        WHEN 'udBillMonth' THEN 2 \n        WHEN 'udBillInvoice' THEN 3 \n        WHEN 'udBillNumber' THEN 4 \n    END;\n\nPRINT '';\nPRINT '============================================================================';\nPRINT 'KEY DIFFERENCES ANALYSIS';\nPRINT '============================================================================';\nPRINT '';\n\nSELECT \n    ColumnName,\n    Tab,\n    TabIndex,\n    GridCol,\n    GridColHeading,\n    ColWidth,\n    ControlType,\n    InputType,\n    ShowGrid,\n    ShowForm,\n    Seq\nFROM vDDFIc \nWHERE Form = 'APEntryDetail' \n  AND ColumnName IN ('udTestField', 'udBillMonth', 'udBillInvoice', 'udBillNumber')\nORDER BY \n    CASE ColumnName \n        WHEN 'udTestField' THEN 1 \n        WHEN 'udBillMonth' THEN 2 \n        WHEN 'udBillInvoice' THEN 3 \n        WHEN 'udBillNumber' THEN 4 \n    END;\n\nPRINT '';\nPRINT '============================================================================';\nPRINT 'NULL VALUE CHECK';\nPRINT '============================================================================';\nPRINT '';\n\nSE"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMWorkOrderQuoteScope view?"
      },
      {
        "from": "gpt",
        "value": "SM Work Order Quote Scope"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedAPUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates Accounts Payable transaction lines (bAPTL) with Service Management (SM) cost types from linked PO item lines and calculates prorated amounts (units, costs, gross, tax basis, tax) from associated SM Work Completed records for a specific PO item line. It populates a table variable with distributable amounts based on percent complete (quantity or projected cost), enabling integration of field/service work completion data into AP for accurate costing and tax handling. Primarily supports SM-to-AP cost flow, potentially for job costing or invoicing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_FWT14 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates Canadian Federal Withholding Tax (FWT) for payroll based on 2014 tax brackets (15-29%), starting from annualized taxable income (@ppds * @calcbasis minus personal exemptions @HD/@F1). It applies credits/deductions for basic TC (tax credit), CPP/EI contributions (with caps), stock options (@capstock up to $750 credit), and other factors like @K3, then prorates the net tax (@calcamt) per pay period; Quebec is handled differently, and non-resident aliens get no TC credit."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMDefaultFirstCompany do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the smallest positive HQCo from the HQCO table and assigns it to the output parameter @hqco as the default first company. It is used in Viewpoint Vista ERP to initialize or fallback to a primary company identifier when none is specified. Key operations include a TOP 1 SELECT with NOLOCK hint, filtering HQCo > 0, and ordering by HQCo ascending, returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetSSRSReportsForGroup do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a distinct list of SSRS reports available to a specified security group in Viewpoint Vista ERP. It joins report-related views (vRPRS, vRPRL, vRPRSServer) with the RPRTShared table to return the report ID, server name, sync security flag, and title, filtered by the input @securitygroup parameter. It supports group-based report access management and UI display of permitted reports.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure cvsp_TL_Execute_JC do?"
      },
      {
        "from": "gpt",
        "value": "This SP performs a targeted cleanup of Job Cost (JC) and Project Management (PM) tables, preserving test/demo data prefixed with '99999%' on Contracts/Jobs/Projects while deleting all other records (with special handling for hardcoded Company 99 in bJCIP). It disables/enables triggers around deletes for efficiency, adds a checkpoint/delay, and executes subordinate \"TL\" (Test Loader) procedures to repopulate or process test data across JC/PM modules."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPLog.vVAVPUserRenameLog table?"
      },
      {
        "from": "gpt",
        "value": "The VPLog.vVAVPUserRenameLog table (Module: VA) contains: LogID, LogMessage, IsError, LogDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMWorkCompletedMisc"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMWorkCompletedMisc: SMWorkCompletedID (bigint, not null); IsSession (bit, not null); CostQuantity (bUnits, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the CMST form?"
      },
      {
        "from": "gpt",
        "value": "The CMST form includes these fields: CM Account, Statement Date, Beginning Balance, Working Balance, Statement Balance, Status, Prior Statement Date, Prior Status, Prior Beginning Balance, Prior Working Balance"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetProcedureDefinition do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCHPM"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCHPM: PMCo (bCompany, not null); Project (bJob, not null); JCCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from HRDL.\n\nContext: Viewpoint Vista database, view HRDLGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    HRCo,\n    HRRef,\n    State AS [LicState],\n    LicCodeType,\n    LicCode\nFROM dbo.HRDL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRAUFBTItemsInit do?"
      },
      {
        "from": "gpt",
        "value": "Initializes the PRAUEmployerFBTItems table for a new Australian tax year by copying all FBT items from the prior year (if exists), purging new-year entries for obsolete earning/deduction codes lacking current FBT flags ('FBT1'/'FBT2'), and inserting fresh FBT-relevant earning codes from PREC. Ensures the table accurately reflects active payroll codes for Fringe Benefits Tax (FBT) tracking and ATO reporting. Output @msg likely signals success/errors (though not shown in snippet)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PCForecastMonth form?"
      },
      {
        "from": "gpt",
        "value": "The PCForecastMonth form includes these fields: Period, Revenue %, Revenue Amount, Cost %, Cost Amount, Revenue Estimate, Cost Estimate, Gross Profit, Notes, Poteintial Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the frl_trx_dtl view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vfrl_trx_dtl."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQTaxRateGet do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves the effective tax rate for a specified tax group and code as of a given computation date, accounting for tax history (effective dates, old/new rates), multilevel tax cascading via links in bHQTL, and value-added tax (VAT) logic. Outputs the rate, tax phase, JC cost type, and description, or an error if invalid. Handles non-VAT (ValueAdd='N') with summed rates from linked taxes and VAT cases separately."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Maintenance Links\n\nContext: Viewpoint Vista database, view EMSL"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMSL.*\nFROM dbo.bEMSL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSII"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSII: MSCo (bCompany, not null); MSInv (varchar, not null); SoldToCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.StatusCode"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.StatusCode: GlobalEntityId (bigint, nullable); StatusCodeId (bigint, not null); StatusCodeName (bStatus, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCFieldTicketContractVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Job Cost (JC) Field Ticket against a specific company (JCCo) and contract, confirming its existence, correct contract assignment, and status within a provided list of valid statuses (e.g., Open, Approved). It retrieves the ticket's KeyID, truncated description (for messaging), and status, returning a success/failure code with user-friendly error messages for invalid cases. Primarily ensures data integrity before Field Ticket processing in construction job costing workflows."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Haul Worksheet Header\n\nContext: Viewpoint Vista database, view MSWH"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSWH.*\nFROM dbo.bMSWH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRCC with PRCT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRCC with PRCT, use:\n\n```sql\nFROM PRCC\nINNER JOIN PRCT\n  ON PRCC.PRCo = PRCT.PRCo AND PRCC.Craft = PRCT.Craft\n```\n\nThis pattern is used in the vrvPRCraftClassHierarchy view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vfrl_attr_value.\n\nContext: Viewpoint Vista database, view frl_attr_value"
      },
      {
        "from": "gpt",
        "value": "SELECT vfrl_attr_value.*\nFROM dbo.vfrl_attr_value;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Project Budget Detail\n\nContext: Viewpoint Vista database, view PMED"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMED.*\nFROM dbo.bPMED;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMDistPOCOInit do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes a distribution record for a Purchase Order Change Order (POCO) in the Project Management module by inserting a new entry into the PMDistribution (via vPMDistribution view) for a specific project, POCO, and vendor contact. It populates fields like sequence number, vendor group, preferred send method (default 'M' for mail), email option (default 'N'), and send flag ('Y'). The purpose is to set up the recipient list and delivery preferences for distributing/sending the POCO document to a vendor firm/contact."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DDCT form?"
      },
      {
        "from": "gpt",
        "value": "The DDCT form includes these fields: Culture ID, Text ID, Text for culture"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POCOSMCT view?"
      },
      {
        "from": "gpt",
        "value": "The POCOSMCT view (Module: PO) contains: POCOSMCTID, POCo, SMCo, SMCostType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptGLFinDetSelect_PC do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves detailed General Ledger (GL) account data for financial reporting, including account hierarchies, descriptions, types, segments (Parts 1-6), and summary information, filtered by company, account range, fiscal periods, optional Part2 segments, sources, journals, and detail level. It prepares a dataset via CTEs for hierarchical GL reporting (e.g., trial balance or financial details), incorporating inactive accounts if specified and using fiscal year/month offsets. Output supports formatted reports with summary account rollups."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipChangeEMEHVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates whether a specified equipment code (@equip) in a given company (@emco) is available for use in equipment master changes by checking the EMEH (Equipment Master History) table. It detects if the code is already pending as a \"NewEquipmentCode\" (target of an ongoing change) or \"OldEquipmentCode\" (source of an ongoing change), preventing conflicts. If valid, it returns success (rcode=0); otherwise, it populates @errmsg with details (including the conflicting code and user) and returns rcode=1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMEntity"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMEntity: SMEntityID (bigint, not null); Type (tinyint, not null); SMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUSTP2AmtPrimary view?"
      },
      {
        "from": "gpt",
        "value": "PR STP Employee Amounts Primary"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMNamedDispatchBoard view?"
      },
      {
        "from": "gpt",
        "value": "SM Named Dispatch Board"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCPMCostTypes form?"
      },
      {
        "from": "gpt",
        "value": "The JCPMCostTypes form includes these fields: Phase Group, Phase, CostType, UM, BillFlag, ItemUnitFlag, PhaseUnitFlag, Phase Group, Phase"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NBT21 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates the periodic (per pay period) provincial income tax withholding amount for Canadian payroll (likely New Brunswick NBT for tax year 2021, based on name), using progressive tax brackets on annual income (@A), subtracting credits/deductions like basic personal amount (@KP), TCP (@K1P), CPP/EI contributions (@K2P + @K3P), and a capped LCP deduction (@T2). It annualizes the net tax (@T2), then divides by pay periods per year (@ppds) to output @calcamt, applying caps, rounding, and floors at zero."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: DM Attachment Grid Order\n\nContext: Viewpoint Vista database, view DMAttachmentGridColumnOrder"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vDMAttachmentGridColumnOrder.*\nFROM dbo.vDMAttachmentGridColumnOrder;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDFR table?"
      },
      {
        "from": "gpt",
        "value": "The vDDFR table (Module: DD) contains: Form, RelatedForm"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCM view?"
      },
      {
        "from": "gpt",
        "value": "The PRCM view (Module: PR) contains: PRCo, Craft, Description, Address, City, State, Zip, EffectiveDate, ReportType, VendorGroup, Vendor, OTSched, Notes, TradeSeq, UniqueAttchID... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvGLFSP1"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvGLFSP1: GLCo (bCompany, not null); PartNo (tinyint, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JCCostProjectionDetail\n\nContext: Viewpoint Vista database, view JCCostProjectionDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCCostProjectionDetail.*\nFROM dbo.vJCCostProjectionDetail;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pMenuTemplates"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pMenuTemplates: MenuTemplateID (int, not null); RoleID (int, not null); Name (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvEMAttachments view?"
      },
      {
        "from": "gpt",
        "value": "The brvEMAttachments view (Module: EM) contains: Src, EMCo, Mth, EMTrans, EMGroup, Equipment, CostCode, EMCostType, PostedDate, ActualDate, Source, EMTransType, Description, WorkOrder, WOItem... (44 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ARReleaseLineValues view?"
      },
      {
        "from": "gpt",
        "value": "The ARReleaseLineValues view (Module: AR) contains: vCo, vMth, vBatchId, vBatchSeq, vARLine, TransLine, LineOpenRetg, LineOpenRetgTax"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPMChangeOrders view?"
      },
      {
        "from": "gpt",
        "value": "The brvPMChangeOrders view (Module: PM) contains: Src, PMCo, Project, PCOType, PCO, PCOItem, ACO, ACOItem, UM, Units, UnitPrice, PendingAmount, ApprovedAmt, Issue, FixedAmountYN... (28 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOPendingPurchaseOrderVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a pending purchase order for a given company (@POCo) and PO number (@PO) to ensure it hasn't already been entered into the system. It first checks POUnique for existing records with sources 'bPOHD' or 'bPOHB', outputting an error message and returning 1 if found; otherwise, it retrieves the description from vPOPendingPurchaseOrder into @msg and returns 0. It is used prior to PO entry to prevent duplicates and provide pending order details.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspUtilAPChangeBanks do?"
      },
      {
        "from": "gpt",
        "value": "This utility stored procedure updates the bank account (CMAcct) on Accounts Payable headers (bAPTH) from an old account to a new one for a specific company (APCo), but only for unpaid transactions (joined to bAPTD where PaidDate IS NULL). It includes safety checks like counting affected rows upfront, verifying the new account exists in Cash Management accounts (bCMAC), and optionally creating a backup table of bAPTH before changes. The procedure ensures transactional integrity by validating the exact number of updated rows matches expectations, rolling back if not."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEmployee do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvAPRec_GLDetail view?"
      },
      {
        "from": "gpt",
        "value": "The vrvAPRec_GLDetail view (Module: AP) contains: GLCo, Mth, GLTrans, GLAcct, Jrnl, GLRef, SourceCo, Source, ActDate, DatePosted, Description, BatchId, Amount, RevStatus, Adjust... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRSeqControlLiab form?"
      },
      {
        "from": "gpt",
        "value": "The PRSeqControlLiab form includes these fields: PRGroup, Employee, PREndDate, PaySeq, Liability, SubjectAmt, EligibleAmt, Amount, UseOver, OverAmt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMDocTemplatesResponse form?"
      },
      {
        "from": "gpt",
        "value": "The PMDocTemplatesResponse form includes these fields: Sequence, TemplateName, Template Type, Document Object, Column Name, Response Field Name, Caption, Control Type, Response Values, Bookmark"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQMatlCategoryVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHQMatlCategoryVal validates a specified material category within a given material group in Viewpoint Vista ERP's HQMC table. It first checks for null inputs on material group and category parameters, then queries for a matching record and sets the output message to the description if found or an error if invalid or missing. Used to enforce data integrity in material management workflows, it returns 0 for success or 1 for failure.\n\nbspHQMatlCategoryVal validates a material category against a specified material group in Viewpoint Vista ERP's materials management module. It first checks for null inputs on material group and category, then queries the HQMC table to retrieve the category description if valid, or sets an error message if not found. Used to enforce data integrity before material transactions, it returns a success code (0) with the description or an error code (1) via output parameter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSHC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSHC: MSCo (bCompany, not null); HaulCode (bHaulCode, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from SMAgreementTaskScheduleExtended.\n\nContext: Viewpoint Vista database, view SMAgreementTaskScheduleMerged"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM SMAgreementTaskScheduleExtended;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMSCOTotal view?"
      },
      {
        "from": "gpt",
        "value": "The PMSCOTotal view (Module: PM) contains: SCOKeyID, SLKeyID, SLCo, SL, SubCO, SLTotalOriginal, SLTotalOrigTax, SLAmtPrior, SLTaxPrior, PMSLAmtCurrent, PMSLTaxCurrent, PMSLAmtPrior, PMSLTaxPrior, PMSLAmtPriorPending, PMSLTaxPriorPending... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RQEntryItems form?"
      },
      {
        "from": "gpt",
        "value": "The RQEntryItems form includes these fields: RQID from Header, Item, Line Type, JC Company, JC Job, JobStatus, JC Phase, Phase Group, JC Cost Type, IN Company"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pCalendar table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pCalendar table (Module: Other) contains: DateID, SiteID, PageSiteControlID, DisplayOrder, CalendarDate, DateSubject, DateComment, DateColor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT13 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates North Dakota (ND) state income tax withholding for a pay period, annualizing the subject pay amount (@subjamt) by pay periods per year (@ppds), subtracting exemptions (@exempts * $3900 allowance), and applying progressive tax brackets based on filing status ('S' for single, 'M' for married). It determines the per-period withholding amount (@amt OUTPUT) using base tax, bracket limits, and marginal rates (1.51%-3.99%). Returns an error message (@msg OUTPUT) if inputs are invalid (e.g., missing @ppds)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentV6TableRow view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from unknown tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMCallTypeCategoryColorVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tLane Gresham\n> Create date: 6/27/13\n> Description:\tValidation for SM call types category\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRSSNUnique do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the uniqueness of a provided SSN (or SIN for Canada) for a specific company and employee in Payroll and HR systems, excluding the current employee to allow self-updates. It checks for duplicates in the Payroll Employee Header (bPREH) and HR Resource Master (bHRRM) if the HR module is active, skipping validation for Australian dummy SSNs and preparing Canadian SINs by removing dashes. If a duplicate exists, it sets an error code (@rcode=1) and populates an output message (@msg) with details for user feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vRFCommandUsagePerformanceCounts"
      },
      {
        "from": "gpt",
        "value": "Key columns in vRFCommandUsagePerformanceCounts: PerformanceID (bigint, not null); CommandID (bigint, not null); CategorySeconds (decimal, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view merges standard and custom report parameter lookups into a unified dataset, prioritizing custom values (vRPPLc) over standard ones (vRPPL) via FULL OUTER JOIN on ReportID, ParameterName, and\n\nContext: Viewpoint Vista database, view RPPLShared"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    ISNULL(vRPPLc.ReportID, vRPPL.ReportID) AS ReportID,\n    ISNULL(vRPPLc.ParameterName, vRPPL.ParameterName) AS ParameterName,\n    ISNULL(vRPPLc.Lookup, vRPPL.Lookup) AS Lookup,\n    ISNULL(vRPPLc.LookupParams, vRPPL.LookupParams) AS LookupParams,\n    ISNULL(vRPPLc.LoadSeq, vRPPL.LoadSeq) AS LoadSeq,\n    ISNULL(vRPPLc.Active, 'Y') AS Active,\n    CASE WHEN vRPPLc.ReportID IS NOT NULL THEN 1 ELSE 0 END AS Custom,\n    CASE WHEN vRPPLc.ReportID IS NULL AND vRPPL.ReportID IS NOT NULL THEN 'Standard'\n    WHEN vRPPLc.ReportID IS NOT NULL AND vRPPL.ReportID IS NOT NULL THEN 'Override'\n    WHEN vRPPLc.ReportID IS NOT NULL AND vRPPL.ReportID IS NULL THEN 'Custom'\n    ELSE 'Unknown' END AS Status\nFROM dbo.vRPPLc\nFULL OUTER JOIN dbo.vRPPL ON vRPPL.ReportID = vRPPLc.ReportID AND vRPPL.ParameterName = vRPPLc.ParameterName AND vRPPL.Lookup = vRPPLc.Lookup;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAllowanceRuleSet view?"
      },
      {
        "from": "gpt",
        "value": "PR Allowance Rule Sets"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPFT"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPFT: APCo (bCompany, not null); VendorGroup (bGroup, not null); Vendor (bVendor, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDArchiveTriggers table?"
      },
      {
        "from": "gpt",
        "value": "The vDDArchiveTriggers table (Module: DD) contains: Id, TriggerName, TableSchema, TableName, TriggerText, ArchiveDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBLR"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBLR: JBCo (bCompany, not null); Template (varchar, not null); LaborCategory (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvJCInsPhase view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view lists insurance templates associated with jobs, detailing phase groups, full phases, truncated phase prefixes (based on company-defined valid length), insurance codes, and descriptions. It joins job masters to templates and template phase items for a comprehensive view of insurance setup by job. Key transformation extracts TempPhase as the leading characters of Phase up to ValidPhaseChars length."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPPD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPPD: APCo (bCompany, not null); CMCo (bCompany, not null); CMAcct (bCMAcct, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join ARTL with ARRT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join ARTL with ARRT, use:\n\n```sql\nFROM ARTL\nINNER JOIN ARRT\n  ON ARTL.ARCo = ARRT.ARCo AND ARTL.RecType = ARRT.RecType\n```\n\nThis pattern is used in the vrvARInvoiceDetails view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMWPUniqueVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPMWPUniqueVal validates the uniqueness of a phase entry in the bPMWP table for a given PM company, import ID, and optionally a sequence number, ensuring no duplicates exist during data import or insertion. It performs input validation on required parameters (importid, phase, pmco, phasegroup), checks for existing records in bPMWP, and then invokes bspJCPMValUseValidChars to verify valid characters in phasegroup and phase fields. On success, it outputs the phase description; otherwise, it returns an error code and message to enforce data integrity in Viewpoint Vista's project management work packages.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JBITProgGrid view?"
      },
      {
        "from": "gpt",
        "value": "Provides progress billing grid data for job contract items on specific invoices, aggregating change order units and amounts into total contract values, calculating percent complete based on work completed versus totals (lump sum by amount or units), and deriving to-date summaries for units, amounts, and submittals/manuals with retainage percentages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSLocWithGroupVal do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure bspMSLocWithGroupVal validates a location (optionally within a specified location group) for a given company in Viewpoint Vista ERP's inventory module. It verifies the company exists, checks location group validity if provided (via bINLG), confirms the location exists in bINLM, and ensures group membership matches if specified. On success, it outputs the location description with return code 0; failures set an error message in @msg and return 1, preventing invalid inventory or job operations.\n\nThis stored procedure validates a location for a given company, optionally confirming it belongs to a specified location group. It first ensures the company exists, checks the location group's validity in bINLG if provided, retrieves the location details from bINLM including its assigned group, and verifies group matching. Used prior to location-based operations in Viewpoint ERP to prevent errors, it returns 0 on success (with location description in @msg) or 1 with an error message on failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPCOApproveItem view?"
      },
      {
        "from": "gpt",
        "value": "The PMPCOApproveItem view (Module: PM) contains: PMCo, ApprovalID, Project, PCOType, PCO, PCOItem, Approve, ACOItem, ACOItemDesc, ApprovalDate, ContractItem, ApprovedAmount, AdditionalDays, UM, Units... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRTH with SMWorkCompletedLabor in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRTH with SMWorkCompletedLabor, use:\n\n```sql\nFROM PRTH\nINNER JOIN SMWorkCompletedLabor\n  ON PRTH.PRCo = SMWorkCompletedLabor.PRCo AND PRTH.PRGroup = SMWorkCompletedLabor.PRGroup AND PRTH.PREndDate = SMWorkCompletedLabor.PREndDate AND PRTH.Employee = SMWorkCompletedLabor.PREmployee AND PRTH.PaySeq = SMWorkCompletedLabor.PRPaySeq AND PRTH.PostSeq = SMWorkCompletedLabor.PRPostSeq\n```\n\nThis pattern is used in the vrvPRtoSMUpdate view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMViewHolder view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from unknown tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APVendorDuplicates form?"
      },
      {
        "from": "gpt",
        "value": "The APVendorDuplicates form includes these fields: OrigVendorGroup, OrigVendor, Vendor, Name, Address, Address2, City, State, Zip, Purchasing Address"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Index/PK Verification?"
      },
      {
        "from": "gpt",
        "value": "- **Source**: `Viewpoint_Database/_Metadata/CSVs/indexes.csv`\n- **Format**: `Schema,TableName,IndexName,ColumnName,KeyOrdinal,IsPrimaryKey,IsUnique,IndexType`\n- **Note**: Look for `IsPrimaryKey=Yes` or index names starting with `PK_` or `bi*`"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspPortalDetailsGet do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDExtractGroupDefinition"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDExtractGroupDefinition: DefinitionID (int, not null); GroupID (int, not null); TableID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCCostProjectionOptionCostType view?"
      },
      {
        "from": "gpt",
        "value": "JCCostProjectionOptionCostType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEquipmentDepart do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvCMOutEntryAudit view?"
      },
      {
        "from": "gpt",
        "value": "The brvCMOutEntryAudit view (Module: CM) contains: Co, Mth, BatchId, BatchSeq, BatchTransType, CMTrans, CMTransType, CMAcct, OldCMAcct, ActDate, Description, Amount, CMRef, CMRefSeq, Payee... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTicHaulCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a haul code for material sales (MS) tickets, ensuring it's valid for the specified MS company, material group, inventory locations, and optional factors like truck type/zone. It retrieves haul basis, taxability, rates, and minimums from MSHC and a sub-SP (bspMSTicHaulRateGet), while checking EM revenue code conflicts to prevent circular basing (e.g., haul-based revenue can't use haul-based rev codes). Outputs pricing details, tooltips, and error messages for real-time UI validation during ticket/quote entry."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMDispatchBoardUserSettingsInsert do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAaron Lang\n> Create date: 4/10/13\n> Description:\tSM DispatchBoard User Settings\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the __EFMigrationsHistory table?"
      },
      {
        "from": "gpt",
        "value": "The __EFMigrationsHistory table (Module: Other) contains: MigrationId, ProductVersion"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMRefreshCount do?"
      },
      {
        "from": "gpt",
        "value": "vspDMRefreshCount retrieves the count of active attachments (CurrentState = 'A') from the HQAT table, grouping results by the first two uppercase letters of TableName to identify modules (aliased as 'Mod'). It returns AttachmentCount and Mod for each group. This procedure supports Document Management refresh operations in Viewpoint Vista ERP by providing a quick summary of attachments per module for reporting or dashboard updates.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SLCD with SLHD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SLCD with SLHD, use:\n\n```sql\nFROM SLCD\nINNER JOIN SLHD\n  ON SLCD.JCCo = SLHD.SLCo AND SLCD.SL = SLHD.SL\n```\n\nThis pattern is used in the vrvPMVendorRegister view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMEntityExt view?"
      },
      {
        "from": "gpt",
        "value": "Extends SMEntity records with lock status from a function, a derived service site coalesced across work order quotes, agreements/services, or work orders, and agreement version. Conditionally joins related tables based on entity Type (6-11) for work orders/quotes (types 6,7,10,11), agreements (8,9), and agreement services (9), while linking non-open/new work order statuses."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRateOverrideStandardItem table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRateOverrideStandardItem table (Module: SM) contains: SMRateOverrideStandardItemID, SMCo, StandardItem, BillableRate, AutoAdd, EntitySeq, BillableMarkup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJPParted view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from bJCJP."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NUT17 do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure bspPR_CA_NUT17 calculates per-pay-period Nunavut (NUT) territorial income tax withholding for Canadian payroll. It applies marginal tax rates (4-11.5%) and base credits (KP) based on annual income brackets, subtracts credits for TCP (K1P at 4%), capped CPP and EI contributions (K2P at 4%), and any provided K3P from gross tax (rate * annual income), yielding a non-negative annual tax (T2) divided by pay periods (ppds). Used in Viewpoint Vista payroll to determine accurate withholdings for Nunavut employees, with error handling for missing inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUPrintPAYGEmplVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee for Australian Payroll (PR AU) PAYG (Pay As You Go tax withholding) printing processes. It resolves the employee ID flexibly (by numeric ID, exact sort name, or partial name match), confirms existence in the specified payroll company (PRCo) and optional PR group, retrieves the full name, and returns validation status/messages. It ensures data integrity before generating employee-specific PAYG reports or summaries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMAgreement table?"
      },
      {
        "from": "gpt",
        "value": "The vSMAgreement table (Module: SM) contains: SMAgreementID, SMCo, Agreement, Revision, RevisionType, DateActivated, DateCancelled, DateTerminated, Description, CustGroup, Customer, EffectiveDate, NonExpiring, ExpirationDate, AutoRenew... (50 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRPAYGReportingPeriods form?"
      },
      {
        "from": "gpt",
        "value": "The PRPAYGReportingPeriods form includes these fields: EmplKeyID, Employee, PRGroup, PeriodStartDate, PeriodEndDate, FinalPayPeriodDate, TaxYear, SummaryNumber, Income Type, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPUpdateComData do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates credit card details (number, expiration date, CVC) and any associated error codes/descriptions in the AP payment header table (bAPPH) for a specific Accounts Payable company and Cash Management reference. It first resolves the linked CM company and account from the APCO setup table, then targets a precise payment record using payment method 'S' (credit card) and sequence zeros. Finally, it returns the updated credit card number via the output parameter @msg for confirmation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREmplValUnempl do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a payroll employee (from PREH table) by numeric ID (up to 6 digits) or sort name, retrieving key details like name components, SSN, hire/term dates, suffix, and active status. It enforces optional active/inactive checks ('Y' active, 'N' inactive, 'X' any) and returns a success/error message with populated outputs on valid match. Primarily supports unemployment-related employee lookups in Payroll by confirming existence and status before further processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPC"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPC: PMCo (bCompany, not null); Project (bJob, not null); PhaseGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCTT12 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates the adjusted taxable wages for payroll tax withholding (likely federal or state income tax) by annualizing a subject amount (@subjamt × pay periods/year), applying filing status-based exemptions (@status: 'F'=Filing?, 'H'=Head of Household, 'M'=Married, 'B'=?, 'S'=Single), and deriving a final taxable @amt (output). It enforces minimum thresholds, floors exemptions to $1K increments, sets the taxable amount to ≥0, and initializes tax brackets/rates (e.g., 3% up to $10K, 5% marginal to $50K) for statuses F/B/S, with error messaging for invalid inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AR Miscellaneous Distributions\n\nContext: Viewpoint Vista database, view ARMD"
      },
      {
        "from": "gpt",
        "value": "SELECT bARMD.*\nFROM dbo.bARMD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_JCDetail view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_JCDetail view (Module: JC) contains: JCCoID, PMCoID, JobID, JobPhaseID, JobPhaseCostTypeID, CostTypeID, ContractID, CustomerID, ContractItemID, JCDeptID, DeptContractHierarchyID, ProjectMgrID, Mth, MonthID, CostTransNumber... (62 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JBIJ view?"
      },
      {
        "from": "gpt",
        "value": "JB T&M Job Cost Transactions"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PM4ProjectsInvite form?"
      },
      {
        "from": "gpt",
        "value": "The PM4ProjectsInvite form includes these fields: Project, Document Category, Document Type, Firm, Vendor Group, Max invite batch size, Number of selected contacts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARBH_FCVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates AR Batch Headers (bARBH) and associated lines (bARBL) for Finance Charge batches (source='ARFinanceC') in Accounts Receivable. Performs integrity checks on header details (e.g., customer, dates, GL accounts), line items (e.g., amounts, job/contract links, revenue accounts), and business rules like retainage, terms, and GL posting validity. Outputs error messages via @errmsg if issues are found, preventing invalid batches from proceeding to posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINTB table?"
      },
      {
        "from": "gpt",
        "value": "The bINTB table (Module: IN) contains: Co, Mth, BatchId, BatchSeq, FromLoc, ToLoc, MatlGroup, Material, ActDate, Description, UM, Units, UnitCost, ECM, TotalCost... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMVal_Cost_Inventory do?"
      },
      {
        "from": "gpt",
        "value": "Validates inventory company, location, material, and equipment details for cost computation in Equipment Management (EM). Retrieves standard unit of measure (UM), units, unit costs, burden flags, and GL accounts (e.g., inventory, COGS, equipment sales, cost variance) for accurate inventory valuation tied to equipment. Outputs standardized cost data and error messages if validations fail, ensuring compliant costing before EM transactions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Employee Dedn/Liabs\n\nContext: Viewpoint Vista database, view PRED"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRED.*\nFROM dbo.bPRED\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurityPayrollEmployee(bPRED.Employee, bPRED.PRCo))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMBFPost_Usage do?"
      },
      {
        "from": "gpt",
        "value": "Posts batched equipment usage transactions (e.g., hours, odometer readings) from bEMBF into downstream systems like GL (for revenue/cost postings), JC (job costs), and EM (meter readings, rentals). It processes grouped records by equipment/date, generates offsets, validations, and updates batch status to \"Posting in Progress\" while capturing errors. Ensures usage data is committed atomically for billing, costing, and reporting in Equipment Management."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCJobAnalysisCostTypeMTH view?"
      },
      {
        "from": "gpt",
        "value": "The JCJobAnalysisCostTypeMTH view (Module: JC) contains: JCCo, Job, PhaseGroup, Phase, CostType, MTH, CurrEstUnits, MTH Units, MTH Hours, MTH Cost, MTH Earned MH, MTH MPF, MTH Earned $, MTH APF, MTH Perc Comp... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMChangeOrderRequest with JCJMPM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMChangeOrderRequest with JCJMPM, use:\n\n```sql\nFROM PMChangeOrderRequest\nINNER JOIN JCJMPM\n  ON PMChangeOrderRequest.PMCo = JCJMPM.PMCo AND PMChangeOrderRequest.Contract = JCJMPM.Contract\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRSalaryDistrib do?"
      },
      {
        "from": "gpt",
        "value": "This SP automates the distribution of salaried employees' pay hours or amounts across job cost codes/phases in a payroll batch, ensuring salaried time is allocated for Job Cost (JC) posting. It validates the payroll batch status, locks it for exclusive use, identifies salaried employees via earn codes, and prepares a temp table of batch employees for further distribution logic (likely inserting/updating records in bPRTB). Output flags indicate if bPRTB was altered and any errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Fiscal Year Balance\n\nContext: Viewpoint Vista database, view GLYB"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLYB.*\nFROM dbo.bGLYB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMOT20 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Missouri state income tax withholding for a single payroll period using progressive tax brackets on annualized taxable income. It annualizes the input subject amount (@subjamt) by pay periods per year (@ppds), subtracts a standard deduction based on filing status (@status: S=Single, B=?, M=Married, H=Head of Household), and applies 2020-era MO tax rates (1.5%-4%+ brackets shown). The result (@amt OUTPUT) is the per-period tax amount; unused params like @fedtax/@fed_subjamt/@exempts suggest federal adjustments or exemptions in full code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DMAttachmentTypes"
      },
      {
        "from": "gpt",
        "value": "Key columns in DMAttachmentTypes: AttachmentTypeID (int, not null); TextID (int, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DDAuditColumns form?"
      },
      {
        "from": "gpt",
        "value": "The DDAuditColumns form includes these fields: ID of Audit Table, Name of Column in database, Column Description, Key Field, Company Field, Group Field, Audit Insert, Audit Update, Audit Delete, User Defined Field"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvPMDistTestLogs view?"
      },
      {
        "from": "gpt",
        "value": "The vrvPMDistTestLogs view (Module: PM) contains: KeyID, Seq, VendorGroup, SentToFirm, SentToContact, ResponsiblePerson, Send, PrefMethod, CC, DateSent, DateSigned, DrawingLogID, SubmittalID, TestLogID, InspectionLogID... (65 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNJT052 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New Jersey state income tax withholding for payroll. It annualizes the subject's pay amount (@subjamt) by pay periods per year (@ppds), subtracts personal exemptions (@exempts), and applies progressive tax brackets based on filing status (@status: 'S' for Single, 'M' for Married) or wage chart (@wage_chart). The result is output via @amt (tax amount per period) and @msg (error if any)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # View/Table Names?"
      },
      {
        "from": "gpt",
        "value": "| Use | Don't Use | Reason |\n|-----|-----------|--------|\n| `APTH` | `dbo.APTH` | Views don't need schema prefix - they're in dbo by default |\n| `ARTH` | `bARTH` | Use views (ARTH) not base tables (bARTH) unless modifying data |\n| `HQCO` | `hqco` | Case-sensitive - use exact case from columns.csv |"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRTD"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRTD: PRCo (bCompany, not null); Craft (bCraft, not null); Class (bClass, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN PM Material Order Header\n\nContext: Viewpoint Vista database, view INMOPM"
      },
      {
        "from": "gpt",
        "value": "SELECT INMO.JCCo AS [PMCo], INMO.Job AS [Project], INMO.*\nFROM dbo.INMO;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEMRevandCost view?"
      },
      {
        "from": "gpt",
        "value": "Combines monthly actual equipment costs (Type 'C') from EMMC with revenues (Type 'R') from EMAR into a unified dataset by equipment, group, company, and fiscal period, including units, amounts, categories, codes, and descriptions from masters. Zeros out inapplicable revenue or cost fields per type while deriving fiscal year/period from GLFP. Enriches with company names and status for reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPREmailTaxDocAttachments do?"
      },
      {
        "from": "gpt",
        "value": "This SP prepares a temporary list of year-end payroll tax document attachments (AU PAYG summaries, US W2s/1095Cs, CA T4s) for emailing to employees, based on company, tax year, optional group/employee filters, and selected document types. It validates inputs, enforces country-specific tax doc eligibility (e.g., no US W2s for AU companies), generates PDF passwords, and sets output flags for attachments found or errors. The list includes employee emails, unique attachment IDs, and doc types for downstream emailing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DatatypeLabel form?"
      },
      {
        "from": "gpt",
        "value": "The DatatypeLabel form includes these fields: Datatype, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vJCCostProjectionResDetHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vJCCostProjectionResDetHistory: JCCo (bCompany, not null); Job (bJob, not null); ProjectionCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Work Order\n\nContext: Viewpoint Vista database, view SMWorkOrder"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMWorkOrder.*\nFROM dbo.vSMWorkOrder;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDCB.\n\nContext: Viewpoint Vista database, view DDCB"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vDDCB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRCAEmployeeT4SlipCodes table?"
      },
      {
        "from": "gpt",
        "value": "The vPRCAEmployeeT4SlipCodes table (Module: PR) contains: PRCo, TaxYear, Employee, T4CodeNumber, SlipNumber, Amount, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspContacts do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPTYShared"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPTYShared: ReportType (varchar, nullable); Description (varchar, nullable); Active (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHQBC table?"
      },
      {
        "from": "gpt",
        "value": "The bHQBC table (Module: HQ) contains: Co, Mth, BatchId, Source, TableName, InUseBy, DateCreated, CreatedBy, Status, Rstrict, Adjust, PRGroup, PREndDate, DatePosted, DateClosed... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCIDReversalsInit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes reversals for Job Cost (JC) direct cost or adjustment transactions (JCID) marked for reversal (ReversalStatus=1, TransSource='JC RevAdj'). It fetches eligible JCID records from prior periods (Mth <= @origmth) and inserts corresponding negative-amount entries (reversals) into the batch table bJCIB for the specified batch (@batchmth, @batchid), setting ReversalStatus=2 and linking back to originals via OrigMth/OrigItemTrans. This supports correcting or reversing prior JC postings without altering history."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the WFProcessDetailApprover view?"
      },
      {
        "from": "gpt",
        "value": "WF Process Detail Approver"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_FWT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_FWT09 calculates per-pay-period Canadian Federal Income Tax withholding for payroll, based on projected annual earnings adjusted for deductions like HD and F1 to derive taxable income (@A). It applies progressive tax rates (15%-29%) with tiered credits (K), subtracts adjustments for TC, CPP/EI contributions (if not Quebec), IE, stock cap, and LCF, then prorates the net annual tax (@T1) by pay periods (@ppds) to output @calcamt. Used in Viewpoint Vista payroll to ensure accurate federal tax deductions compliant with 2009-era rules, with Quebec-specific exclusions and validation for required inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPTransValClear do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates an AP transaction for eligibility to be cleared (e.g., added to a payment clearing batch). It checks existence, open status (Status=1), no holds (bAPHD), no workflow entries (APWH), not in use by another batch, and not an unprocessed prepaid. If valid, it populates output parameters with transaction details (vendor, ref, date, description, gross/paid/remaining amounts) for batch processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bSLCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bSLCO: SLCo (bCompany, not null); CmtdDetailToJC (bYN, not null); AuditCoParams (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSLHeader form?"
      },
      {
        "from": "gpt",
        "value": "The PMSLHeader form includes these fields: Project, Default Vendor Group, Default Phase Group, PMCo Exists flag, Project Our Firm, SL Cost Type 1, SL Cost Type 1 Option, Use Phase Description Flag, PM License Level, PMCO.SLInUse Flag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOSItemsDetail do?"
      },
      {
        "from": "gpt",
        "value": "This SP checks whether a specific item from a purchase order (PO) or sales ledger (SL) already exists in the system (via POIT/SLIT tables) or in PM material forecast/miscellaneous entries (PMMF/PMSL), and determines if it can be linked to a Potential Change Order (PCO) item detail without duplication. It outputs `@itemexists` as 'Y' if the item is found in active PO/SL items, multiple PMMF rows, or a single unlinked PMMF row for the given PCO/project/phase/costtype; otherwise 'N'. This supports validation during PCO item entry to prevent double-counting commitments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvEMEqCatforEMTE view?"
      },
      {
        "from": "gpt",
        "value": "The brvEMEqCatforEMTE view (Module: EM) contains: EMCo, Category, RevCode, EMGroup, WorkUM, UpdtHrMeter, PostWorkUnits, AllowPostOride, Rate, Equipment, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBContractValWithInfoT&M do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Job Billing (JB) contract for a specified company, ensuring required inputs are provided, and retrieves/outputs key contract details including customer info, billing addresses, payment terms, status, rounding options, and amounts (e.g., original/current contract amounts, flat billing). Tailored for Time & Materials (T&M) contracts, it populates defaults and flags like report retainage or billing initiation options for use in billing workflows."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bIMTD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bIMTD: ImportTemplate (varchar, not null); RecordType (varchar, not null); Seq (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from JCJM.\n\nContext: Viewpoint Vista database, view JCJMJobs"
      },
      {
        "from": "gpt",
        "value": "SELECT JCJM.*\nFROM dbo.JCJM\nWHERE JCJM.JobStatus > 0;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRCraftTemplateCappedBasis table?"
      },
      {
        "from": "gpt",
        "value": "The vPRCraftTemplateCappedBasis table (Module: PR) contains: PRCo, Craft, Template, ELType, ELCode, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQAttachOptionsSave do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQAttachOptionsSave stored procedure saves or updates headquarters-level attachment options in the bHQAO table within Viewpoint Vista ERP. It performs an upsert: updating an existing record with parameters like save-to-database flag, permanent/temp directories, organization flags (by company/module/form/month/custom), scanning formats, JPG usage, auditing, archiving, PDF resolution, and Viewpoint Viewer settings, or inserting a new record if none exists (hardcoding UseStructForAttYN to 'N'). Used to configure attachment storage and handling workflows, it validates success via @@rowcount and returns an error code/message if not exactly one row is affected.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUSTPSubmission"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUSTPSubmission: PRCo (bCompany, not null); TaxYear (char, not null); SubmissionNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vDDCI with INCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vDDCI with INCO, use:\n\n```sql\nFROM vDDCI\nINNER JOIN INCO\n  ON vDDCI.DatabaseValue = INCO.GLAdjInterfaceLvl\n```\n\nThis pattern is used in the vrvCompanySettings view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLDT view?"
      },
      {
        "from": "gpt",
        "value": "The GLDT view (Module: GL) contains: GLCo, Mth, GLTrans, GLAcct, Jrnl, GLRef, SourceCo, Source, ActDate, DatePosted, Description, BatchId, Amount, RevStatus, Adjust... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMEntityExt"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMEntityExt: SMEntityID (bigint, not null); Type (tinyint, not null); SMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PCBidPackageScopes form?"
      },
      {
        "from": "gpt",
        "value": "The PCBidPackageScopes form includes these fields: Potential Project, Bid Package, Seq, Vendor Group, Scope Code, Phase Group, Phase, Notes, Scope Code From Phase Val"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the INCompany form?"
      },
      {
        "from": "gpt",
        "value": "The INCompany form includes these fields: IN Co, GL Co, Jrnl, GL Adjust Interface Level, GL Transfer Interface Level, GL Prod Interface Level, GL Adj Summary Desc, GL Trnsfr Summary Desc, GL Prod Summary Desc, GL MO Summary Desc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCForecastTotalsRev view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers cumulative contract amounts and billed totals up to each specified forecast month for Job Costing contracts, alongside calculated forecast revenue for that month derived from a revenue percentage via function. Aggregations from invoice/paid data provide a snapshot of revenue realization progress per contract-month. It enables precise tracking of forecast vs. actuals at monthly granularity."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEMCDDetlDesc view?"
      },
      {
        "from": "gpt",
        "value": "Provides equipment cost detail records from EMCD with all original fields plus a computed DetailDesc column that formats a concise, source-specific string combining descriptions, work orders, items, companies, vendors, employees, POs, and references. Tailors the description logic by source type (e.g., PR/EMTime adds employee names, AP adds vendor/invoice details, PO adds PO items, EM adjustments add materials/locations). Enables readable, contextual cost line summaries without additional joins in downstream reports."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMSI table?"
      },
      {
        "from": "gpt",
        "value": "The bPMSI table (Module: PM) contains: PMCo, Project, Submittal, SubmittalType, Rev, Item, Description, Status, Send, DateReqd, DateRecd, ToArchEng, DueBackArch, RecdBackArch, DateRetd... (29 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMServiceSite with HQContact in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMServiceSite with HQContact, use:\n\n```sql\nFROM SMServiceSite\nINNER JOIN HQContact\n  ON SMServiceSite.ContactGroup = HQContact.ContactGroup AND SMServiceSite.ContactSeq = HQContact.ContactSeq\n```\n\nThis pattern is used in the vrvSMContactList view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQMatlValEM do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a material within a specified material group by querying the HQMT table, retrieving its description and SalesUM if found, and setting an existence flag ('Y' or 'N'). It enforces input requirements for material group and material, returning error messages for missing parameters or invalid materials when strict validation (@valflag='Y') is requested. Used in Viewpoint Vista ERP to confirm material validity and obtain key attributes for processes like inventory management or sales transactions.\n\nThis stored procedure validates a material within a specified material group by querying the HQMT table, retrieving its description and SalesUM if found. It is used in Viewpoint Vista ERP to confirm material existence for inventory or sales processes, with optional strict validation (@valflag='Y') that errors on invalid materials. Key operations include input checks for matlgroup and material, existence lookup with NOLOCK hint, output population (@desc, @sum, @existsYN), and conditional error messaging.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_PMProjectMgrJobs"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_PMProjectMgrJobs: JCCo (bCompany, not null); JCCoID (bigint, not null); Job (bJob, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM PCO Cost Addon Distribution\n\nContext: Viewpoint Vista database, view PMOB"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMOB.*\nFROM dbo.bPMOB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProjectionCodePhaseAssignedAdd do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure adds a projection code assignment to a specific phase and cost type combination within a job in the Job Cost (JC) module. It enforces strict validation on company, job, phase, and cost type existence before inserting the record, ensuring data integrity for job cost projections used in budgeting and forecasting. The output parameters provide success/failure status and error messages for UI feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDLChangeLog"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDLChangeLog: vDDLChangeLogID (int, not null); eventtype (nvarchar, nullable); objectname (nvarchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HR Look Back Groups\n\nContext: Viewpoint Vista database, view HRLookBackGroup"
      },
      {
        "from": "gpt",
        "value": "SELECT vHRLookBackGroup.*\nFROM dbo.vHRLookBackGroup;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPULUniqueAttchIDs do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspAPULUniqueAttchIDs retrieves distinct unique attachment IDs associated with a specific Accounts Payable Unapproved Line (APUL) record. It is used in AP workflows to identify and list non-deleted attachments linked to a given AP line item via company, UI month, sequence, and line number. Key operations involve joining bAPUL with bHQAI (on PO details) and bHQAT (on AttachmentID), selecting UniqueAttchID, FormName, and HQCo while filtering out deleted attachments (CurrentState <> 'D').\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY19 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New York State income tax withholding for payroll employees, annualizing the subject wage amount over pay periods, subtracting exemptions and standard deductions based on filing status (Single/Married), and applying progressive tax brackets for residents. It outputs the per-pay-period tax amount (@amt) or an error message (@msg) if inputs are invalid. Designed for 2019 NY tax tables (e.g., rates like 4.00% on first $8,500 for singles)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCTN view?"
      },
      {
        "from": "gpt",
        "value": "The JCTN view (Module: JC) contains: JCCo, InsTemplate, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSGetDefaultInvoiceReport do?"
      },
      {
        "from": "gpt",
        "value": "> ==================================================================================== Author:\t\tCasey Schurman Create date:  06/04/2018 Description:\tGrab default invoice report from MS Company parameters or from the AR Customer if an override exists. ======================================================================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINLS table?"
      },
      {
        "from": "gpt",
        "value": "The bINLS table (Module: IN) contains: INCo, Loc, Co, GLCo, JobSalesGLAcct, InvSalesGLAcct, EquipSalesGLAcct, JobQtyGLAcct, InvQtyGLAcct, JobHaulRevEquipGLAcct, InvHaulRevEquipGLAcct, JobHaulRevOutGLAcct, InvHaulRevOutGLAcct, JobHaulExpEquipGLAcct, InvHaulExpEquipGLAcct... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SLPurge form?"
      },
      {
        "from": "gpt",
        "value": "The SLPurge form includes these fields: Month"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProgInitBatch do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes a progress batch in the Job Cost (JC) module by identifying eligible phase/cost type combinations for a specific job, phase group, company, month, and batch ID that lack prior progress entries (bJCPP) or linked progress exclusions (bJCPPCostTypes). It uses a cursor to fetch unprocessed Phase, CostType, UM, and Plugged status from batch headers (bJCCH) joined to active job phases (bJCJP), ensuring only new items are queued for progress tracking or billing. Output includes validation errors via @msg or proceeds to process (loop incomplete in snippet)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRAUPAYGEmployeeGenerate form?"
      },
      {
        "from": "gpt",
        "value": "The PRAUPAYGEmployeeGenerate form includes these fields: Tax Year, Employee, Process Through Date, Startover"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROHT06 do?"
      },
      {
        "from": "gpt",
        "value": "bspPROHT06 calculates per-pay-period state income tax withholding (likely Ohio) from a subject gross pay amount, using pay periods per year and exemptions to annualize wages and apply progressive brackets. It subtracts exemptions (at $650 each) from the annualized wage (@subjamt * @ppds), selects bracket-specific tax addition, marginal rate, and bracket threshold, then computes the annual tax as (@tax_addition + (annualized_wage - bracket) * rate) before dividing by @ppds for the output @amt. Used in payroll for accurate withholding projections; returns error code and message if pay periods are missing or invalid.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This report view aggregates hold codes and their descriptions into a comma-separated string for Accounts Payable transactions, uniquely identified by company, month, transaction, and payment type. It \n\nContext: Viewpoint Vista database, view vrvAPHoldCodesByTransPayType"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vrvAPHoldStatus_2.APCo,\n    vrvAPHoldStatus_2.Mth,\n    vrvAPHoldStatus_2.APTrans,\n    vrvAPHoldStatus_2.PayType,\n    ( SELECT DISTINCT ',' + APHD.HoldCode + ': ' + HQHC.[Description]\nFROM dbo.vrvAPHoldStatus AS vrvAPHoldStatus_1\nJOIN dbo.APHD WITH(NOLOCK)\n    ON APHD.APCo = vrvAPHoldStatus_1.APCo\n    AND APHD.Mth = vrvAPHoldStatus_1.Mth\n    AND APHD.APTrans = vrvAPHoldStatus_1.APTrans\n    AND APHD.APLine = vrvAPHoldStatus_1.APLine\n    AND APHD.APSeq = vrvAPHoldStatus_1.APSeq\nJOIN dbo.HQHC\n    ON HQHC.HoldCode = APHD.HoldCode\nWHERE vrvAPHoldStatus_1.APCo = vrvAPHoldStatus_2.APCo\n    AND vrvAPHoldStatus_1.Mth = vrvAPHoldStatus_2.Mth\n    AND vrvAPHoldStatus_1.APTrans = vrvAPHoldStatus_2.APTrans\n    AND vrvAPHoldStatus_1.PayType = vrvAPHoldStatus_2.PayType\n    FOR XML PATH('')) AS csv\nFROM dbo.vrvAPHoldStatus AS vrvAPHoldStatus_2\nGROUP BY vrvAPHoldStatus_2.APCo,\n    vrvAPHoldStatus_2.Mth,\n    vrvAPHoldStatus_2.APTrans,\n    vrvAPHoldStatus_2.PayType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSTD view?"
      },
      {
        "from": "gpt",
        "value": "The MSTD view (Module: MS) contains: MSCo, Mth, MSTrans, HaulTrans, SaleDate, Ticket, FromLoc, VendorGroup, MatlVendor, SaleType, CustGroup, Customer, CustJob, CustPO, PaymentType... (104 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcpJCBacklogForecast do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a monthly revenue forecast report for job contracts in the JC (Job Cost) module, aggregating total contract amounts and billed-to-date from JCCM by department and contract. It pivots forecasted revenue (RevenuePct) from JCForecastMonth into columns for the prior month and the next 12 months relative to @CurrentMonth. The result provides a backlog view per contract, including department details from JCDM, to visualize projected revenue recognition over time."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join LastEarnedMonth with JCIP in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join LastEarnedMonth with JCIP, use:\n\n```sql\nFROM LastEarnedMonth\nINNER JOIN JCIP\n  ON LastEarnedMonth.JCCo = JCIP.JCCo AND LastEarnedMonth.Contract = JCIP.Contract\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Compare AP and AR subsidiary ledger balances To GL Control Account balances\n\nModule: AR"
      },
      {
        "from": "gpt",
        "value": "DECLARE @AsOfDate Date = '2021-12-31';\n\nSelect\n    'AP RECONCILIATION' as Module,\n    APTH.APCo as Company,\n    APTD.PayType as Type,\n    APPT.Description as Description,\n    APPT.GLAcct as ControlAccount,\n    CASE\n        WHEN RTRIM(APPT.GLAcct) = '20000' THEN 'AP Trade'\n        WHEN RTRIM(APPT.GLAcct) = '20100' THEN 'AP Retention Held'\n        ELSE 'OTHER AP (' + RTRIM(APPT.GLAcct) + ')'\n    END as AccountCategory,\n    COUNT(DISTINCT APTH.APRef) as InvoiceCount,\n    SUM(APTD.Amount) as SubsidiaryBalance,\n    ISNULL(ABS(gl_balances.GLBalance), 0) as GLControlBalance,\n    SUM(APTD.Amount) - ISNULL(ABS(gl_balances.GLBalance), 0) as Variance,\n    CASE\n        WHEN ISNULL(gl_balances.GLBalance, 0) = 0 THEN 'No GL Balance - Investigate'\n        WHEN ABS(SUM(APTD.Amount) - ISNULL(ABS(gl_balances.GLBalance), 0)) < 1 THEN 'RECONCILED ✅'\n        WHEN ABS(SUM(APTD.Amount) - ISNULL(ABS(gl_balances.GLBalance), 0)) < 100 THEN 'Minor Variance'\n        WHEN APPT.GLAcct LIKE '%Retention%' THEN 'Retention - Review Release Process'\n        ELSE 'INVESTIGATE ⚠️'\n    END as ReconciliationStatus\nFrom dbo.APTH\nJOIN dbo.APTD ON APTH.APCo = APTD.APCo\n         AND APTH.Mth = APTD.Mth\n         AND APTH.APTrans = APTD.APTrans\nJOIN dbo.APPT ON APTH.APCo = APPT.APCo\n         AND APTD.PayType = APPT.PayType\nLEFT JOIN (\n    Select\n        GLDT.GLCo as Company,\n        RTRIM(GLDT.GLAcct) as ControlAccount,\n        SUM(GLDT.Amount) as GLBalance\n    From dbo.GLDT\n    WHERE GLDT.ActDate <= @AsOfDate\n      AND RTRIM(GLDT.GLAcct) NOT LIKE '99999%'\n    GROUP BY GLDT.GLCo, GLDT.GLAcct\n) gl_balances ON APTH.APCo = gl_balances.Company\n              AND RTRIM(APPT.GLAcct) = gl_balances.ControlAccount\nWHERE APTD.Status IN (1, 2)\n  AND APTH.InvDate <= @AsOfDate\n  AND RTRIM(APPT.GLAcct) NOT LIKE '99999%'\nGROUP BY APTH.APCo, APTD.PayType, APPT.GLAcct, APPT.Description, gl_balances.GLBalance\n\nUNION ALL\n\nSelect\n    'AR RECONCILIATION' as Module,\n    ARTH.ARCo as Company,\n    ARTH.RecType as Type,\n    ARRT.Description as Description,\n    ARRT.GLARAcct as ControlAccount,\n    CASE\n        WHEN RTRIM(ARRT.GLARAcct) = '11000' THEN 'AR Trade'\n        WHEN RTRIM(ARRT.GLARAcct) = '11300' THEN 'AR Retention Withheld'\n        ELSE 'OTHER AR (' + RTRIM(ARRT.GLARAcct) + ')'\n    END as AccountCategory,\n    COUNT(DISTINCT ARTH.Invoice) as InvoiceCount,\n    SUM(ARTH.CreditAmt - ARTH.Paid) as SubsidiaryBalance,\n    ISNULL(gl_balances.GLBalance, 0) as GLControlBalance,\n    SUM(ARTH.CreditAmt - ARTH.Paid) - ISNULL(gl_balances.GLBalance, 0) as Variance,\n    CASE\n        WHEN ISNULL(gl_balances.GLBalance, 0) = 0 THEN 'No GL Balance - Investigate'\n        WHEN ABS(SUM(ARTH.CreditAmt - ARTH.Paid) - ISNULL(gl_balances.GLBalance, 0)) < 1 THEN 'RECONCILED ✅'\n        WHEN ABS(SUM(ARTH.CreditAmt - ARTH.Paid) - ISNULL(gl_balances.GLBalance, 0)) < 100 THEN 'Minor Variance'\n        WHEN ARRT.GLARAcct LIKE '%Retention%' THEN 'Retention - Review Release Process'\n        ELSE 'INVESTIGATE ⚠️'\n    END as ReconciliationStatus\n"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCostProjectionLayoutSelect do?"
      },
      {
        "from": "gpt",
        "value": "This SP loads a predefined column layout for the JC Cost Projection form by copying grid column settings (e.g., sequence, header text, visibility, width, color, order) from a shared layout table (JCCostProjectionColumnOptionDetail) into the user's personal DDUI preferences. It ensures the user's grid view matches the selected layout without overwriting existing customizations. Primarily used to standardize and apply JC cost projection grid displays efficiently."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspMSQuote do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pLinkTypes"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pLinkTypes: LinkTypeID (int, not null); Name (varchar, not null); Description (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides dimension data for Equipment Management equipment and components, including identifiers, combined descriptions, type/status/ownership labels, current job assignments, and meter readings (hour\n\nContext: Viewpoint Vista database, view viDim_EMEquipment"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bEMEM.KeyID AS EquipmentID,\n    bEMCO.KeyID AS EMCoID,\n    bEMEM.Equipment,\n    bEMEM.Description AS EquipmentDescription,\n    isnull(bEMEM.Equipment,'') + ' ' + isnull(bEMEM.Description,'') AS EquipmentAndDescription,\n    CASE WHEN bEMEM.Type='E' THEN 'Equipment' WHEN bEMEM.Type='C' THEN 'Component' END AS Type,\n    CASE WHEN bEMEM.Status='A' THEN 'Active'\n    WHEN bEMEM.Status='I' THEN 'Inactive'\n    WHEN bEMEM.Status='D' THEN 'Down'\n    END AS EquipmentStatus,\n    bJCJM.KeyID AS CurrentJobID,\n    isnull(bJCJM.Job, '') +' '+ isnull(bJCJM.Description, '') AS CurrentJobAndDescription,\n    CASE WHEN bEMEM.OwnershipStatus='O' THEN 'Owned'\n    WHEN bEMEM.OwnershipStatus='L' THEN 'Leased'\n    WHEN bEMEM.OwnershipStatus='R' THEN 'Rented'\n    WHEN bEMEM.OwnershipStatus='C' THEN 'Customer'\n    END AS OwnershipStatus,\n    isnull(bEMEM.HourReading, 0) AS 'HourReading',\n    isnull(bEMEM.OdoReading,0) AS 'OdoReading',\n    isnull(bEMEM.FuelUsed, 0) AS 'FuelUsed',\n    bEMEM.HourDate,\n    bEMEM.OdoDate,\n    bEMEM.LastFuelDate\nFROM dbo.bEMEM WITH (NoLock)\nLEFT JOIN dbo.bJCJM WITH (NoLock)\n    ON bJCJM.JCCo=bEMEM.JCCo\n    AND bJCJM.Job=bEMEM.Job\nINNER JOIN bEMCO WITH (NoLock) ON bEMCO.EMCo = bEMEM.EMCo\nINNER JOIN vDDBICompanies WITH (NoLock) ON vDDBICompanies.Co=bEMEM.EMCo\nUNION ALL\nSELECT\n    0 ,NULL, NULL ,'Unassigned'\n    ,NULL\n    ,NULL\n    ,NULL\n    ,0\n    ,NULL\n    ,NULL\n    ,NULL\n    ,NULL\n    ,NULL\n    ,NULL\n    ,NULL\n    ,NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQUDAddImport do?"
      },
      {
        "from": "gpt",
        "value": "This SP configures import templates in Viewpoint Vista by adding a new column mapping to the DDUD (User Defined Dictionary) table for a specified form, stripping a prefix from the table name and assigning a unique Identifier based on max values from DDUD and IMTD across related import templates (IMTR). It inserts the column details (name, datatype, description, sequence) with default flags if the exact form/table/column combo doesn't exist. A second cursor loop on IMTR propagates the addition to IMTD import details for each template/record type. Note: @msg is an OUTPUT parameter; @viewname and @nodatatype are declared but unused in the provided SQL (may appear later)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMAG table?"
      },
      {
        "from": "gpt",
        "value": "The bEMAG table (Module: EM) contains: EMCo, AllocCode, Category"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in APCO: APCo (bCompany, not null); GLCo (bCompany, not null); ExpJrnl (bJrnl, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDTI"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDTI: TableName (varchar, not null); IndexName (varchar, not null); IndexColumns (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMProjectionCodePhaseCT view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from JCProjectionCodePhaseCT."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQUDAddImportTemplateId do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure adds detail records to import templates (bIMTD) for a specific form and user-defined identifier, populating fields like defaults, column descriptions, datatypes, and user defaults from parameters. It sources template records (bIMTR) linked to the form and view (via DDUDGrid), ensuring no duplicates for the given record type and identifier. In Vista, it supports configuring data import mappings for user-defined grids/fields in forms."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRORT122 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Oregon state income tax withholding for payroll based on the subject's gross pay amount (@subjamt), annualized over pay periods per year (@ppds), adjusted for filing status (@status: 'S'ingle or 'M'arried), exemptions (@exempts), and federal tax withheld (@fedtax). It applies hardcoded tax brackets (5%-9%) for annual taxable income under $50,000 after standard deductions and exemptions, outputting the withholding amount (@amt) or an error message (@msg). Designed for pre-1990s Oregon rules (e.g., $6,100 max exemption, $2,025/$4,055 deductions)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspINRollupRecCountGet do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPGridColumns view?"
      },
      {
        "from": "gpt",
        "value": "The VPGridColumns view (Module: VP) contains: QueryName, ColumnName, DefaultOrder, VisibleOnGrid, IsStandard, Datatype, KeyID, ExcludeFromAggregation, ExcludeFromQuery, IsNotifierKeyField"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVACopySecurityFormToUserMerge do?"
      },
      {
        "from": "gpt",
        "value": "This SP copies form-level security permissions (access rights, add/update/delete, attachments) and tab-level access from a source user/security group combination to a target user at the user-specific security level (SecurityGroup = -1). It targets only forms/tabs linked to specified companies and modules via the table-valued parameter @tblCompanyModule, using DISTINCT and NOT EXISTS to prevent duplicates. The procedure outputs the total records inserted across both form (vDDFS) and tab (vDDTS) security tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INTB"
      },
      {
        "from": "gpt",
        "value": "Key columns in INTB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCrewTypeAssociation view?"
      },
      {
        "from": "gpt",
        "value": "The PRCrewTypeAssociation view (Module: PR) contains: KeyID, PRCo, Crew, CrewType, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCDetail_Validation do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Job Cost (JC) rollup code for the specified company by confirming its existence in the JCRU table and retrieving configuration details like rollup type ('R' for revenue or cost compression), selection scope ('A' for all jobs or selected), source modules (AP, MS, IN, PR, AR, JC, EM), summary level, and months back. Builds a descriptive output message (@msg) summarizing the compression action (e.g., \"Compresses Cost Detail $Applies to selected Contract/Jobs $Sources: AP PR JC\"). Outputs config values and errors for use in JC detail rollup processes, enforcing rules like unique code per company."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMDeliveryGroupModify do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJeremiah Barkley\n> Create date: 9/22/11\n> Description:\tMake a modification to a delivery group. The modification is based\n> on the Action parameter. This will Add, Remove or Remove all Invoices\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMPCOInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes a Potential Change Order (PCO) distribution record in the `bPMCD` table for tracking submittal to a specific vendor contact. It retrieves the vendor group from HQ/PM company mappings, determines preferred communication method (e.g., mail/email) and email CC option from vendor/firm preferences, assigns the next sequence number per PCO grouping, and inserts a new record only if none exists for the exact PM company, project, PCO type/number, vendor group, and recipient firm/contact combination."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspValidatePOItemPhaseData do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates data integrity in the POItemPhaseLookup table, which maps Purchase Order items to Job Cost phases. It counts total records, valid ones (matching active JCJP phases and existing JCJM jobs), invalid records, duplicates (by POCo/Job/Phase), null/incomplete records, and orphaned phases (not in JCJP). It outputs a summary message via @errmsg for quick data quality assessment, with @ShowDetails likely enabling detailed results (truncated SQL)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with PREH in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with PREH, use:\n\n```sql\nFROM JCCD\nINNER JOIN PREH\n  ON JCCD.PRCo = PREH.PRCo AND JCCD.Employee = PREH.Employee\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBProgContractItemVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specific contract item for progress billing eligibility on a given job bill in Viewpoint Vista's Job Costing module. It verifies the item's BillType is 'P' (Progress) or 'B' (Billing) via lookups in bJCCI and bJBIT tables, retrieves the description, and for source 'P', ensures BillType 'B' items aren't already billed as T&M on the same bill using bJBIL. If invalid, it outputs an error message and returns 1; otherwise, returns 0 for successful validation.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMBC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMBC: EMCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the GridFormattedNotes form?"
      },
      {
        "from": "gpt",
        "value": "The GridFormattedNotes form includes these fields: Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRInitTrainingPlan form?"
      },
      {
        "from": "gpt",
        "value": "The HRInitTrainingPlan form includes these fields: Resource, Position Code"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM GL Distribution\n\nContext: Viewpoint Vista database, view SMGLDistribution"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vSMGLDistribution.*\nFROM dbo.vSMGLDistribution;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJBIN"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJBIN: JBCo (bCompany, nullable); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPLBValWO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates key details for Accounts Payable (AP) Labor Billing against an Equipment Management (EM) Work Order (WO). It confirms the provided equipment, component type, component, and cost code match the WO setup (with conditional cost code flexibility), ensures the EM company is valid, and blocks billing if the WO is in a final status when final posting is disallowed. Returns a success code (0) or error message/code (1) for integration into AP entry screens."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBCO: JBCo (bCompany, not null); AutoSeqInvYN (bYN, not null); InvoiceOpt (char, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APULforWO view?"
      },
      {
        "from": "gpt",
        "value": "This view extracts AP utility ledger lines filtered to equipment-related transactions (LineType 5 or LineType 6 with ItemType 5), joining to equipment master for details. It transforms raw equipment and component codes into concatenated descriptions like \"EQ#: [number] - [description]\" and \"[CompType] - [Component] - [description]\". Provides enriched equipment identifiers for utility charges tied to work orders."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPRCraftClassTemplate view?"
      },
      {
        "from": "gpt",
        "value": "This view unions payroll template details from PRTD (craft-class level, hierarchy 4) and PRTI (craft level, hierarchy 3), providing old/new rates, factors, and DL codes for deductions/liabilities alongside craft/class descriptions, effective dates, OT scheduling, and reciprocity options. It constructs hierarchical group names and templates by concatenating craft, class, and template master descriptions for structured reporting. Key elements include company context and EEO class from craft-class masters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMServiceItemPart table?"
      },
      {
        "from": "gpt",
        "value": "The vSMServiceItemPart table (Module: SM) contains: ServiceItemPartID, SMCo, ServiceSite, ServiceItem, Part, MatlGroup, Material, Description, UM, Quantity, Notes, UniqueAttchID, SMPartType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Fix this Viewpoint Vista SQL query:\n\nSELECT * FROM dbo.APTH"
      },
      {
        "from": "gpt",
        "value": "Corrected SQL:\n```sql\nSELECT * FROM APTH WITH (NOLOCK)\n```\n\nExplanation: Don't use 'dbo.' prefix for views. Always add WITH (NOLOCK) for read queries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQDX"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQDX: Co (bCompany, not null); Package (varchar, not null); TriggerName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPHCDelVendorChk do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates whether a Hold Code (@holdcode) is referenced in active AP Vendor records (APVH), AP transaction headers/batches (APTH, APHB), or PO headers (POHD, likely SLHD) before deletion. If in use, it populates @errmsg with details (Hold Code location, AP/PO Co, Vendor) and sets return code 1 to block deletion; otherwise, returns code 0 for safe deletion. Ensures referential integrity in AP hold code maintenance."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join HRES with HRRM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join HRES with HRRM, use:\n\n```sql\nFROM HRES\nINNER JOIN HRRM\n  ON HRES.HRCo = HRRM.HRCo AND HRES.HRRef = HRRM.HRRef\n```\n\nThis pattern is used in the vrvHRLeaveApprovers view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDTDc table?"
      },
      {
        "from": "gpt",
        "value": "The vDDTDc table (Module: DD) contains: FolderTemplate, ItemType, MenuItem, MenuSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMSLTotal view?"
      },
      {
        "from": "gpt",
        "value": "The PMSLTotal view (Module: PM) contains: SLCo, SL, SLTotal, SLTotalCurrTax, SLTotalOrig, SLTotalOrigCorrection, SLTotalOrigTax, SLTotalOrigTaxCorrection, PMSLAmt, PMSLTaxAmt, PMSLAmtOrig, PMSLTaxOrig, MaxRetgByPct, TotalOrigCorrection, TotalCurrCorrection... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSPA"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSPA: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSTP view?"
      },
      {
        "from": "gpt",
        "value": "The MSTP view (Module: MS) contains: MSCo, PriceTemplate, Seq, LocGroup, FromLoc, MatlGroup, Category, Material, UM, OldRate, OldUnitPrice, OldECM, OldMinAmt, NewRate, NewUnitPrice... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join ARTL with HQGP in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join ARTL with HQGP, use:\n\n```sql\nFROM ARTL\nINNER JOIN HQGP\n  ON ARTL.TaxGroup = HQGP.Grp\n```\n\nThis pattern is used in the vrvARInvoiceDetails view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployerBAS"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployerBAS: PRCo (bCompany, not null); TaxYear (char, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMOP"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMOP: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_whocheckedout_u do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDCustomRecordTypes view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDCustomRecordTypes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMFMArch view?"
      },
      {
        "from": "gpt",
        "value": "PM Architect Engineer Firm"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMCustomerContact table?"
      },
      {
        "from": "gpt",
        "value": "The vSMCustomerContact table (Module: SM) contains: SMCustomerContactID, SMCo, CustGroup, Customer, ContactGroup, ContactSeq, IncludeTripCloseEmail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMOZ view?"
      },
      {
        "from": "gpt",
        "value": "PM CO Items Work Table Init"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSLBValJob do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a material sales (MS) bulk load line for job costing integration, specifically checking haul line details like tax codes, haul codes, job actuals updates, and revenue basis. It verifies tax configurations from bHQTX, haul revenue flags from bMSHC, and job settings from JCJM, flagging errors (e.g., invalid tax codes) via output parameters for correction. It adjusts tax totals and prepares job cost type/phase mappings for posting material sales to JC jobs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLWIGrid"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLWIGrid: SLCo (bCompany, not null); SL (varchar, nullable); SLItem (bItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRHPClear do?"
      },
      {
        "from": "gpt",
        "value": "The vspHRHPClear stored procedure deletes records from the HRHP table for a specified company (HRCo) in Viewpoint Vista's HR module. If @clearall is 'Y', it targets only records with Status = 1 (e.g., active/pending); otherwise, it deletes all records for that company. It is used to purge or reset HRHP data, such as health plan or benefits information, ensuring clean data states for reporting or processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUItemsATOCategories"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUItemsATOCategories: KeyID (bigint, not null); ItemCode (char, not null); ATOCategory (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the AuditFlags view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vAuditFlags."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APVendorMerge form?"
      },
      {
        "from": "gpt",
        "value": "The APVendorMerge form includes these fields: APCo, ActualYN, Merge, Unique, MatchID, VendorGroup, Vendor, Vendor Name, Address, City"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDAssemblyDependencySelect do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves assembly dependencies (parent-child relationships between assemblies) from the `vDDAssemblyDependency` view, returning `Assembly` and `DependentAssembly` pairs. It supports optional filtering by a specific assembly ID (or all if null), enabling queries into bill-of-materials (BOM) hierarchies. Likely used in Inventory (IN) module for managing assembly structures, kits, or sub-components in construction material takeoffs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvJCCostRevChgOrders view?"
      },
      {
        "from": "gpt",
        "value": "The brvJCCostRevChgOrders view (Module: JC) contains: JCCo, Contract, Item, Mth, OrigContractAmt, OrigContractUnits, OrigUnitPrice, ContractAmt, ContractUnits, CurrentUnitPrice, BilledUnits, BilledAmt, ReceivedAmt, CurrentRetainAmt, BilledTax... (64 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PREmplTermPayment form?"
      },
      {
        "from": "gpt",
        "value": "The PREmplTermPayment form includes these fields: Employee, Generate Payments, Separation Date, PR Group, ReasonForTermination, Reason Explanation, Pay Redundancy, PayPre1Jan2010Redund, Pay Leave Loading, PayInLieuOfNotice"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPRSServer view?"
      },
      {
        "from": "gpt",
        "value": "The RPRSServer view (Module: RP) contains: ServerName, Server, ReportServerInstance, ReportManagerInstance, CustomSecurity, SyncSecurity, Port"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with HQLT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with HQLT, use:\n\n```sql\nFROM JCCD\nINNER JOIN HQLT\n  ON JCCD.LiabilityType = HQLT.LiabType\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the IDSRV.ClientSecrets table?"
      },
      {
        "from": "gpt",
        "value": "The IDSRV.ClientSecrets table (Module: Other) contains: Id, Description, Value, Expiration, Type, Created, ClientId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view extracts unique combinations of company, job, phase group, phase, unit of measure, and phase unit flag from JCCH where unit tracking is enabled (PhaseUnitFlag='Y'). It uses GROUP BY to dedup\n\nContext: Viewpoint Vista database, view JCJobAnalysisPhaseUM"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    JCCo,\n    Job,\n    PhaseGroup,\n    Phase,\n    UM,\n    PhaseUnitFlag\nFROM dbo.JCCH\nWHERE PhaseUnitFlag='Y'\nGROUP BY JCCo, Job, PhaseGroup, Phase, UM, PhaseUnitFlag;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPOValForJC do?"
      },
      {
        "from": "gpt",
        "value": "bspPOValForJC validates a Purchase Order (PO) for a specific company and vendor in Viewpoint ERP, ensuring it exists and matches the provided vendor before Job Costing (JC) use. It checks for required inputs (company and PO), retrieves the PO's description, vendor, and vendor group from the POHD table, and compares the PO's vendor against the input parameter. If any validation fails (missing inputs, non-existent PO, or vendor mismatch), it sets an error message in the output parameter and returns code 1; success returns 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCTN"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCTN: JCCo (bCompany, not null); InsTemplate (smallint, not null); Description (bDesc, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vSMRecipients.\n\nContext: Viewpoint Vista database, view SMRecipients"
      },
      {
        "from": "gpt",
        "value": "SELECT *, vSMRecipients.SMRecipientID AS 'KeyID'\nFROM dbo.vSMRecipients;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VAFileExtensionWhiteList"
      },
      {
        "from": "gpt",
        "value": "Key columns in VAFileExtensionWhiteList: UploadType (varchar, not null); FileExtension (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMCopyProjectFirms do?"
      },
      {
        "from": "gpt",
        "value": "This SP copies specific firm-contact associations from a source project to a destination project in the PM module, using a vendor group filter and a semicolon/comma-delimited list of firm IDs and contact IDs (e.g., \"firm1,contact1;firm2,contact2\"). It parses the list, validates numeric firm/contact values, and inserts them into the PMPF (Project Firms) table for the new project. The process supports selective vendor/firm replication without copying all project data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBProgressBillItemsAdjust do?"
      },
      {
        "from": "gpt",
        "value": "This SP adjusts tax amounts on progress billing line items (JBIT) for a specific job bill (JBIN) by recalculating and redistributing taxes based on contract item tax rates and bases from JCC* tables. It first validates bill existence, AR company tax setup, and JB company adjustment permissions before populating a temp table for tax spreading. Returns success (0), warnings, or errors (1) via @errmsg, enabling accurate tax handling without over/under-taxing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementTermination form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementTermination form includes these fields: Agreement, Version, Revision, Agreement Description, Effective Date, Expiration Date, Termination Date, Cancel Quotes, Delete New Work Orders"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRWIT98 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRWIT98 calculates Wisconsin state income tax withholding for a payroll period based on subject pay amount, pay periods per year, filing status ('S' for single or 'M' for married), and exemptions. It annualizes the pay, applies a tiered standard deduction by status and income level, determines the applicable tax bracket/rate, computes the annual tax liability adjusted for exemptions, then prorates it back to the per-period withholding amount (minimum 0). Used in payroll processing to ensure compliant state tax deductions per Wisconsin rules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRAW"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRAW: HRCo (bCompany, not null); Accident (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvAPCompCode"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvAPCompCode: APCo (bCompany, not null); UserId (varchar, nullable); Mth (smalldatetime, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvEMCDDetlDesc"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvEMCDDetlDesc: EMCo (bCompany, not null); Mth (bMonth, not null); EMTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMVal_Cost_SeqVal_Parts do?"
      },
      {
        "from": "gpt",
        "value": "> Issue 120727, removed trim functions around @oldgltranacct\n> Issue 134218, fixed subledgert type validation with GL Off set Account\n> Issue 135655 added IsNull(@xxxx,'')<>''\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPREmployeeInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves Payroll (PR) company configuration for a specified PRCo, including linked companies (EM, GL, AP), message file status, flags for attaching tax forms (1095C, W2, T4, PAYG Summary), vendor group, and AP vendor add/update permissions. It validates PRCo existence and populates OUTPUT parameters for use in employee/tax processing. Returns 0 on success or 1 with error message if PRCo is not set up."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AR Transaction Header\n\nContext: Viewpoint Vista database, view ARTH"
      },
      {
        "from": "gpt",
        "value": "SELECT bARTH.*\nFROM dbo.bARTH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSLClaimUpdateAP do?"
      },
      {
        "from": "gpt",
        "value": "This SP processes approved subcontractor claims (SL Claims) from the Service Ledger/Subcontractor module, creating or updating AP batch headers (APHB), invoices (APUI), lines (APLB/APUL), and related records to generate vendor invoices for payment. It calculates approved amounts, taxes, retentions, discounts, and GL postings while linking to job cost (JC) details for accurate cost distribution. Outputs record keys (e.g., Claim_KeyId, APHB_KeyId) and error messages for integration tracking."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APPC with APTD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APPC with APTD, use:\n\n```sql\nFROM APPC\nINNER JOIN APTD\n  ON APPC.APCo = APTD.APCo AND APPC.PayCategory = APTD.PayCategory\n```\n\nThis pattern is used in the vrvAPHoldStatus view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INRI view?"
      },
      {
        "from": "gpt",
        "value": "IN Reconciliation In"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvARBH_CMDist"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvARBH_CMDist: OldNew (int, not null); Co (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROKT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPROKT09 calculates per-pay-period Kansas state income tax withholding based on annualized projected wages. It computes annualized wages from the subject pay amount multiplied by pay periods per year minus exemption allowances (at $1000 each), then selects a progressive tax bracket, addition, and rate by filing status (S=Single/HoH, M=Married), applies the formula for annual tax, and divides by pay periods with rounding. Used in Viewpoint Vista payroll to ensure accurate withholding reflecting annual income projections.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the INBillMatlsOverDetail form?"
      },
      {
        "from": "gpt",
        "value": "The INBillMatlsOverDetail form includes these fields: Component Location, Component Material, UM, Fin Matl, Final Material Location, Units, % Weight, Weight Conv, MatlGroup, HQ Fin Matl Wt Conv"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPMReq"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPMReq: VendorGroup (bGroup, not null); FirmNumber (bFirm, not null); ContactCode (bEmployee, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RPFRc view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vRPFRc."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRResLicRestEndLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an HR company code (@hrco) by checking for null values and existence in the HRCO table, then retrieves the default country code from the linked HQCO record. It is used as a preliminary step in loading resident license restriction end data within Viewpoint Vista's HR module to ensure company setup integrity and obtain headquarters country details. Key operations include input validation, existence checks with error messaging, and outputting the country code along with a success/error return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVATableLookup do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAL\n> Create date: 2/22/07\n> Description: Returns a dataset that contains all the table names\n> in ascending order.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMInterface form?"
      },
      {
        "from": "gpt",
        "value": "The PMInterface form includes these fields: PM License Level, GL Company, AP Company, default IN company, default MS company, Project, Liability Template, PR State, Contract, JCCH Exists Flag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ONT182 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates Ontario provincial income tax withholding for payroll, applying tiered tax rates to annualized earnings (@A), subtracting basic personal credits (@KP), and additional credits for tax credits (@K1P from @TCP), CPP/EI contributions (@K2P), and other (@K3P), yielding basic tax (@T4). Further applies Ontario Tax Reduction (@V2) based on income tiers to reduce the final tax amount (@calcamt), supporting accurate paycheck deductions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCPostingLevels do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves GL posting configurations (journals and levels) for a specific JC company from bJCCO and bGLJR tables, then maps them to JC transaction sources (e.g., 'JC CostAdj', 'JC Progres', 'JC MatUse', 'JC RevAdj'). It outputs the appropriate GL journal description, interface level description ('None', 'Summary', or 'Detail'), and handles errors like missing company/source. This determines how JC transactions interface to GL at runtime based on per-company settings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAViewGenGetViews do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a distinct list of available views from the DDSLShared table in Viewpoint Vista, including view names, descriptions from DDTH, and out-of-sync status, optionally filtered by datatype while excluding the 'bHQMA' table. It is used to fetch views for display or management in the View Generation module, enabling users to identify and regenerate out-of-sync views. Key operations include a LEFT JOIN query ordered by view name, with error handling to output a message and return code if no rows are found.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvAPRec_APEntry view?"
      },
      {
        "from": "gpt",
        "value": "The vrvAPRec_APEntry view (Module: AP) contains: GLCo, Mth, GLAcct, BatchId, AP_Amt, GL_Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bGLFY"
      },
      {
        "from": "gpt",
        "value": "Key columns in bGLFY: GLCo (bCompany, not null); FYEMO (bMonth, not null); BeginMth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRExemptRateOfGross do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the eligible (taxable) portion of a current gross pay basis after applying an exemption threshold, factoring in prior accumulated subject amounts to prevent over-exemption. It evaluates three main scenarios—fully exempt, partial exemption, or fully taxable—and outputs the eligible amount along with the rate-applied calculation amount. Used in Viewpoint Vista payroll processing for accurate pre-tax deductions based on rate-of-gross exemptions, ensuring compliance with annual limits.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCRevProjContractItemNote do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the ProjNotes field in the bJCCI table for a specific Job Cost company (JCCo), contract, and contract item. It is used in Viewpoint Vista's Job Cost Contract Revenue Projection module to modify or set notes tied to a contract item, ensuring data integrity by verifying exactly one row is affected. Key operations include a targeted UPDATE, rowcount validation, and setting an error message/return code (0 for success, 1 for failure) if the update does not match one row.\n\nThis stored procedure updates the ProjNotes field for a specific contract item in the Job Cost Contract Revenue Projection table (bJCCI) within Viewpoint Vista. It is used to modify or set notes associated with revenue projections for a given company, contract, and item, ensuring data integrity in construction project management. Key operations include performing the targeted UPDATE, validating that exactly one row is affected, and returning a success/error code with an optional error message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptPRForm940ScedAPart2 do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tMike Brewer\n> Create date: 7/8/2010\n> Description:\tThis procedure is used by Michigan\n> subreport the Schedule A Form 940 report\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSTicOptsGet do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspMSTicOptsGet retrieves TIC (form field) options for the 'MSTB' view in a specified form, returning sequence, description, view/column names, and input skip flags with user-specific overrides. It queries shared form definitions from vfDDFIShared, left-joins current user's preferences from vDDUI, and filters out specific control types (99, 5) and field types (2). Used in Viewpoint ERP to populate and configure UI form controls dynamically, ordered by sequence for display.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQBatchDistributionGLEntryTransaction"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQBatchDistributionGLEntryTransaction: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPURUpdateAPULNotes do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the Notes field in the APUL table for a specific Accounts Payable unapproved line item, identified by company code (@apco), UI month (@uimth), UI sequence (@uiseq), and line number (@line). It is used in Viewpoint Vista ERP's AP module to revise notes on unapproved AP lines during review or processing workflows. The sole key operation is a conditional UPDATE executed only if @notes is provided, with no changes if null.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN Materials\n\nContext: Viewpoint Vista database, view INMT"
      },
      {
        "from": "gpt",
        "value": "SELECT bINMT.*\nFROM dbo.bINMT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWONextNumberUpdate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 12/4/13\n> Description:\tIf the next SM WO integer number is specified in SM Company Parameters then update with the last work order number created.\n> Modified:\tTFS-306769 2/26/2016 Aaron Hampshire and JayR. Fix concurrency issue where the WorkOrder number can\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vw_FlexStagebGLBD_rev view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from FlexDataDetail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCraftClassTempAddonEarn form?"
      },
      {
        "from": "gpt",
        "value": "The PRCraftClassTempAddonEarn form includes these fields: EarnCode, Method, Factor, OldRate, NewRate, Craft, Class, Template, Craft, Class"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRAW view?"
      },
      {
        "from": "gpt",
        "value": "HR Accident Witnesses"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQMatlGrpGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the Material Group for a specified HQ Company from the bHQCO table in Viewpoint Vista ERP. It validates the input HQ Company parameter, queries the table to fetch the MatlGroup, and outputs the value along with a success/error message and return code (0 for success, 1 for errors like missing company or unset group). It is used to ensure valid material grouping data for HQ companies in inventory, procurement, or related business processes.\n\nbspHQMatlGrpGet retrieves the Material Group for a specified HQ Company from the bHQCO table in Viewpoint Vista ERP. It validates the input HQ Company parameter, queries the table using NOLOCK, and outputs the MatlGroup value if exactly one row matches and it's not NULL; otherwise, it sets an error message and zero value via output parameters. Primarily used to fetch company-specific material groupings for inventory, procurement, or related business processes, returning a success or error code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APPT view?"
      },
      {
        "from": "gpt",
        "value": "The APPT view (Module: AP) contains: APCo, PayType, Description, GLCo, GLAcct, Notes, UniqueAttchID, PayCategory, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQMA"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQMA: TableName (char, not null); KeyString (varchar, not null); Co (bCompany, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementRevenueDeferral"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementRevenueDeferral: SMAgreementRevenueDeferralID (bigint, not null); SMCo (bCompany, not null); Agreement (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Contract Change Orders\n\nContext: Viewpoint Vista database, view PMContractChangeOrder"
      },
      {
        "from": "gpt",
        "value": "SELECT vPMContractChangeOrder.*\nFROM dbo.vPMContractChangeOrder;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDFHSecurable"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDFHSecurable: Mod (char, nullable); Form (varchar, nullable); Title (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPasswordRulesDelete do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Clear Distributions\n\nContext: Viewpoint Vista database, view APCD"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPCD.*\nFROM dbo.bAPCD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMET03 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMET03 calculates per-pay-period withholding for Metropolitan (MET) tax in payroll processing. It annualizes subject wages by multiplying by pay periods per year (@ppds) and subtracting a $2850 deduction per exemption (@exempts), then applies progressive brackets and rates based on filing status (@status: 'S' Single, 'M' Married, 'B' other). The output @amt is the rounded tax amount ((tax addition + marginal income * rate) / @ppds), with validation and error messaging.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQCOValForPM do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a PM company (HQCo) by checking its existence in the bHQCO table, retrieving the associated VendorGroup, PhaseGroup, and company name if valid. It also fetches the PM module license level from vDDMO (defaulting to 1) and returns output parameters including error messages for invalid or missing inputs. Used in Viewpoint Vista ERP's project management context to enforce HQ company validity before related operations, with a return code indicating success (0) or failure (1).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSDH view?"
      },
      {
        "from": "gpt",
        "value": "The MSDH view (Module: MS) contains: MSCo, DiscTemplate, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_JCPhaseMaster"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_JCPhaseMaster: MasterPhaseID (bigint, nullable); PhaseGroup (tinyint, nullable); Phase (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SLHDPM with PMSL in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SLHDPM with PMSL, use:\n\n```sql\nFROM SLHDPM\nINNER JOIN PMSL\n  ON SLHDPM.PMCo = PMSL.PMCo AND SLHDPM.Project = PMSL.Project AND SLHDPM.SL = PMSL.SL AND SLHDPM.Vendor = PMSL.Vendor\n```\n\nThis pattern is used in the vrvPMCommitmentCO view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_BCT153 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates British Columbia (BC) provincial income tax liability (`@T4`) and abatement (`@S`) for Canadian payroll, using tiered tax rates based on annual income (`@A`), pay periods (`@ppds`), and credits like basic personal (`@KP`), tax credits (`@K1P/@K2P/@K3P`), CPP (`@PP/@maxCPP`), EI (`@EI/@maxEI`), health (`@HD`), and capped stock (`@capstock/@LCP`). It applies hardcoded BC tax brackets/rates (e.g., 5.06%-16.80% tiers up to $151,050) and outputs the final computed amount (`@calcamt`) and any error messages (`@msg`). Used to determine withholdings or annual tax for T4 reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMLocationHistoryPriorNext"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMLocationHistoryPriorNext: EMCo (bCompany, not null); Equipment (bEquip, not null); DateTimeIn (datetime, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspPortalStoredProcedureParametersGet do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in WFMail"
      },
      {
        "from": "gpt",
        "value": "Key columns in WFMail: KeyID (int, not null); UserID (bVPUserName, not null); SentTo (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetWorkCenterLibraries do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves user-specific Work Center libraries from VPWorkCenterUserLibrary for a given @Owner, parsing XML in the WorkCenterInfo column to extract template details, type (from VPCanvasTemplateGroup), name, modification date, public sharing status ('Public' or 'None'), and refresh interval. It supports mode selection via @Type (0 fetches full details; other values use similar logic per truncated SQL). Output enables listing and management of personalized dashboard configurations in Vista's Work Center feature."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMRevenueRateUpdate form?"
      },
      {
        "from": "gpt",
        "value": "The EMRevenueRateUpdate form includes these fields: EM Group, Beginning Category, Ending Category, Beginning Revenue Code, Ending Revenue Code, Revenue Breakdown Code, Rev Brkdown Code Rate, EMCo Default Rev Brkdown Code, Update Option, Update Rate Option"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PCScopeCodes form?"
      },
      {
        "from": "gpt",
        "value": "The PCScopeCodes form includes these fields: Vendor Group, Scope Code, Description, Active Lookup, PhaseGroupFromLoadProc, Vendor Group From Load Proc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentCategoryType view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from unknown tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Call Type Category\n\nContext: Viewpoint Vista database, view SMCallTypeCategory"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMCallTypeCategory.*\nFROM dbo.vSMCallTypeCategory;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARRelease form?"
      },
      {
        "from": "gpt",
        "value": "The ARRelease form includes these fields: Month, BatchId, BatchSeq, CustGroup, ARCO AutoNumYN, Source, Action, ARTransType, Customer, ARCM RecType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMDS view?"
      },
      {
        "from": "gpt",
        "value": "The EMDS view (Module: EM) contains: EMCo, Equipment, Asset, Month, AmtToTake, AmtTaken, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMSearchGrouping"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMSearchGrouping: FormName (varchar, not null); ColumnName (varchar, not null); VPUserName (bVPUserName, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: RP Report Objects\n\nContext: Viewpoint Vista database, view RPRF"
      },
      {
        "from": "gpt",
        "value": "SELECT vRPRF.*\nFROM dbo.vRPRF;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCCMARBillAddress view?"
      },
      {
        "from": "gpt",
        "value": "Provides customer group, customer identifier, and a formatted multi-line billing address string from the Accounts Receivable Customer Master, concatenating primary address, city, state, zip, country, and secondary address only when fields are non-empty."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvEMLocationHistoryWithAttach view?"
      },
      {
        "from": "gpt",
        "value": "The vrvEMLocationHistoryWithAttach view (Module: EM) contains: EMCo, Equipment, EquipDesc, Month, DateTimeIn, ToJCCo, ToJob, JobDesc, ToLocation, LocDesc, DateIn, TimeIn, Memo, EstOut, AttachedToEquipment... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMUD view?"
      },
      {
        "from": "gpt",
        "value": "EM Auto Usage Rule Detail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMChangeEquipEMCoCol view?"
      },
      {
        "from": "gpt",
        "value": "The EMChangeEquipEMCoCol view (Module: EM) contains: ViewpointDB, VPTableName, VPColumnName, VPEMCo, VPColType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPORSBatchCheck do?"
      },
      {
        "from": "gpt",
        "value": "The bspPORSBatchCheck stored procedure checks for existing active PO Initialization batches (Source='PO InitRec', Status<5) in the bHQBC table for a given company, excluding the specified month and batch ID. If another such batch is found, it sets an error code (1) and outputs a message with the conflicting batch's month, ID, and creator; otherwise, it returns success (0). It is used to enforce uniqueness and prevent duplicate or conflicting PO initialization batches per company in the Viewpoint ERP system.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.Package"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.Package: GlobalPackageId (bigint, not null); Description (nvarchar, not null); BusinessUnitId (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementAmrt"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementAmrt: SMAgreementAmrtID (bigint, not null); SMCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vWFChecklistTasks table?"
      },
      {
        "from": "gpt",
        "value": "The vWFChecklistTasks table (Module: WF) contains: KeyID, Task, Checklist, Company, Summary, IsTaskRequired, UseEmail, Status, Description, TaskType, VPName, AssignedTo, AssignedOn, DueDate, CompletedBy... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the IDSRV.DeviceCodes table?"
      },
      {
        "from": "gpt",
        "value": "The IDSRV.DeviceCodes table (Module: Other) contains: DeviceCode, UserCode, SubjectId, ClientId, CreationTime, Expiration, Data"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Status Values?"
      },
      {
        "from": "gpt",
        "value": "| Status | Meaning |\n|--------|---------|\n| `⏳ NOT_STARTED` | In intake, not yet reviewed |\n| `🔄 IN_PROGRESS` | Actively being curated |\n| `✅ VALIDATED` | Passed repo-based validation |\n| `🧪 TESTING` | Ready for CLI02 SQL execution |\n| `👍 APPROVED` | Human-approved, ready for production |\n| `❌ REJECTED` | Failed validation, archived with reason |"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMUX view?"
      },
      {
        "from": "gpt",
        "value": "The PMUX view (Module: PM) contains: Template, XrefType, XrefCode, UM, VendorGroup, Vendor, MatlGroup, Material, PhaseGroup, Phase, CostType, CostOnly, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPREA table?"
      },
      {
        "from": "gpt",
        "value": "The bPREA table (Module: PR) contains: PRCo, Employee, Mth, EDLType, EDLCode, Hours, Amount, SubjectAmt, EligibleAmt, AuditYN, UniqueAttchID, KeyID, RollupRow, PurgeYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBCheckARAppliedTrans do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specific Job Billing (JB) invoice has any Accounts Receivable (AR) applied transactions, such as cash receipts or other AR-generated applications, posted against it. It retrieves the linked AR company and transaction from JB invoice headers (bJBIN) and checks AR transaction lines (bARTL) joined to headers (bARTH) for cross-applications from non-self AR sources (e.g., Source LIKE 'AR%'). If such applications exist, it returns an error code 7 with a warning message to block further JB actions, ensuring AR-JB integrity."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMINBatch"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMINBatch: SMINBatchID (bigint, not null); SMCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQUMValWithInfoForEM do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates Unit of Measure (UM), material group, material, and related inputs for Equipment Management (EM) transactions, distinguishing between equipment ('Equip') and depreciation ('Depn') types. It retrieves standard pricing, costs (e.g., per ECM or unit), and conversions from HQ (Headquarters?) master tables (HQUM, HQMT, HQMU), falling back to inventory data if needed, and outputs validated price/cost along with success/error messages. Primarily ensures data integrity and provides pricing info for equipment/material costing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Supplies dimension data for equipment components, including unique IDs, company linkages, equipment names, and descriptions with a concatenated label for display. Filters base equipment master records\n\nContext: Viewpoint Vista database, view viDim_EMComponent"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bEMEM.KeyID AS EquipmentID,\n    bEMCO.KeyID AS EMCoID,\n    Equipment,\n    Description AS EquipmentDescription,\n    isnull(Equipment, '') + ' ' + isnull(Description, '') AS EquipmentAndDescription\nFROM dbo.bEMEM WITH (NoLock)\nINNER JOIN bEMCO WITH (NoLock) ON bEMCO.EMCo = bEMEM.EMCo\nINNER JOIN vDDBICompanies WITH (NoLock) ON vDDBICompanies.Co=bEMEM.EMCo\nWHERE Type = 'C'\nUNION ALL\nSELECT\n    0\n    ,NULL\n    ,NULL\n    ,'Unassigned'\n    ,NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCTN form?"
      },
      {
        "from": "gpt",
        "value": "The JCTN form includes these fields: InsTemplate, JCTI.PhaseGroup, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUSTPSubmissionLockStateGet do?"
      },
      {
        "from": "gpt",
        "value": "> PR company\n> Tax Year\n> Submission Number\n> LockState value\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptGLTBDDSourceDetailEM do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves detailed drill-down information from the Equipment Management (EM) module for a specific General Ledger (GL) transaction, populating a temporary table with EM cost/revenue details like equipment, components, cost codes, units, and dollars. It supports GL Trial Balance reporting by linking GL entries back to source EM transactions (e.g., costs, details, revenues). Attachments from HQAT are also included for reference."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSPurge do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure purges historical data from the Material Sales (MS) module, including tickets (bMSTD), hauler transactions (bMSHH), invoices, sales, and deleted tickets, up to a user-specified closed GL month. It supports selective purging via flags (@purgetickets, @purgehaulers, etc.) with location filters (@xlocgroup, @xfromloc), marking records for deletion only if not in-use or open. Ensures data integrity by validating MS/GL company existence and month closure before any deletes, outputting purge counts and status via @msg."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspFRXGetFYEMO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the fiscal year end month (FYEMO) and beginning month for a specified company (GLCo) and fiscal year, focusing on the first fiscal period (FiscalPd=1). It is used in Viewpoint Vista ERP's General Ledger module to determine fiscal calendar boundaries for accurate period-end processing and financial reporting. Key operations include querying GLFP, LEFT JOINing to GLFY on company and month ranges, and formatting dates as MM/DD/YYYY strings with a default fallback for nulls.\n\nThis stored procedure retrieves the fiscal year end month (FYEMO) and beginning month for a specified company (GLCo) and fiscal year in Viewpoint Vista ERP's General Ledger module. It queries the GLFP table for the first fiscal period (FiscalPd=1) of the given year, left-joining GLFY to match month ranges, and formats the results as MM/DD/YYYY strings with a '12/1/2050' default for nulls. It supports financial reporting and period management by providing fiscal calendar boundaries.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Job Phase Roles\n\nContext: Viewpoint Vista database, view JCJPRoles"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCJPRoles.*\nFROM dbo.vJCJPRoles;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBInfoGetJBBillHeader do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves company-specific configuration settings for Job Billing (JB) header initialization, pulling defaults like billing types, AR/GL company links, invoice sequencing, tax handling, progress billing options, and posting behaviors from JB, JC, AR, and HQ tables. It validates the JB company exists and populates numerous OUTPUT parameters to supply these settings for UI screens or billing processes. Used to ensure consistent application of billing rules without hardcoding."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Groups\n\nContext: Viewpoint Vista database, view HQGP"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQGP.*\nFROM dbo.bHQGP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: DD Form Header\n\nContext: Viewpoint Vista database, view DDFH"
      },
      {
        "from": "gpt",
        "value": "SELECT vDDFH.*\nFROM dbo.vDDFH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMWF"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMWF: EMCo (bCompany, not null); Equipment (bEquip, not null); Sequence (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCOHACODesc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the description for a specified Alternate Cost Object (ACO) in a job and company from the JCOH table, setting it as an output message. It checks the JBCC table for prior billing history on the ACO and generates a warning output if found, including bill month and number details. Additionally, it calls bspJCMaxACOSeq to compute and output the next available ACO sequence number, supporting job cost management and billing validation in Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPCanvasTreeItemsTemplate table?"
      },
      {
        "from": "gpt",
        "value": "The vVPCanvasTreeItemsTemplate table (Module: VP) contains: KeyID, ItemType, Item, ItemTitle, ParentId, ItemOrder, TemplateName, Expanded, ShowItem"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with JBIJ in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with JBIJ, use:\n\n```sql\nFROM JCCD\nINNER JOIN JBIJ\n  ON JCCD.JCCo = JBIJ.JBCo AND JCCD.Mth = JBIJ.JCMonth AND JCCD.CostTrans = JBIJ.JCTrans\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgrmtAmoritzSchModApplyMod do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies a service agreement modification in the SM module by copying revenue deferral records (tagged with a specific AdjustmentRevision) into the main SMAgreementRevenueDeferral table for the target Revision. It renumbers the Deferral sequence starting after the current maximum for that Revision/Service (using ROW_NUMBER() ordered by Date), ensuring continuity in the amortization schedule. It skips the operation if records already exist for the target Revision."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLITMaxRetgAmt view?"
      },
      {
        "from": "gpt",
        "value": "The SLITMaxRetgAmt view (Module: SL) contains: MaxRetgByPct, SLCo, Mth, BatchId, BatchSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvEMEquipCategory"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvEMEquipCategory: EMCo (bCompany, not null); Equipment (bEquip, not null); Type (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Allocation Categories\n\nContext: Viewpoint Vista database, view EMAG"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMAG.*\nFROM dbo.bEMAG;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Company Templates\n\nContext: Viewpoint Vista database, view PMCompanyTemplates"
      },
      {
        "from": "gpt",
        "value": "SELECT vPMCompanyTemplates.*\nFROM dbo.vPMCompanyTemplates;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCBatchDescTotals do?"
      },
      {
        "from": "gpt",
        "value": "The vspJCBatchDescTotals stored procedure retrieves the description and financial totals for a Job Costing batch in Viewpoint Vista ERP, based on company, month, batch ID, sequence, and source type (e.g., JC CostAdj, JC MatUse, JC RevAdj). It fetches the batch description from the JCCB or JCIB table and calls vspJCCostRevenueBatchTotals to calculate output totals for credits, debits, undistributed amounts, and grand total. This supports batch summary reporting and validation in the Job Costing module for accurate cost/revenue adjustments.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDHRFQ view?"
      },
      {
        "from": "gpt",
        "value": "The PMDHRFQ view (Module: PM) contains: PCOType, PCO, RFQ, PMCo, Project, DocType, Document, Rev, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName... (38 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspUpdateTreeView do?"
      },
      {
        "from": "gpt",
        "value": "The vspUpdateTreeView stored procedure updates the name of a dynamic menu node in Viewpoint Vista's tree view structure. It retrieves the existing name from GPDynamicMenu using the provided NodeKeyID and performs a conditional update in zGPDynamicMenu only if the name has changed. This supports menu customization by enabling safe renaming of tree nodes without unnecessary writes, returning a success code upon completion.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMAssignment table?"
      },
      {
        "from": "gpt",
        "value": "The vSMAssignment table (Module: SM) contains: SMAssignmentID, SMCo, Assignment, WorkOrder, Description, LeadTechnician, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates released AP transaction details from payment headers, details, and lines, calculating net amounts by excluding GST taxes on expense transactions. It produces dual entries per rele\n\nContext: Viewpoint Vista database, view vrvAPRec_APRelease_APDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bAPTD.APCo,\n    bAPTD.Mth,\n    bAPTD.APTrans,\n    bAPTD.APLine,\n    bAPTD.APSeq,\n    bAPPT.GLCo,\n    bAPPT.GLAcct,\n    bAPTD.Amount - CASE WHEN bAPTD.ExpenseGST = 'Y' THEN bAPTD.TotTaxAmount ELSE 0 END AS Amount,\n    bAPTD.ReleaseDate,\n    bAPTD.ReleaseBatchMonth,\n    bAPTD.ReleaseBatchId,\n    'RP' AS AffectedAcct\nFROM dbo.bAPTD\nJOIN dbo.bAPTL\n    ON bAPTD.APCo = bAPTL.APCo\n    AND bAPTD.Mth = bAPTL.Mth\n    AND bAPTD.APTrans = bAPTL.APTrans\n    AND bAPTD.APLine = bAPTL.APLine\nJOIN dbo.bAPPT\n    ON bAPPT.APCo = bAPTD.APCo\n    AND bAPPT.PayType = bAPTD.PayType\nWHERE bAPTD.ReleaseDate IS NOT NULL\nUNION ALL\nSELECT bAPTD.APCo,\n    bAPTD.Mth,\n    bAPTD.APTrans,\n    bAPTD.APLine,\n    bAPTD.APSeq,\n    bAPPT.GLCo,\n    bAPPT.GLAcct,\n    bAPTD.Amount * -1,\n    bAPTD.ReleaseDate,\n    bAPTD.ReleaseBatchMonth,\n    bAPTD.ReleaseBatchId,\n    'AP' AS AffectedAcct\nFROM dbo.bAPTD\nJOIN dbo.bAPTL\n    ON bAPTD.APCo = bAPTL.APCo\n    AND bAPTD.Mth = bAPTL.Mth\n    AND bAPTD.APTrans = bAPTL.APTrans\n    AND bAPTD.APLine = bAPTL.APLine\nJOIN dbo.bAPPT\n    ON bAPPT.APCo = bAPTL.APCo\n    AND bAPPT.PayType = bAPTL.PayType\nWHERE bAPTD.ReleaseDate IS NOT NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRDET10 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRDET10 calculates periodic income tax withholding in payroll processing by annualizing subordinate pay (@subjamt * @ppds), subtracting standard deductions based on filing status (S=3250, M=6500, F=3250) and personal exemptions, then applying progressive tax brackets to compute annual tax before per-periodizing the result. It is used in Viewpoint Vista ERP to determine precise withholding amounts (DET10 deduction) compliant with specific (likely historical) tax tables. Key operations include input validation, bracket-based tax computation with base tax + marginal rate, and output of the withholding amount (@amt) or error message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN Adjustment Batch\n\nContext: Viewpoint Vista database, view INAB"
      },
      {
        "from": "gpt",
        "value": "SELECT bINAB.*\nFROM dbo.bINAB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_BCT20 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the per-pay-period British Columbia (BC) provincial income tax withholding amount (output as @calcamt) for Canadian payroll, based on annual taxable income (@A), pay periods per year (@ppds), basic personal amounts (@TCP), employment credits (CPP @PP/@maxCPP, EI @EI/@maxEI, other @K3P), abatement credits (@S), and labour-sponsored investment fund credits (@LCP from @capstock). It applies BC-specific progressive tax rates (5.06% to 16.80%), deducts credits and abatements, ensures non-negative results, and divides the annual tax by pay periods. Errors are returned via @msg if pay periods are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPCanvasSettings table?"
      },
      {
        "from": "gpt",
        "value": "The vVPCanvasSettings table (Module: VP) contains: KeyID, VPUserName, NumberOfRows, NumberOfColumns, RefreshInterval, TableLayout, GridLayout, TabNumber, TabName, TemplateName, FilterConfigurationSettings, IsDefaultOnAppLoad"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APTHMoveBatchLookup view?"
      },
      {
        "from": "gpt",
        "value": "The APTHMoveBatchLookup view (Module: AP) contains: Mth, APCo, BatchId, SourceAPTrans, Vendor, Name, VendorGroup, PayControl, InvDate, APRef, Description, InUseSource, InUseBy, InUseMth, InUseBatchId... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDHTest view?"
      },
      {
        "from": "gpt",
        "value": "The PMDHTest view (Module: PM) contains: TestType, TestCode, PMCo, Project, DocType, Document, Rev, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName, OldValue... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvAPRec_APRelease_APDetail view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates released AP transaction details from payment headers, details, and lines, calculating net amounts by excluding GST taxes on expense transactions. It produces dual entries per released transaction—one positive amount tagged 'RP' and one negative tagged 'AP'—to represent offsetting ledger impacts from release batches."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJBIN table?"
      },
      {
        "from": "gpt",
        "value": "The bJBIN table (Module: JB) contains: JBCo, BillMonth, BillNumber, Invoice, Contract, CustGroup, Customer, InvStatus, Application, ProcessGroup, RestrictBillGroupYN, BillGroup, RecType, DueDate, InvDate... (99 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Revenue Detail\n\nContext: Viewpoint Vista database, view EMRD"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMRD.*\nFROM dbo.bEMRD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POXI"
      },
      {
        "from": "gpt",
        "value": "Key columns in POXI: POCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDVSLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "This SP loads and outputs all configuration settings for the DDVS (likely Digital Dashboard Vista Services or Viewpoint web/dashboard interface) module from the `vDDVS` table. It retrieves system-wide parameters controlling UI behavior (e.g., max rows, tabs, polling intervals), security (e.g., auto-logout, restrict access), login messaging, integrations (e.g., 4Projects, Nvoicepay, Aatrix, FTP/SMTP), and licensing/version info. These settings enable dynamic client-side configuration without hardcoding."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCRevProjCalc form?"
      },
      {
        "from": "gpt",
        "value": "The JCRevProjCalc form includes these fields: Form, UserName, Projection Date, Write Over Plugs, Methods, Markup, Bill Type Filter, Contract, Contract Item, Contract"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSCustomerAttachmentTypeHeader form?"
      },
      {
        "from": "gpt",
        "value": "The MSCustomerAttachmentTypeHeader form includes these fields: Customer Group, Customer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentSlideShow view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from Document."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMLM view?"
      },
      {
        "from": "gpt",
        "value": "The EMLM view (Module: EM) contains: EMCo, EMLoc, Description, Notes, UniqueAttchID, KeyID, Active"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDQueryableViews view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDQueryableViews."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vWFVPTemplateTasks"
      },
      {
        "from": "gpt",
        "value": "Key columns in vWFVPTemplateTasks: KeyID (int, not null); Task (int, not null); Template (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRTI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRTI: PRCo (bCompany, not null); Craft (bCraft, not null); Template (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNET07 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNET07 calculates per-pay-period state income tax withholding (likely Michigan) from annualized subject wages, adjusted for exemptions and filing status ('S' for single, 'M' for married). It subtracts exemption allowances from the annualized gross (@subjamt * pay periods/year), identifies the tax bracket with marginal rate and cumulative addition, then computes and prorates the annual tax to output @amt. Used in Viewpoint Vista payroll to determine precise state tax deductions for net pay processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetAttachmentsOfType do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a paginated list of AttachmentIDs from the bHQAT table for active attachments matching specified file extensions. It parses a comma-separated string of lowercase extensions into a table variable, extracts the lowercase file extension from each attachment's OrigFileName, and filters for active states (CurrentState 'A' with UniqueAttchID or 'S') with valid filenames. Results are ordered by AttachmentID descending using OFFSET (@skip) and FETCH NEXT (@take) for efficient pagination in Viewpoint Vista ERP applications.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDFormFilters"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDFormFilters: KeyID (int, not null); FormName (varchar, not null); VPUserName (bVPUserName, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrder with SMWorkCompletedAllCurrent in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrder with SMWorkCompletedAllCurrent, use:\n\n```sql\nFROM SMWorkOrder\nINNER JOIN SMWorkCompletedAllCurrent\n  ON SMWorkOrder.SMCo = SMWorkCompletedAllCurrent.SMCo AND SMWorkOrder.WorkOrder = SMWorkCompletedAllCurrent.WorkOrder\n```\n\nThis pattern is used in the vrvSMCostAdjBatchReport view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMUT view?"
      },
      {
        "from": "gpt",
        "value": "The PMUT view (Module: PM) contains: Template, Description, ImportRoutine, Override, StdTemplate, FileType, Delimiter, OtherDelim, TextQualifier, ItemOption, AccumCosts, ContractItem, ItemDescription, BegPosition, EndPosition... (49 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the WDJobParameters view?"
      },
      {
        "from": "gpt",
        "value": "The WDJobParameters view (Module: WD) contains: JobName, Param, Description, InputValue, QueryName, UniqueAttchID, KeyID, Comparison, Operator"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Haul Zone Defaults\n\nContext: Viewpoint Vista database, view MSZD"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSZD.*\nFROM dbo.bMSZD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRequiredMisc"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRequiredMisc: SMRequiredMiscID (bigint, not null); SMCo (bCompany, not null); EntitySeq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in IDSRV.ApiScopeClaims"
      },
      {
        "from": "gpt",
        "value": "Key columns in IDSRV.ApiScopeClaims: Id (int, not null); Type (nvarchar, not null); ApiScopeId (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRSP"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRSP: HRCo (bCompany, not null); HRRef (bHRRef, not null); EffectiveDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProjectionCodeCreateFromPhaseCT do?"
      },
      {
        "from": "gpt",
        "value": "This SP automates the creation of new Projection Codes in the JC module by identifying unassigned Phase/Cost Type (CT) combinations for a specific Job and generating corresponding Projection Codes. It first retrieves available (unassigned) Phase/CT records via a sub-procedure, then uses a cursor to process them, adding new codes while tracking totals added and handling errors. Projection Codes enable detailed cost forecasting and tracking by phase and cost type within job costing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCProjInitPlugPhaseCT do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes \"plug\" projections (forecasted costs/units/hours to completion) for a specific job phase and cost type in the Job Cost module, based on actuals, prior projections, and a minimum completion percentage. It calculates metrics like remaining costs, forecast units, and total projected amounts, validating data from PM and JC tables before updating projection records. The output message reports success or validation errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspGLCloseJBInvoiceList do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure bspGLCloseJBInvoiceList retrieves a distinct list of Job Billing invoices eligible for General Ledger (GL) closing for a specified company and up to a given month. It selects key details like billing company, month, number, contract, and customer from bJBIN, joined with bJCCO and bARCO to filter by GL company match and invoice status ('A', 'C', 'D'). This supports the GL close process by identifying relevant, non-finalized invoices for review or processing prior to period closure.\n\nThis stored procedure retrieves a distinct list of Job Billing invoices (from bJBIN) associated with a specified GL company (@glco) via job cost (bJCCO) or AR companies (bARCO), for billing months up to the provided month (@mth), where invoice status is 'A', 'C', or 'D'. It supports the GL month-end closing process by identifying eligible Job Billing invoices for review or finalization. Key operations include joining tables for GL company linkage and filtering by date and status.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspRQQuoteQouteIDVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Quote ID for a specified company in Viewpoint Vista's RQ module by checking if the company code and Quote ID parameters are provided and if the quote exists in the RQQH table. It is used to ensure valid inputs before quote-related operations, preventing errors from invalid or missing data. Key operations include null checks on inputs, a TOP 1 existence query with NOLOCK, and setting an output error message with a return code (0 for success, 1 for failure).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRFWT03 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates U.S. Federal Income Tax (FWT) withholding for a payroll period by annualizing the subject pay amount (adjusted for exemptions), applying progressive tax brackets based on filing status ('S' for Single or 'M' for Married), and prorating the annual tax back to the pay period. It uses historical tax tables (pre-2001 brackets with rates up to 38.6%) and outputs the withholding amount or an error message if inputs are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedInventoryMaterialVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a material for use in Service Management (SM) Work Completed Inventory transactions, confirming its existence in the HQMT material master and optionally in INMT inventory locations. It populates output parameters with defaults like standard/sales units of measure (UM), taxability, category, description, and JC cost type (via sub-SP), flagging invalid materials and providing error messages. Nonstandard materials are handled with fallback defaults (e.g., 'EA' UM, 'Nonstandard Material' description)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMImportVDGet do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMImportVDGet stored procedure retrieves the corresponding Vista Vendor ID for an imported vendor code during Project Management (PM) import processes. It prioritizes lookups in the PMUX cross-reference table (XrefType=4) for the specified template, with an optional override to a standard template, and falls back to a direct search in the APVM table by vendor group if the import code is numeric and no cross-reference exists. This ensures accurate mapping of external vendor identifiers to internal AP vendors in Viewpoint Vista ERP.\n\nbspPMImportVDGet retrieves the internal Vendor ID from an import vendor identifier during PM import processes in Viewpoint Vista ERP. It first attempts to match the import vendor in the PMUX cross-reference table using the specified template (falling back to a standard template if override is enabled), and if unsuccessful, queries the APVM table directly by vendor group and numeric vendor ID. This ensures flexible vendor resolution for imports, handling both cross-referenced codes and direct lookups while outputting the resolved Vendor ID or null if not found.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Aggregates phase-level production metrics to job level, computing man-hour and cost performance ratios (expected/actual), current estimate totals, variances from expected, and projections for total ho\n\nContext: Viewpoint Vista database, view JCJobProductionCalcs"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [JCCo],\n    [Job],\n    CAST((CASE ISNULL(SUM([Actual Hours]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Hours]), 0) / ISNULL(SUM([Actual Hours]), 0)\n    END)AS decimal(12,2)) AS 'MH Perf',\n    Sum([Curr Est Hours] ) AS 'Curr Est Hours',\n    Sum([Expect Hours])AS 'Expect Hours',\n    Sum([Actual Hours])AS 'Actual Hours',\n    Sum([MHVarFromExpected])AS 'MHVarFromExpected',\n    CAST((CASE ISNULL(SUM([Actual Cost]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Cost]), 0) / ISNULL(SUM([Actual Cost]), 0)\n    END)AS decimal(12,2)) AS 'Amt Perf',\n    Sum([Curr Est Cost])AS 'Curr Est Cost',\n    Sum([Expect Cost])AS 'Expect Cost',\n    Sum([Actual Cost])AS 'Actual Cost',\n    Sum([CostVarFromExpected])AS 'CostVarFromExpected',\n    Sum([Est-Actual Cost])AS 'Est-Actual Cost',\n    CAST((Sum([Curr Est Hours]) / (CASE ISNULL(SUM([Actual Hours]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Hours]), 0) / ISNULL(SUM([Actual Hours]), 0)\n    END ))AS decimal(12,2)) AS 'Projected MH',\n    CAST((Sum([Curr Est Hours])-(Sum([Curr Est Hours]) / (CASE ISNULL(SUM([Actual Hours]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Hours]), 0) / ISNULL(SUM([Actual Hours]), 0)\n    END )))AS decimal(12,2)) AS 'Variance MH',\n    CAST((Sum([Curr Est Cost])/ (CASE ISNULL(SUM([Actual Cost]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Cost]), 0) / ISNULL(SUM([Actual Cost]), 0)\n    END ))AS decimal(12,2)) AS 'Projected Cost',\n    CAST((Sum([Curr Est Cost])-(Sum([Curr Est Cost])/ (CASE ISNULL(SUM([Actual Cost]), 0)\n    WHEN 0 THEN 0\n    ELSE ISNULL(SUM([Expect Cost]), 0) / ISNULL(SUM([Actual Cost]), 0)\n    END )))AS decimal(12,2)) AS 'Variance Cost'\nFROM [JCPhaseProductionCalcs]\nWHERE [% Comp Units]>15 AND [Actual Cost] > 0 AND [Actual Hours] > 0\nGROUP BY [JCCo],[Job];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCOverrides"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCOverrides: JCCo (bCompany, not null); Month (bMonth, not null); MonthFilter (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcpPCBacklogForecast do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a departmental backlog forecast report for potential construction projects in Viewpoint Vista's Preconstruction (PC) module. It aggregates current estimated contract revenue and projected chase values from PCPotentialWork, while pivoting monthly revenue forecasts (as percentages) from PCForecastMonth into 13 columns (prior month through 12 months ahead) relative to @CurrentMonth. Results include department details from JCDM and are scoped to a specific JC company and department."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMProjectDefaultDocumentDistribution view?"
      },
      {
        "from": "gpt",
        "value": "PM Project Default Doc Dist"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRKentonKYC06 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the eligible amount (@eligamt) and calculated amount (@calcamt) for tiered premium or contribution processing, applying rate1 (as a percentage) to amounts up to a $25,000 total threshold (factoring in accumulated subject @accumsubj) and rate2 to excess up to the FICA cap (@ficacap). It is used in Viewpoint Vista ERP payroll or benefits modules to determine contributions based on progressive rates, handling cases where the basis fully or partially qualifies. Key operations include threshold checks, splitting calculations across tiers, summing results, and rounding @calcamt to two decimals.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPREmplValEmplMasterNameForJC do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee identifier (numeric ID, exact sort name, or partial sort name prefix) against the Payroll Employee master table (PREHName) for a specific company in the JC (Job Cost) context. It retrieves and outputs key employee details like sort name, last/first/middle names, and active status, while enforcing active/inactive checks based on the provided option. If valid, it formats a display name in the output message; otherwise, it returns an error code and message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQET"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQET: EarnType (bEarnType, not null); Description (bDesc, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEquipSTDMtnGrpItemWOCnt view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view aggregates counts of work orders by company, equipment maintenance group, equipment identifier, standard maintenance group, and standard maintenance item, filtering out final ('F') status types and null standard maintenance fields. It joins work item details with status definitions to ensure active records only. The key calculation is WOCount as the COUNT of WorkOrder per grouping."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Tax Links\n\nContext: Viewpoint Vista database, view HQTL"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQTL.*\nFROM dbo.bHQTL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasGridSettingsTemplate"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasGridSettingsTemplate: KeyID (int, not null); QueryName (varchar, not null); GridLayout (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pRequestedAccounts table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pRequestedAccounts table (Module: Other) contains: RequestedAccountID, UserName, FirstName, MiddleName, LastName, EmailAddress, PhoneNumber, Company, Role, Description, Date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vDDCI with POCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vDDCI with POCO, use:\n\n```sql\nFROM vDDCI\nINNER JOIN POCO\n  ON vDDCI.DatabaseValue = POCO.GLRecExpInterfacelvl\n```\n\nThis pattern is used in the vrvCompanySettings view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMRevenueProjectionOption form?"
      },
      {
        "from": "gpt",
        "value": "The PMRevenueProjectionOption form includes these fields: Contract, Write Over Plugs, Projection Methods, Markup Percent, Bill Type Filter, Beginning Contract Item, Ending Contract Item, Beginning Department, Ending Department"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPComplyCheck do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates AP invoice line compliance before payment approval, ensuring lines linked to Purchase Orders (PO, linetype 6) or Subcontracts/Service Ledgers (SL, linetype 7) meet company-specific rules from HQ compliance profiles (bHQCP). It checks if verified POs/SLs have expired document compliance (CompType 'D') or uncomplied final status (CompType 'F'), blocking payment with an error message if non-compliant. Returns 0 for pass, 1 for fail with descriptive message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARReleaseCheckBatches do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an Accounts Receivable (AR) batch header entry before release, ensuring no duplicate batch sequences exist for the same customer/contract combination within the batch and no unposted batches with retainage remain open for that customer after the last closed AR period. It retrieves the linked GL company and last closed month for context, setting an error message and return code if validations fail. The SP enforces data integrity to prevent accounting errors during batch processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMWORepairTypes form?"
      },
      {
        "from": "gpt",
        "value": "The EMWORepairTypes form includes these fields: EM Group, Repair Type, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPRDedNotTaken view?"
      },
      {
        "from": "gpt",
        "value": "The brvPRDedNotTaken view (Module: PR) contains: PRCo, Employee, Frequency, RateAmt, LastName, FirstName, MidName, DLCode, EarnCode, ActiveYN, PREndDate, Record"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMScopePriority"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMScopePriority: SMScopePriorityID (int, not null); PriorityName (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_EMWarranty view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_EMWarranty view (Module: EM) contains: EMCoID, DepartmentID, CategoryID, EquipmentID, WarrantyID, DaysLeft, MonthsLeft, YearsLeft, MilesLeft, HoursLeft, WarrantyExpirationDateID, FiscalMthID, DatePurchasedID, WarrantyCost, IsExpired... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HR Benefit Group\n\nContext: Viewpoint Vista database, view HRBG"
      },
      {
        "from": "gpt",
        "value": "SELECT bHRBG.*\nFROM dbo.bHRBG;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: RQ Line Reviewer\n\nContext: Viewpoint Vista database, view RQRR"
      },
      {
        "from": "gpt",
        "value": "SELECT bRQRR.*\nFROM dbo.bRQRR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvAPRec_APPayment"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvAPRec_APPayment: GLCo (bCompany, nullable); Mth (bMonth, nullable); GLAcct (bGLAcct, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCHQCOGroupGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves company-specific group codes and job posting flags for a given HQ/JC company code from the JCCO and HQCO tables in Viewpoint Vista's job costing system. It validates the input @co parameter, selects PostClosedJobs and PostSoftClosedJobs from JCCO, and fetches MatlGroup, PhaseGroup, VendorGroup, CustGroup, EMGroup, and TaxGroup from HQCO, outputting them via parameters along with any error messages. It is used to obtain configuration settings for grouping and posting behaviors in job cost processing, returning a success/error code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMDeprProc form?"
      },
      {
        "from": "gpt",
        "value": "The EMDeprProc form includes these fields: Batch Month, Batch ID, EM GL Company, Last Month Calculated, Company Depr Cost Code, Company Depr Cost Type, Depr Monthly Record Count, Actual Date, Post Depr for selected Assets, Equipment"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_MSCompany"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_MSCompany: MSCoID (bigint, not null); MSCo (tinyint, nullable); CompanyName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptSMInvoice do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a customizable report for Service Management (SM) invoices, pulling details from work orders, completed work, scopes, and related invoice lines. It supports dynamic grouping (up to 5 levels) by fields like service site, call type, technician, work type, equipment, part, or scope, filtered by invoice number, date range, company, and session. The output is structured for reporting tools (e.g., Crystal Reports via \"vrpt\" prefix) to analyze service billing data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPRTc view?"
      },
      {
        "from": "gpt",
        "value": "The RPRTc view (Module: RP) contains: ReportID, Title, FileName, Location, ReportOwner, ReportType, ShowOnMenu, ReportMemo, ReportDesc, UserNotes, UniqueAttchID, AppType, Version, IconKey, AvailableToPortal... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPEM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPEM: APCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vMSRecipientsDefaultQuote.\n\nContext: Viewpoint Vista database, view MSRecipientsDefaultQuote"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vMSRecipientsDefaultQuote;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQADGetNextRecID do?"
      },
      {
        "from": "gpt",
        "value": "> select * from bHQAD\\\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRDLCalcCatVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the compatibility of a calculation category and method for a payroll deduction/liability (DL) code within a specific company. It checks for conflicts, such as pre-tax deductions (EDLType='D') using the DL code as a basis, enforcing allowed categories ('F','S','L','I','E' or 'C','E') and methods ('G','R','S'). Returns an error message via @msg and 1 on failure, ensuring payroll setup integrity."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMSLTotal"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMSLTotal: SLCo (bCompany, not null); SL (varchar, not null); SLTotal (numeric, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCID"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCID: JCCo (bCompany, not null); Mth (bMonth, not null); ItemTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ptvPREHViewCombined view?"
      },
      {
        "from": "gpt",
        "value": "The ptvPREHViewCombined view (Module: PR) contains: Employee, Name, Craft, CraftDesc, Class, ClassDesc, EarnCode, PRCo, CombinedName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNMT07 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNMT07 calculates Montana state income tax withholding per pay period in Viewpoint Vista ERP payroll processing. It annualizes the subject pay amount by multiplying by pay periods per year and subtracting exemption allowances (at $3450 each), then applies progressive tax brackets and rates based on filing status ('S' for single or 'M' for married) to compute the annual tax liability, prorates it back to the pay period, and sets it to zero if below a $29 annual threshold. Key operations include bracket lookups, tax formula application (@tax_addition + (annualized_wage - wage_bracket) * rate), and error handling for invalid inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDCustomGroups table?"
      },
      {
        "from": "gpt",
        "value": "The vDDCustomGroups table (Module: DD) contains: Id, Name, Order, ImageKey, RecordTypeId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRPCRptTo view?"
      },
      {
        "from": "gpt",
        "value": "The HRPCRptTo view (Module: HR) contains: HRCo, PositionCode, JobTitle, Description, BegSalary, EndSalary, PartTimeYN, PartimeHrs, AdYN, AdMode, ClosingDate, BonusYN, BonusPct, ReportLevel, ReportPosition... (24 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCAEmployerItemLookup"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCAEmployerItemLookup: PRCo (bCompany, not null); TaxYear (char, not null); T4BoxNumber (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ABT17 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates Alberta (AB) provincial income tax for Canadian payroll, annualizing employee income (@A) and applying a flat 10% rate to taxable CPP contributions (@TCP), capped PP (@PP/@maxCPP), and capped EI (@EI/@maxEI) to derive base amounts (K1P, K2P). It then applies progressive tax brackets (10-15%) to annualized income for a bracketed tax amount (T4), storing results in a temp table for payroll withholding or T4 slip computation. Returns computed tax (@calcamt) or error (@msg) if pay periods (@ppds) missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMNT052 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMNT052 calculates Montana state income tax withholding per pay period based on subject pay amount, pay periods per year, filing status ('S' for Single, 'M' for Married), and exemptions. It annualizes wages by multiplying subject amount by pay periods and subtracting $3200 per exemption, then applies progressive brackets (e.g., 5.35% up to $1800/$5500, escalating to 7.85%) to compute annual tax before dividing by pay periods and rounding. Used in Viewpoint Vista payroll to accurately deduct state taxes per Montana withholding rules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUSTPValABN do?"
      },
      {
        "from": "gpt",
        "value": "> ABN to validate\n> Err Msg\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDFormFilters.\n\nContext: Viewpoint Vista database, view DDFormFilters"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vDDFormFilters;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetAvailableTemplates do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a list of Canvas Settings Template names available to a specific user in a given company, based on user-specific security permissions. It evaluates access levels from template security records, prioritizing user grants across company-specific ('OneCompany') and global ('AllCompany') scopes, using MAX/COALESCE logic to determine effective access (likely filtering for viewable templates). The result supports user template selection in Viewpoint's Canvas/dashboard system."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMCostProjectionDetail form?"
      },
      {
        "from": "gpt",
        "value": "The PMCostProjectionDetail form includes these fields: Project, Phase Group, ProjectionCode, Projection Date, Phase, Cost Type, UM, Proj Code Units, Actual Date, Actual Hours"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRCAEmployerItems table?"
      },
      {
        "from": "gpt",
        "value": "The bPRCAEmployerItems table (Module: PR) contains: PRCo, TaxYear, T4BoxNumber, T4BoxNumberSeq, EDLType, EDLCode, AmtType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptJCLaborProdByPhaseWithPeriod do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a detailed labor productivity report for Job Cost (JC) by phase, comparing actual costs, hours, and units against original, current, and projected estimates within a specified company, job range, date period, and cost type. It aggregates data from job analysis views and master tables (e.g., phases, jobs, projects) into temp tables for reporting, focusing on metrics like earned hours/units based on date-filtered actuals. The output supports phase-level productivity analysis, such as actual vs. budgeted performance."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRRS view?"
      },
      {
        "from": "gpt",
        "value": "The HRRS view (Module: HR) contains: HRCo, HRRef, Code, CertDate, ExpireDate, SkillTester, HistSeq, Notes, UniqueAttchID, Type, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vMailQueueAttchLink table?"
      },
      {
        "from": "gpt",
        "value": "The vMailQueueAttchLink table (Module: Other) contains: MailID, AttachID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPCBidAwardedValidation do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specific scope/phase in a bid package has already been awarded to a different vendor/contact when attempting to award it ('Y') to a new one. If an existing award is found, it generates a warning message identifying the current awardee (contact name from vendor group) and returns 1 to indicate a potential override; otherwise, it returns 0 with no message. It ensures users are alerted before overwriting bid awards in the preconstruction bidding process."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJobAnalysisCostTypeL-MH-RPT view?"
      },
      {
        "from": "gpt",
        "value": "Provides detailed labor (man-hour) cost analysis by job, phase group, phase, and cost type, comparing original/current estimates, actuals, and projections for units, hours, costs, plus productivity metrics like estimated/actual unit MH, $/MH, and MPF-adjusted projections. Key transformations derive unit-level productivities (e.g., CurrEstUnits/CurrEstHours), projected MH from actual unit MH, MPF-impacted hours/variances, and cost variances (e.g., Est $/MH minus Actual $/MH)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMCustomer form?"
      },
      {
        "from": "gpt",
        "value": "The SMCustomer form includes these fields: Cust Group, Customer, Address, City, State, Zip, Country, AltBillAddr, Alternate Bill To, Bill To"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDUD view?"
      },
      {
        "from": "gpt",
        "value": "The DDUD view (Module: DD) contains: Form, Identifier, TableName, Seq, ColumnName, Description, Datatype, ColType, BidtekDefaultValue, RequiredValue, UpdateKeyYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINCBValDist do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates and prepares GL distribution entries for inventory count batch (INCB) confirmations or reversals in the Inventory (IN) module. It retrieves old or new count data (with reversals as negative units), calculates inventory adjustments, costs, taxes, and Job Cost (JC) allocations, then determines appropriate GL accounts for inventory value, cost variances, sales, and quantity impacts. The output error message flags invalid inputs, ensuring accurate posting of count variances to GL and JC."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bUDVD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bUDVD: Seq (int, not null); TypePC (char, not null); Parameter (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPORSPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts a batch of purchase order receipts (PORS) by validating batch status/control, marking it as \"posting in progress,\" committing updates to Job Cost (JC) via bspPORBExpPostJC, verifying JC completion, and then posting to General Ledger (GL) via bspPORBExpPostGL. Handles PO receipt data from bPORS, linking to PO headers/items (bPOHD/bPOIT), receipts (bPORE/bPORG/etc.), and views like vPOItemLine for inventory/job costing. Returns errors for invalid batches, missing dates, or incomplete postings to prevent partial commits."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Shops\n\nContext: Viewpoint Vista database, view EMSX"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMSX.*\nFROM dbo.bEMSX;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bDDUF_Archive table?"
      },
      {
        "from": "gpt",
        "value": "The bDDUF_Archive table (Module: DD) contains: Form, Description, BatchYN, DestTable, BatchSource, UploadRoutine, BidtekRoutine, ImportRoutine, ArchiveDate, ArchiveID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMMR view?"
      },
      {
        "from": "gpt",
        "value": "The EMMR view (Module: EM) contains: EMCo, Mth, EMTrans, BatchId, Equipment, PostingDate, ReadingDate, Source, PreviousHourMeter, CurrentHourMeter, PreviousTotalHourMeter, CurrentTotalHourMeter, Hours, PreviousOdometer, CurrentOdometer... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMPOTotal view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers purchase order totals (current/original amounts and taxes) from PO headers and items, augmented with aggregated pending unprocessed PMMF amounts (for PO-linked material options with send flag) distinguished as original/current and including calculated taxes via rate function. It includes a flag for POs with such pending PM records, a status-based sort order, vendor firm number, and grand totals combining PO and PM components."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viFact_JCDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in viFact_JCDetail: JCCoID (bigint, not null); PMCoID (bigint, nullable); JobID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Payroll Groups\n\nContext: Viewpoint Vista database, view PRGR"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRGR.*\nFROM dbo.bPRGR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPosCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHRPosCodeVal validates a position code for a given HR company by querying the HRPC table for a matching entry. It returns 0 on success, outputting the code's description in the message parameter, or 1 with an error message if the code is invalid, missing, or the HR company is unspecified. This procedure ensures data integrity in HR processes by confirming valid position codes before use in transactions or integrations.\n\nThe bspHRPosCodeVal stored procedure validates a Position Code for a given HR Company by querying the HRPC table. It checks for null inputs, retrieves the Description if the code exists, or sets an error message and return code 1 if invalid or missing. Used in HR processes to confirm legitimate Position Codes before further operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDSecurityFormVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the existence of a specified security form against the vDDFH view in Viewpoint Vista ERP's form handling system. It checks for required input parameters (@form and @securityform), retrieves the form's title if the securityform matches an entry, and outputs an error message if missing or invalid (unless securityform equals form). Primarily used to enforce security checks before form operations, returning 0 for success or 1 for failure with a descriptive message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSWHPostGL do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts summarized General Ledger transactions from the Material Sales Warehouse GL workfile (bMSWG) to GL Detail Transactions (bGLDT) for a specified MS company, month, and batch. It aggregates amounts by GL company/account (excluding detail-interface accounts) based on the AP company's GL export interface level (summary posting at level 1), generates GL transaction numbers, and handles validations like valid MS/AP companies. If interface level is 0, it simply deletes the workfile entries without posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDSLDatatypes view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDSL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINMBPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts batched inventory material orders (staged in bINMB) to live tables like bINMO (material order headers), marking the batch as \"posting in progress\" (status 4) and committing adds ('A' transactions) via a cursor loop. Ensures batch validity via HQ batch controls before transactional inserts, with rollback on errors. Prepares for further processing like job costing integration (visible vars like @jcco, @job)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMCustomerFullText"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMCustomerFullText: Customer (bCustomer, not null); SMCo (bCompany, nullable); SMCustomer (bCustomer, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPMIssueHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPMIssueHistory: KeyID (bigint, not null); IssueKeyID (bigint, not null); RelatedTableName (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPPOITTotalGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates and retrieves cumulative totals (units, costs, taxes) for a specific purchase order line item (POIT) in the AP module, including current PO balances, received/invoiced/remaining amounts, and batch-specific adjustments. For @source='E', it aggregates differences between new/old invoice line amounts from AP batch lines (bAPLB) based on transaction types (e.g., changes, additions, deletions). For @source='U', it sums units/costs/taxes directly from AP utility lines (bAPUL), aiding PO invoice matching and validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCTForLinkCT do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates and resolves a Job Cost (JC) Cost Type (from JCCT table) for linking purposes within a specific Phase Group. It accepts a Phase Group ID and a link cost type identifier (numeric ID or abbreviation prefix), looks up the matching JCCT record (direct match or LIKE on Abbreviation), and outputs the resolved Cost Type ID, its Abbreviation, and Description. It enforces rules like valid numeric ranges (0-255), existence checks, and prevents self-linking (when link cost type matches the target cost type)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRPretaxEDLLookup view?"
      },
      {
        "from": "gpt",
        "value": "This view creates a unified lookup table of pre-tax payroll Earnings, Deductions, and Liabilities (EDL) by unioning deduction/liability codes with earnings codes, assigning earnings a fixed pre-tax flag and basis flag. Earnings are treated as pre-tax with EDLType 'E', while deductions/liabilities retain their native flags."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMET12 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure (bspPRMET12) calculates Michigan state income tax withholding for payroll based on an annualized wage derived from the subject pay amount multiplied by pay periods per year, adjusted for withholding allowances, exemptions, and non-resident alien status. It applies progressive tax brackets depending on employee filing status ('S' for Single, 'M' or 'B' for others like Married/Head of Household), outputting the computed tax amount or zero for wages below thresholds. Defaults and validations ensure accurate application of 1990s-era MI tax tables (e.g., 2-8.5% rates with specific brackets)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCostProjectionDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCostProjectionDetail: JCCo (bCompany, not null); Job (bJob, not null); ProjectionCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRKST14 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRKST14 calculates Puerto Rico state income tax withholding per pay period in Viewpoint Vista payroll processing. It annualizes the subject pay amount minus exemptions ($2250 each), applies progressive brackets based on status ('S' single: 0%/2.7%/4.8% over 0/3000/18000; 'M' married: doubled thresholds) to compute annual tax, then divides by pay periods per year and rounds to whole dollars. Used for accurate PR tax deductions; outputs tax amount or error message if inputs invalid.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bARBC table?"
      },
      {
        "from": "gpt",
        "value": "The bARBC table (Module: AR) contains: ARCo, Mth, BatchId, CMCo, CMAcct, CMDeposit, OldNew, ActualDate, Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vMSSession"
      },
      {
        "from": "gpt",
        "value": "Key columns in vMSSession: FormInstanceGuid (uniqueidentifier, not null); Co (bCompany, not null); MSInvoiceID (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POCB"
      },
      {
        "from": "gpt",
        "value": "Key columns in POCB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_JCContractItem view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_JCContractItem view (Module: JC) contains: ContractItemID, ContractID, JCCo, JCCoID, Contract, Item, ItemDescription, ItemBillType, SICodeID, SIRegion, SICode, SIRegionAndCodeDescription, BillGroupID, BillGroup, BillGroupDescription"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join dbo].[WFProcessDetailApprover with [WFProcessDetailApproverHistory in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join dbo].[WFProcessDetailApprover with [WFProcessDetailApproverHistory, use:\n\n```sql\nFROM dbo].[WFProcessDetailApprover\nINNER JOIN [WFProcessDetailApproverHistory\n  ON dbo].[WFProcessDetailApprover.KeyID = [WFProcessDetailApproverHistory.KeyID\n```\n\nThis pattern is used in the vrvWFProcessApprovalOutstandingDocs view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvAPRec_APRelease view?"
      },
      {
        "from": "gpt",
        "value": "This report validation view reconciles summed AP release amounts from batch details against matching General Ledger detail transactions (sourced as 'AP Release') by company, month, GL account, and batch ID. It uses CTEs to aggregate amounts separately then applies a full outer join to display AP_Amt and GL_Amt side-by-side, surfacing discrepancies where one side exists without the other. Key transformations include COALESCE for unified keys and zero-filling missing amounts."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWOInvoiceDescriptionWorkOptions"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWOInvoiceDescriptionWorkOptions: SMWOInvoiceDescriptionWorkOptionsID (int, not null); SMCo (bCompany, not null); Field (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join brvSLCT_DistinctSL with sh in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join brvSLCT_DistinctSL with sh, use:\n\n```sql\nFROM brvSLCT_DistinctSL\nINNER JOIN sh\n  ON brvSLCT_DistinctSL.SLCo = sh.SLCo AND brvSLCT_DistinctSL.SL = sh.SL\n```\n\nThis pattern is used in the vrvPMVendorRegister view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWOAdjustmentVerifyForDelete do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the eligibility of a Service Management (SM) Work Order adjustment (on a Work Completed line) for deletion by checking input parameters and confirming the existence of related source/destination records in vSMWorkCompleted. It differentiates between source and destination adjustments via @SourceWorkCompleted, populating variables for original/adjusted Work Completed details or setting an error message (@msg) if records are missing. Returns 1 on failure to block invalid deletions, ensuring data integrity in SM work order adjustments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCMC"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCMC: UM (bUM, not null); MUM (bUM, not null); IMFactor (decimal, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INLS view?"
      },
      {
        "from": "gpt",
        "value": "The INLS view (Module: IN) contains: INCo, Loc, Co, GLCo, JobSalesGLAcct, InvSalesGLAcct, EquipSalesGLAcct, JobQtyGLAcct, InvQtyGLAcct, JobHaulRevEquipGLAcct, InvHaulRevEquipGLAcct, JobHaulRevOutGLAcct, InvHaulRevOutGLAcct, JobHaulExpEquipGLAcct, InvHaulExpEquipGLAcct... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPFR"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPFR: Form (varchar, not null); ReportID (int, not null); OvrDocumentTitle (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the Document view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from Document."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNJT21 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New Jersey state income tax withholding (likely Table 21) for payroll, annualizing per-pay-period subject wages (@subjamt) by pay periods per year (@ppds), subtracting exemptions (@exempts * $1000), and applying progressive tax brackets based on filing status (@status: 'S'=Single, 'M'=Married) and wage chart (@wage_chart: 1 or 2). It outputs the per-pay-period tax amount (@amt) or zero if non-taxable, with error messaging (@msg) for invalid inputs like missing @ppds."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPCopyWorkCenterInLibrary do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure copies a specific WorkCenter library entry from a source (identified by KeyID, Name, and Owner) to a new destination Name and Owner in Viewpoint Vista ERP's user library system. It is used to duplicate WorkCenters for reuse, sharing, or customization across users without altering the original. Key operations include validating inputs (non-empty destination details, valid Owner existence, no duplicate destination), then inserting a new record into vVPWorkCenterUserLibrary with copied WorkCenterInfo, PublicShare, Notes, and current DateModified, or returning error messages via output parameter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentResponseValue view?"
      },
      {
        "from": "gpt",
        "value": "This view flattens XML-stored responses from document interactions into individual rows of field names and corresponding values, enabling relational querying of structured response data. It links each response to its document, participant, and processing status for comprehensive response analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPLBSubjectToOnCostVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a vendor in Viewpoint's AP module is properly configured for on-cost valuation. It first checks for non-null VendorGroup and Vendor parameters, then—if SubjectToOnCost is 'Y'—verifies the existence of an on-cost setup record in vAPVendorMasterOnCost for the specified AP company, VendorGroup, and Vendor. If any check fails, it outputs an error message (e.g., missing parameters or unset on-cost types) and a return code of 1; success returns code 0 with no message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SysColumnType view?"
      },
      {
        "from": "gpt",
        "value": "This view extracts metadata for every column in all database views, including column name, parent view name, data type details, and properties like length, precision, and scale. It generates a sequential ID by sorting columns alphabetically across views. Provides a unified catalog of view schemas for structural analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_EMComponent"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_EMComponent: EquipmentID (bigint, not null); EMCoID (bigint, nullable); Equipment (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMViewpointDefaultsSLEntry do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure applies Viewpoint defaults for SL Entry imports by routing to specialized sub-procedures based on the form type. It retrieves the form name ('SLEntry' or 'SLEntryItems') from the IMTR table using the record type and import template, then executes vspIMViewpointDefaultsSLEntrySLHB for headers or vspIMViewpointDefaultsSLEntrySLIB for items. Used in the import process to ensure data consistency by automatically populating standard fields in Sales Ledger entries.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMRD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMRD: PMCo (bCompany, not null); Project (bJob, not null); RFIType (bDocType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APOnCostWorkFile form?"
      },
      {
        "from": "gpt",
        "value": "The APOnCostWorkFile form includes these fields: Trans Mth, AP Trans #, User ID, vendor grp from loac proc, APTH vendor, APTH APRef, APTH Invoice Date, APTH header description, APTH headeropen, select by vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEFTRouteIDVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspEFTRouteIDVal stored procedure validates an EFT routing ID for a given company by checking if the company's default country is 'US' and enforcing a strict 9-digit numeric format without special characters like commas, dashes, periods, or plus signs. It is used to ensure compliance with US banking routing number standards during data entry or processing in Viewpoint Vista ERP. Key operations include querying the HQCO table for the default country, performing length, numeric, and character checks via vfIsNumeric and CHARINDEX, then outputting an error message and return code (0 for valid, 1 for invalid).\n\nThe bspEFTRouteIDVal stored procedure validates EFT routing IDs specifically for US companies by checking if the provided route ID is exactly 9 numeric digits with no special characters like commas, dashes, periods, or plus signs. It is used to ensure compliance with US banking standards for electronic funds transfers during data entry or processing. Key operations include querying the company's default country, performing length and numeric checks via vfIsNumeric, and returning a success code (0) or error code (1) with an output message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRELStats"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRELStats: PRCo (bCompany, not null); Employee (bEmployee, not null); LeaveCode (bLeaveCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUUpdatePostAccumsDetail do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates detailed employee payroll accumulations (e.g., YTD hours, earnings, subject/eligible amounts) post-payroll posting for a specific company, payroll group, and pay period end date. It reconciles changes in income stream types/countries, handles paybacks/overtime, and captures old/new values to maintain accurate accumulations for tax reporting, compliance, and superannuation (PRAU suggests Australia-specific handling). Processes via temp tables for sequencing and detail diffs to ensure precise accrual adjustments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSMA table?"
      },
      {
        "from": "gpt",
        "value": "The bMSMA table (Module: MS) contains: MSCo, Mth, BatchId, BatchSeq, MatlGroup, Material, UM, UnitCost, ECM, GLCo, GLAcct, TaxGroup, TaxCode, TransMth, MSTrans... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSHX"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSHX: MSCo (bCompany, not null); Quote (varchar, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOSAdd do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure creates a new Potential Change Order (PCO) linked to an existing RFI within a specific project in the Project Management (PM) module. It validates inputs, copies RFI details (e.g., notes, responses, attachments), generates a new PCO issue number, and inserts PCO header and item records with pricing, scheduling, and budget impacts. It outputs the new PCO Key ID and any error messages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_YTT152 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_YTT152 calculates the per-pay-period Quebec health contribution (cotisation santé) based on annual income (@A) and parameters like pay periods (@ppds), CPP/EI contributions, and capital stock (@capstock). It determines a tiered tax rate (5.76% to 17.24%) and basic credit (@KP) from income brackets, subtracts credits for TCP (@K1P), CPP/EI (@K2P), input (@K3P), and capped amount (@K4P) to get base tax (@T4), adds a 5% surcharge (@V1) if over $6,000, deducts a labor credit (@LCP), and divides the result by pay periods for @calcamt. Used in Viewpoint payroll for accurate periodic Quebec health contribution withholdings compliant with provincial rules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PCBidPackageScopes view?"
      },
      {
        "from": "gpt",
        "value": "The PCBidPackageScopes view (Module: PC) contains: JCCo, PotentialProject, BidPackage, Seq, VendorGroup, ScopeCode, PhaseGroup, Phase, Notes, UniqueAttchID, KeyID, AwardedVendorGroup, AwardedVendor, AwardedContactSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Document Review\n\nContext: Viewpoint Vista database, view HQDR"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQDR.*\nFROM dbo.bHQDR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCrew form?"
      },
      {
        "from": "gpt",
        "value": "The PRCrew form includes these fields: Crew, Description, JCCo, Job, Lock Phases flag, PhaseGroup, Phase1, Phase2, Phase3, Phase4"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCRevAdj form?"
      },
      {
        "from": "gpt",
        "value": "The JCRevAdj form includes these fields: Month, Batch ID, BatchSeq, OrigMth, OrigItemTrans, From GLCo, GL Account Override, Trans Type, Item Trans, UM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspLicenseUsage_ExistsWithClaimaintNameOf do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure verifies if a license usage record exists in the [LIC].[LicenseUsage] table for a specified EnterpriseID and ClaimedBy username. It returns 0 if a matching record is found (license is claimed), and 1 otherwise, while setting an output error message for null inputs. Used in Viewpoint Vista ERP license management to check for existing claims and prevent duplicates before assigning or validating licenses.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Project Locations\n\nContext: Viewpoint Vista database, view PMPL"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMPL.*\nFROM dbo.bPMPL\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMPL.Project, bPMPL.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrder with vrvSMServiceSiteCustomer in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrder with vrvSMServiceSiteCustomer, use:\n\n```sql\nFROM SMWorkOrder\nINNER JOIN vrvSMServiceSiteCustomer\n  ON SMWorkOrder.SMCo = vrvSMServiceSiteCustomer.SMCo AND SMWorkOrder.ServiceSite = vrvSMServiceSiteCustomer.ServiceSite\n```\n\nThis pattern is used in the vrvSMWorkOrderScopeList view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCACDepartments form?"
      },
      {
        "from": "gpt",
        "value": "The JCACDepartments form includes these fields: Department, AllocCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMInspectionLogs form?"
      },
      {
        "from": "gpt",
        "value": "The PMInspectionLogs form includes these fields: Project, Default Vendor Group, Document Category Active, Document Category, Project, JCJM.JobStatus, Default Vendor Group, project our firm, PMCO Exists Flag, VendorGroup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPAddComplianceToPOSL do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure bulk-adds, updates ('A' or 'C' mode), or deletes ('D' mode) compliance records for a specific compliance code (e.g., insurance, certification) across all open Purchase Orders (POs) and/or Subledgers (SLs) tied to a vendor group and vendor in a company. It pulls compliance details from bHQCP, auto-increments sequence numbers for new PO/SL compliance lines (bPOCT/bSLCT), sets verification/expiration/compliance flags, and nulls the complied flag for document-type ('D') compliances. An output message parameter captures results, supporting vendor compliance management in AP."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQST view?"
      },
      {
        "from": "gpt",
        "value": "The HQST view (Module: HQ) contains: State, Name, W2Name, Notes, UniqueAttchID, KeyID, Country"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSPostGL do?"
      },
      {
        "from": "gpt",
        "value": "This SP posts General Ledger (GL) transactions from Material Sales (MS) batches to the GL module by processing entries in bMSGL based on the MS company's GL ticket interface level (GLTicLvl: 0=skip/delete, 1=summarize non-interface-detail accounts, 2=likely detail). It validates MS company setup, aggregates amounts by GL account/company where needed, and prepares transactional postings with batch references. Output error messages handle invalid configs or missing data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMPCOSCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PMPCOSCopy form includes these fields: Project, PCO Type, PCO, New Project, New PCO Type, New PCO, New PCO Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQWF"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQWF: TemplateName (varchar, not null); Seq (int, not null); DocObject (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HR Accident Claim Contacts\n\nContext: Viewpoint Vista database, view HRCC"
      },
      {
        "from": "gpt",
        "value": "SELECT bHRCC.*\nFROM dbo.bHRCC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides all vendor contact details from PMPM with a concatenated full contact name (FirstName + MiddleInit + LastName) and optional overridden mailing address fields (address, city, state, zip, count\n\nContext: Viewpoint Vista database, view PMPM1"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent PMPM.*,\n    'FullContactName' = ltrim(rtrim(isnull(PMPM.FirstName,''))) + ' ' + ltrim(rtrim(isnull(PMPM.MiddleInit,''))) + ' ' + ltrim(rtrim(isnull(PMPM.LastName,''))),\n    PMPMOvrdAddr.OvrdMailAddress,\n    PMPMOvrdAddr.OvrdMailAddress2,\n    PMPMOvrdAddr.OvrdMailCity,\n    PMPMOvrdAddr.OvrdMailState,\n    PMPMOvrdAddr.OvrdMailZip,\n    PMPMOvrdAddr.OvrdMailCountry\nFROM dbo.PMPM\nJOIN dbo.PMPMOvrdAddr ON PMPMOvrdAddr.VendorGroup=PMPM.VendorGroup AND PMPMOvrdAddr.FirmNumber=PMPM.FirmNumber AND PMPMOvrdAddr.ContactCode=PMPM.ContactCode;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Meter Readings\n\nContext: Viewpoint Vista database, view EMMeterReading"
      },
      {
        "from": "gpt",
        "value": "SELECT vEMMeterReading.*\nFROM dbo.vEMMeterReading;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQStdNoteVal do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQStdNoteVal stored procedure retrieves the description for a given standard note code from the HQNT table in Viewpoint Vista ERP. It is used to validate standard notes, ensuring the input @stdnote is provided and exists, typically for business processes involving predefined note texts. Key operations include checking for null input (returning error code 1 and 'Missing Standard Note' message if invalid), querying the description into the @msg output parameter if valid, and returning success code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRAP"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRAP: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: VS Batch Header\n\nContext: Viewpoint Vista database, view VSBH"
      },
      {
        "from": "gpt",
        "value": "SELECT bVSBH.*\nFROM dbo.bVSBH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HR PTO Approver Groups\n\nContext: Viewpoint Vista database, view HRAG"
      },
      {
        "from": "gpt",
        "value": "SELECT bHRAG.*\nFROM dbo.bHRAG;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCMCOCompanyGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the CMCo (company code) from the bAPCO table for a specified APCo value, defaulting to 0 if none provided. It is used in Viewpoint Vista ERP to fetch the associated company identifier, supporting accounting or payables lookups. The sole key operation is a filtered SELECT query on bAPCO by @apco.\n\nThe bspCMCOCompanyGet stored procedure retrieves the CMCo value from the bAPCO table for a specified @apco parameter. It is used in Viewpoint Vista ERP to look up the associated Construction Management Company code linked to an Accounting Company identifier. The key operation is a single, parameterized SELECT query with filtering on APCo.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCJPDescGet view?"
      },
      {
        "from": "gpt",
        "value": "The JCJPDescGet view (Module: JC) contains: JCCo, Job, PhaseGroup, Phase, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMVFEImportInfo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the VFE Import Template for a specified PM Company from the PMCO table, falling back to a default template from PMUT (for 'MEP Estimating' or 'Estimating' routines) if none is configured. It validates the PM Company's existence and returns an error code/message via output parameters if invalid or missing. In Viewpoint Vista ERP's PM module, it's used to fetch import configuration before executing vendor/estimate import processes, ensuring company-specific or default templates are applied accurately.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVACallAppSecurity do?"
      },
      {
        "from": "gpt",
        "value": "The vspVACallAppSecurity stored procedure serves as a wrapper to enforce application security in Viewpoint Vista ERP by retrieving the RestrictPublicAccess flag from the vDDVS configuration table. It then invokes vspVAAppSec, passing the retrieved flag, an @activate parameter to enable/disable secure views, and an output message for status feedback. This is used to conditionally apply security measures based on public access restrictions, ensuring controlled activation of protected views.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POCOAutoCloseJCCTExept form?"
      },
      {
        "from": "gpt",
        "value": "The POCOAutoCloseJCCTExept form includes these fields: PO Company, JC Company, Phase Group, JC Cost Type, PO Auto Close"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspGLCloseMSHaulList do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a list of eligible MS Haul transactions from bMSTD for GL month-end closing. It selects non-voided records up to the specified month (@mth) with non-zero PayTotal and no APRef, filtered by GL company (@glco) through linked MS and AP companies. The ordered results (by MSCo, Mth, MSTrans) identify hauls ready for AP posting or further processing.\n\nThis stored procedure retrieves a list of eligible MS haul transactions from bMSTD for GL period closing, filtering for those up to the specified month (@mth) with non-zero pay totals, no AP reference, and non-void status, linked to the given GL company (@glco) via bMSCO or bAPCO. It is used to identify unpaid hauls ready for AP posting or review before finalizing the GL close in Viewpoint Vista's construction accounting module. Key operations include joining bMSTD with bMSCO and bAPCO, applying the filters, and returning results ordered by MSCo, Mth, and MSTrans.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBUpdatePrevChgOrderValues do?"
      },
      {
        "from": "gpt",
        "value": "This SP recalculates and updates \"previous\" change order add/deduct amounts (stored in prior bills) for a specific job billing invoice on a contract, propagating change order impacts retroactively when configured (via PrevUpdateYN in bJBCO). It fetches current invoice details (customer, contract, CO amount) if not provided, checks for subsequent non-deleted bills on the contract, and uses cursors to process those later bills while summing CO values. The process runs in a transaction, setting an output error message if issues arise."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCAPCOVal do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCAPCOVal validates an input HQ Company code (@apco) against the HQCO table in Viewpoint Vista ERP. If valid, it outputs the associated VendorGroup and a success return code (0); if missing or invalid, it outputs an error message (e.g., 'Missing HQ Company#!' or 'Not a valid HQ Company!') and a failure code (1). It ensures HQ Company integrity before vendor group-related operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPGetPMCOFlags do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the AP vendor update flag (APVendUpdYN) from the PMCO table for a specified PM company ID (@PMCo). It outputs the flag value in @APUpdatePM and returns a success code (0) upon retrieval, or 1 on error. In Viewpoint Vista ERP, it checks whether Accounts Payable (AP) updates should synchronize vendor data with Project Management (PM) companies.\n\nThis stored procedure retrieves the AP vendor update flag (APVendUpdYN) from the PMCO table for a specified PM company (@PMCo), outputting it via @APUpdatePM. It returns a success code (0) upon completion or (1) on error, with @msg available for any error messaging (though unused here). Used in Viewpoint Vista's AP module to check if AP vendor updates should sync with PM before performing related operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetSMQuickReferenceGetTabData do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a user's personalized quick reference preferences and accessible tab queries for a specified company and user in Viewpoint Vista's SM module. It first selects all records from vSMQuickReferencePreference for the user, ordered by QueryOrder, then queries available QueryName values from VPGridQueries (QueryType=4) that the user has access to (Access=0) via the vfVPGetQuerySecurity function. It supports populating tabs in the Quick Reference UI with user-specific and secure query options.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREDSeqOrderVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the processing sequence order for garnishment/deduction allocations (CS allocations) on an employee's payroll record in a specific payroll company. It checks existing allocations against a proposed new deduction (defined by DLCode, ProcessSeq, and CSAllocGroup) to ensure no out-of-order conditions exist—specifically, preventing higher allocation groups from having lower sequences or vice versa. If valid, it returns success (rcode=0); otherwise, it sets an error message and rcode=1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDGetDDDTSecurable do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves all records from the DDDTSecurable table where the Secure flag is set to 'Y', indicating active securable items. It is used in Viewpoint Vista ERP to fetch securable entities for security checks, permissions, or validation in modules like document distribution. The sole key operation is a simple SELECT * query with the Secure filter, returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMLaborCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Service Management (SM) Labor Code for a specified SM Company, ensuring it exists and is active, while retrieving its description. It then invokes `vspSMJCCostTypeDefaultVal` to determine a default Job Cost (JC) cost type based on job, pay type, and SM cost type inputs. Returns success (0) or failure (1) with error messages via `@msg` for invalid/missing codes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMEquipValForWOItemInit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specific equipment record in the Equipment Management (EM) module for use in work order item operations, ensuring the company/equipment exist, are active, and no changes are in progress. It initializes output counts for standard maintenance groups, total standard maintenance items, and open work orders linked to those items (excluding finished statuses). These counts support decision-making or UI population when associating maintenance schedules with work orders."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCJMDesc do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the existence and accessibility of a job record in the JC Job Master (bJCJM) table for a given company and job, retrieving its description if valid or setting error messages for issues like null jobs, pending status (when validation requested), prior use in job history (bJCHJ), or purchase order items (bPOIT). It also determines the default country for the company. The SP enforces data integrity by blocking reuse of archived or referenced jobs without purging, supporting safe job management in construction projects."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Datatype Security Instances\n\nContext: Viewpoint Vista database, view HQSA"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vHQSA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bCMCO table?"
      },
      {
        "from": "gpt",
        "value": "The bCMCO table (Module: CM) contains: CMCo, GLCo, Jrnl, GLDetailDesc, GLSummaryDesc, GLInterfaceLvl, ChangeBegBal, AuditCoParams, AuditAccts, AuditDetail, Notes, UniqueAttchID, KeyID, AttachBatchReportsYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN Location Approval Process\n\nContext: Viewpoint Vista database, view INLocationApprovalProcess"
      },
      {
        "from": "gpt",
        "value": "SELECT vINLocationApprovalProcess.*\nFROM dbo.vINLocationApprovalProcess;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLWIView"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLWIView: ItemRetainage (numeric, nullable); SLCo (bCompany, not null); UserName (bVPUserName, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRequiredEquipment table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRequiredEquipment table (Module: SM) contains: SMRequiredEquipmentID, SMCo, EntitySeq, Seq, Task, EMCo, EMGroup, Category, EquipQty, RevCode, RevQty, CostRate, UniqueAttchID, Notes, StandardTaskFlag... (25 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRTE view?"
      },
      {
        "from": "gpt",
        "value": "The PRTE view (Module: PR) contains: PRCo, Craft, Class, Template, Shift, EarnCode, OldRate, NewRate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCJobCloseVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates prerequisites for closing a JC (Job Cost) job, either softly or finally, by checking for blocking conditions like open SL worksheets, recent cost postings in JCCP, and (in full logic) open items in AP/AR batches, POs, MOs, inventory, equipment, etc. Collects company/month-specific error messages in a table variable for reporting failures preventing closeout. Supports optional auto-closure of POs/SLs and batch processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDFormCountries view?"
      },
      {
        "from": "gpt",
        "value": "The DDFormCountries view (Module: DD) contains: Form, Country"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PORG view?"
      },
      {
        "from": "gpt",
        "value": "PO GL Expense Distributions"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SLWorksheetItem form?"
      },
      {
        "from": "gpt",
        "value": "The SLWorksheetItem form includes these fields: SL, SLItem, ItemType, LineDesc, Phase, JC Company, JC Job, Worksheet Item Job Desc, SLWH! KeyID from header, UM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvEMRevBdownCost view?"
      },
      {
        "from": "gpt",
        "value": "The brvEMRevBdownCost view (Module: EM) contains: EMCo, EMGroup, Equipment, RevBdownCode, RevCode, Mth, Trans, RevBAmount, TimeUnits, WorkUnits, EMCostCode, EMCostType, CostUnits, CostDollars, Rectype"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREMUsageCostTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates and retrieves the appropriate cost type for premium usage costs in Viewpoint Vista ERP, based on equipment maintenance cost type, job, phase, and company hierarchies. It checks required inputs, determines the usage phase (prioritizing equipphase if provided), fetches the phase group from HQCO or JCPM tables, and invokes bspJCVCOSTTYPE to output the validated cost type or error message. Primarily used in construction accounting to ensure compliant cost categorization for job phases across companies.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTicQuotePayCodeGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a PayCode from the bMSPX table (Material Sales Price Extensions) for a specific quote in the MS (Material Sales) module, using hierarchical matching on parameters like company, location group, material group, UOM, quote, vendor, truck, and material details. It prioritizes exact matches (including truck) and falls back to partial matches (e.g., Truck IS NULL) to determine the applicable PayCode for pricing or billing. If no match is found or required inputs are missing, it returns an error message via @msg and sets an internal error code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Canadian Employee T4 Slips\n\nContext: Viewpoint Vista database, view PRCAEmployeeT4Slips"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRCAEmployeeT4Slips.*\nFROM dbo.vPRCAEmployeeT4Slips;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides combined Job Master and Contract Master data for reporting, including job details like status, addresses, tax/insurance templates, markup rates, and labor codes, with a key transformation set\n\nContext: Viewpoint Vista database, view vrvJCJobMaster"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    JCJM.JCCo,\n    JCJM.Job,\n    JCJM.Description,\n    JCJM.Contract,\n    JCJM.JobStatus,\n    CASE WHEN JCCM.ContractStatus<>1 THEN JCCM.MonthClosed ELSE '12/2/2050' END AS MonthClosedForReport,\n    JCJM.BidNumber,\n    JCJM.ProjectMgr,\n    JCJM.JobPhone,\n    JCJM.JobFax,\n    JCJM.MailAddress,\n    JCJM.MailCity,\n    JCJM.MailZip,\n    JCJM.MailAddress2,\n    JCJM.ShipAddress,\n    JCJM.ShipCity,\n    JCJM.ShipState,\n    JCJM.ShipZip,\n    JCJM.ShipAddress2,\n    JCJM.LiabTemplate,\n    JCJM.TaxGroup,\n    JCJM.TaxCode,\n    JCJM.InsTemplate,\n    JCJM.MarkUpDiscRate,\n    JCJM.PRLocalCode,\n    JCJM.PRStateCode,\n    JCJM.EEORegion,\n    JCJM.SMSACode,\n    JCJM.ProjMinPct,\n    JCJM.Notes,\n    JCJM.SLCompGroup,\n    JCJM.POCompGroup,\n    JCJM.VendorGroup,\n    JCJM.ArchEngFirm,\n    JCJM.GeoCode,\n    JCJM.ContactCode,\n    JCJM.OurFirm,\n    JCJM.AutoAddItemYN,\n    JCJM.OverProjNotes,\n    JCJM.HrsPerManDay\nFROM JCJM\nINNER JOIN JCCM\nON JCJM.JCCo=JCCM.JCCo AND JCJM.Contract = JCCM.Contract;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCJobAnalysisJobLMH"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCJobAnalysisJobLMH: JCCo (bCompany, nullable); Job (bJob, nullable); L-OrigEstHours (numeric, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view compiles company code column mappings from distribution and audit tables configured for batch equipment changes in Equipment Management. It identifies standard 'co' columns directly and tran\n\nContext: Viewpoint Vista database, view EMChangeBatchCol"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMChangeEquipCol.ViewpointDB,\n    EMChangeEquipCol.VPTableName,\n    EMChangeEquipCol.VPColumnName,\n    VPEMCo=NULL,\n    VPCo=c.COLUMN_NAME\nFROM dbo.EMChangeEquipCol WITH(nolock)\nINNER JOIN INFORMATION_SCHEMA.COLUMNS c (NOLOCK) ON c.TABLE_CATALOG=EMChangeEquipCol.ViewpointDB AND c.TABLE_NAME = EMChangeEquipCol.VPTableName\nWHERE EMChangeEquipCol.VPColType IN ('Standard','Custom Field') AND EMChangeEquipCol.VPTableType IN('Audit','Dist')\nAND c.DOMAIN_NAME IN('bCompany') AND lower(c.COLUMN_NAME)IN('co')\nAND EMChangeEquipCol.VPTableName NOT IN ('PRRB','PRJC','PREM')\nUNION ALL\nSELECT EMChangeEquipCol.ViewpointDB,EMChangeEquipCol.VPTableName,EMChangeEquipCol.VPColumnName,VPEMCo=NULL,\nVPCo=CASE LEFT(EMChangeEquipCol.VPTableName,2)\n    WHEN 'PR' THEN 'PRCo'\n    WHEN 'PO' THEN 'POCo'\n    WHEN 'MS' THEN 'MSCo'\n    WHEN 'EM' THEN 'EMCo'\n    WHEN 'AR' THEN 'ARCo'\n    WHEN 'AP' THEN 'APCo'\nEND\nFROM dbo.EMChangeEquipCol WITH(nolock)\nINNER JOIN INFORMATION_SCHEMA.COLUMNS c (NOLOCK) ON c.TABLE_CATALOG=EMChangeEquipCol.ViewpointDB AND c.TABLE_NAME = EMChangeEquipCol.VPTableName\nWHERE EMChangeEquipCol.VPColType IN ('Standard','Custom Field') AND EMChangeEquipCol.VPTableType IN('Dist')\nAND c.DOMAIN_NAME IN('bCompany') AND lower(c.COLUMN_NAME)IN('emco')\nAND EMChangeEquipCol.VPTableName NOT IN ('PRRB','PRJC','PREM','PRER');"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDGetNFPreferences do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tCharles Courchaine\n> Create date: 2/4/2008\n> Description:\tThis procedure returns source/routing preferences\n> -- Modified by:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCJPStatusChange do?"
      },
      {
        "from": "gpt",
        "value": "bspJCJPStatusChange updates the ActiveYN flag ('Y' or 'N') for a range of project phases (from @bphase to @ephase) on a specific job and company in the bJCJP table, but only for phases where the current status differs from the new flag. It is used in Viewpoint Vista's Job Cost module to efficiently activate or deactivate multiple phases at once, ensuring data integrity in job progress tracking. Key operations include validating the company (bJCCO), job (bJCJM), and active flag; performing the targeted UPDATE; counting affected rows with @@ROWCOUNT; and returning a success/error message with a return code.\n\nThis stored procedure updates the active status (ActiveYN) of job phases in Viewpoint Vista's Job Costing module for a specified company, job, and phase range (from @bphase to @ephase). It is used to activate ('Y') or deactivate ('N') multiple phases at once, typically for managing project phase visibility in reporting or billing. Key operations include validating company/job existence and active flag value, performing a targeted UPDATE on bJCJP (excluding unchanged rows), and outputting the update count or error message with a return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPCScopePhaseInit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes a new scope/phase record in a bid package for a potential project within Viewpoint Vista's Preconstruction (PC) module. It generates the next sequential ID (Seq) and inserts the record into `vPCBidPackageScopes`, linking a vendor group, optional scope code, phase group, and phase to the specified PC company, potential project, and bid package. It ensures basic data integrity by validating required inputs and handling empty strings as NULLs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRW2FedInfo form?"
      },
      {
        "from": "gpt",
        "value": "The PRW2FedInfo form includes these fields: TaxYear, Item, Type, Code, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCXBGetCloseBatchList do?"
      },
      {
        "from": "gpt",
        "value": "The vspJCXBGetCloseBatchList stored procedure retrieves a distinct list of closed batches from Sales Ledger (SL) and Purchase Order (PO) batch tables (bSLXB and bPOXB) associated with a specific JC contract close operation. It filters records by company (@JCContractCloseCo), month (@JCContractCloseMth), and batch ID (@JCContractCloseBatchId), returning CloseType ('SL' or 'PO'), Co, Mth, and BatchId via UNION ALL. Used in Viewpoint Vista's Job Costing module to identify and list batches closed during contract closeout for management, verification, or reporting purposes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PREDLCodesByType"
      },
      {
        "from": "gpt",
        "value": "Key columns in PREDLCodesByType: PRCo (bCompany, not null); Type (varchar, not null); EDLCode (bEDLCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMRevInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves essential revenue configuration details for a specified Equipment Management (EM) company, including the EM group, default revenue breakdown code, and rate override flag. It validates the input EM company by joining HQCO and EMCO tables, populates output parameters from the matched records, and sets error messages with a return code of 1 if the company is missing, null, or not properly set up in HQ. Used in Viewpoint Vista ERP to fetch EM revenue setup data for billing or reporting processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRRN view?"
      },
      {
        "from": "gpt",
        "value": "The PRRN view (Module: PR) contains: PRCo, Crew, PostDate, SheetNum, Employee, LineSeq, Craft, Class, EarnCode, Hours, StdPayRate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INLG view?"
      },
      {
        "from": "gpt",
        "value": "The INLG view (Module: IN) contains: INCo, LocGroup, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSDistFlagGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a 10-character distribution status flag for a Material Sales (MS) batch, indicating which accounting distributions (e.g., to JC/Job Cost, EM/Equipment, IN/Inventory, PA, GL/General Ledger) have been generated by checking for existing records in MS distribution tables. The flag starts as '0000000000' and sets specific positions to '1' based on the @source type ('MS Tickets', 'MS Addons', 'MS Haul', 'MS Invoice') and batch details. It provides a quick bitwise status summary for batch processing without returning full data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQGetAttachmentInfo do?"
      },
      {
        "from": "gpt",
        "value": "vspHQGetAttachmentInfo retrieves detailed metadata for a specific attachment by its AttachmentID from the HQAT table in Viewpoint Vista ERP. It is used to fetch information like company (HQCo), form name, description, file names, and attachment type, supporting attachment viewing, management, or integration with business forms and records. The procedure executes a single SELECT query with NOLOCK hint for fast, non-blocking reads.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQTL view?"
      },
      {
        "from": "gpt",
        "value": "The HQTL view (Module: HQ) contains: TaxGroup, TaxCode, TaxLink, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPCanvasSettingsTemplate table?"
      },
      {
        "from": "gpt",
        "value": "The vVPCanvasSettingsTemplate table (Module: VP) contains: TemplateName, IsStandard, NumberOfRows, NumberOfColumns, RefreshInterval, TableLayout, KeyID, GroupID, GridLayout"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMMI table?"
      },
      {
        "from": "gpt",
        "value": "The bPMMI table (Module: PM) contains: PMCo, Project, MeetingType, Meeting, MinutesType, Item, OriginalItem, Minutes, VendorGroup, InitFirm, Initiator, ResponsibleFirm, ResponsiblePerson, InitDate, DueDate... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMDelivery_old table?"
      },
      {
        "from": "gpt",
        "value": "The vSMDelivery_old table (Module: SM) contains: DeliveryID, SMCo, SMDeliveryGroupID, Recipient, Email, Address1, Address2, City, State, Country, PostalCode, DateSent, Bill, UniqueAttchID, SMDeliveryStatus... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCProjectionCodePhaseCT view?"
      },
      {
        "from": "gpt",
        "value": "The JCProjectionCodePhaseCT view (Module: JC) contains: JCCo, Job, ProjectionCode, Seq, PhaseGroup, Phase, CT, InclInUnits, SpreadPercent, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGLPostingMiscBatchContents do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves detailed contents of miscellaneous Service Management (SM) batches for GL posting review, based on source type (e.g., 'SMLedgerUp' for ledger updates, 'SMCostAdj' for cost adjustments, 'SMEquipUse' for equipment usage). It selects work order details, descriptions, dates, and adjusted actual costs (negated for deleted records) from batch views/tables. Output supports batch verification, showing GL accounts, equipment, and transaction types where applicable."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Aggregates current billed amounts and taxes from PM subcontract line details for each PM Subcontract CO record linked to sales ledger headers. Sums PMSLCurrentAmt and PMSLCurrentTaxAmt per SL company,\n\nContext: Viewpoint Vista database, view vrvPMSCOTotal"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 PERCENT\n    PMSubcontractCO.KeyID AS SCOKeyID,\n    bSLHD.KeyID AS SLKeyID,\n    PMSubcontractCO.SLCo,\n    PMSubcontractCO.SL,\n    PMSubcontractCO.SubCO,\n    CAST(ISNULL(SUM(PMSL.PMSLCurrentAmt), 0) AS NUMERIC(18,2)) AS PMSLAmtCurrent,\n    CAST(ISNULL(SUM(PMSL.PMSLCurrentTaxAmt), 0) AS NUMERIC(18,2)) AS PMSLTaxCurrent\nFROM dbo.PMSubcontractCO\nJOIN dbo.bSLHD ON bSLHD.SLCo=PMSubcontractCO.SLCo AND bSLHD.SL=PMSubcontractCO.SL\nCROSS APPLY dbo.vf_rptPMSLSubcontractCOAmounts(PMSubcontractCO.SLCo, PMSubcontractCO.SL, PMSubcontractCO.SubCO) PMSL\nGROUP BY PMSubcontractCO.SLCo,\n    PMSubcontractCO.SL,\n    PMSubcontractCO.SubCO,\n    PMSubcontractCO.KeyID,\n    bSLHD.KeyID\nORDER BY PMSubcontractCO.SLCo, PMSubcontractCO.SL, PMSubcontractCO.SubCO;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBUpdatePrevContractValues do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates the `CurrContract` (amount) and `ContractUnits` fields on bill transaction items (`bJBIT`) for a specified \"letter bill\" (`@ltrbillmth`/`@ltrbillnum`), by summing the original contract values from `bJCCI` plus change order units/amounts (`bJBIS`) from all prior bills matching the contract/item (excluding deleted invoices). It processes all items in the letter bill via cursor when `@contractitem` is null and `@updateprevYN='N'`, ensuring cumulative \"previous\" contract totals are accurately reflected before current billing changes. Output `@errmsg` handles any errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkCompletedMisc"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkCompletedMisc: SMWorkCompletedID (bigint, not null); IsSession (bit, not null); CostQuantity (bUnits, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRRH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRRH: PRCo (bCompany, not null); Crew (varchar, not null); PostDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvHQRolesListByMember view?"
      },
      {
        "from": "gpt",
        "value": "This view provides a consolidated list of HQ roles including descriptions, active status, usability in PC/PM/SM modules, default limits/thresholds by type/subtype, assigned members with user details/active flags, and final overridden limits/thresholds per member via function application. It filters specifically to HQ role limit types for targeted reporting. Key transformations include decoding limit types, joining role-to-member assignments, and applying overrides from vf_rptHQGetRoleMemberOverrideInfo."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMAG view?"
      },
      {
        "from": "gpt",
        "value": "EM Allocation Categories"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMDepartmentApprovalProcess view?"
      },
      {
        "from": "gpt",
        "value": "The EMDepartmentApprovalProcess view (Module: EM) contains: KeyID, EMCo, Department, DocType, Process, Active, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptJCFieldTicketStatus do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a report on Job Cost (JC) Field Tickets, retrieving key details like ticket status, creation/approval dates, contract info, customer PO, and cost summaries (period-specific and life-to-date totals from detail lines). It supports filtering by company, specific contracts/statuses (comma-separated), creation date range, and cost date range for targeted analysis. The output aids in monitoring field work documentation and associated costs without posting to jobs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCAEmployerItems view?"
      },
      {
        "from": "gpt",
        "value": "The PRCAEmployerItems view (Module: PR) contains: PRCo, TaxYear, T4BoxNumber, T4BoxNumberSeq, EDLType, EDLCode, AmtType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPCanvasGridSettingsTemplate view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPCanvasGridSettingsTemplate."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkOrderScopePriorityMax"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkOrderScopePriorityMax: SMCo (bCompany, not null); WorkOrder (int, not null); MaxPriority (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMUT table?"
      },
      {
        "from": "gpt",
        "value": "The bPMUT table (Module: PM) contains: Template, Description, ImportRoutine, Override, StdTemplate, FileType, Delimiter, OtherDelim, TextQualifier, ItemOption, AccumCosts, ContractItem, ItemDescription, BegPosition, EndPosition... (49 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMJC table?"
      },
      {
        "from": "gpt",
        "value": "The bEMJC table (Module: EM) contains: EMCo, Mth, BatchId, JCCo, Job, PhaseGroup, Phase, JCCType, BatchSeq, OldNew, EMTrans, Equipment, TransDesc, ActualDate, EMGroup... (28 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMOIACOItemDesc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the description for a specific ACO item from the PMOI table using company, project, ACO, and ACOItem keys, outputting it via the @msg parameter if found. It also checks for the existence of a matching record in the PMOL table and sets the @pmol_exists output flag to 'Y' or 'N' accordingly. In Viewpoint Vista ERP's purchasing module, it supports validating and displaying order item details tied to agreements or change orders during purchase management workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementAmotizeSchModHeader form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementAmotizeSchModHeader form includes these fields: Agreement, Agreement Status, Total Remaining, Revision, Version, Revision Status, Service, Customer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMViewpointDefaultsAPUI do?"
      },
      {
        "from": "gpt",
        "value": "This SP supports Vista's Import Manager (IM) by applying company, vendor, and AP-specific defaults to imported APUI (Accounts Payable Unposted Invoice) records during data import. It retrieves settings like payment terms, 1099 flags, pay methods, addresses, and reviewer groups from master tables (e.g., APVM, APCO) to populate missing fields in import rows. Output includes validation messages for import errors, ensuring data completeness before UI preview or posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQPD"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQPD: Country (char, not null); State (varchar, not null); PriceIndex (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalControls"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalControls: PortalControlID (int, not null); Name (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPCStates"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPCStates: VendorGroup (bGroup, not null); Vendor (bVendor, not null); Country (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMGLDistribution table?"
      },
      {
        "from": "gpt",
        "value": "The vSMGLDistribution table (Module: SM) contains: SMGLDistributionID, SMWorkCompletedID, SMCo, BatchMonth, BatchId, CostOrRevenue, IsAccountTransfer, SMGLEntryID, SMGLDetailTransactionID, ReversingSMGLEntryID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPPartSettings table?"
      },
      {
        "from": "gpt",
        "value": "The vVPPartSettings table (Module: VP) contains: KeyID, VPUserName, PartName, ColumnNumber, RowNumber, Height, Width, ConfigurationSettings, CollapseDirection, ShowConfiguration, CanCollapse, IsCollapsed, CanvasId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VACBAddItems form?"
      },
      {
        "from": "gpt",
        "value": "The VACBAddItems form includes these fields: ComboBox Type, Seq, Database Value, Display Value"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This batch report view unifies payroll earnings data by combining timecard-based earnings from transaction headers (with hours, rate, and amount) and addon earnings (direct amounts with zero hours) in\n\nContext: Viewpoint Vista database, view brvPREarnings"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRTH.PRCo,\n    PRGroup,\n    PREndDate,\n    Employee,\n    PaySeq,\n    PostSeq,\n    RecType='Timecard',\n    AddonEarnCode=0,\n    DLCode,\n    Rate,\n    Hours,\n    Amt\nFROM PRTH\nJOIN dbo.PRDB ON PRDB.PRCo=PRTH.PRCo AND PRDB.EDLCode=PRTH.EarnCode AND PRDB.EDLType='E'\n    UNION\n    SELECT PRTA.PRCo, PRGroup, PREndDate, Employee, PaySeq, PostSeq, 'Addon', PRTA.EarnCode, DLCode, Rate, 0, Amt\nFROM PRTA\nJOIN dbo.PRDB ON PRDB.PRCo=PRTA.PRCo AND PRDB.EDLCode=PRTA.EarnCode AND PRDB.EDLType='E';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvGLBudget"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvGLBudget: GLCo (bCompany, not null); GLAcct (bGLAcct, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vUtilities.vPTMissingIndexes table?"
      },
      {
        "from": "gpt",
        "value": "The vUtilities.vPTMissingIndexes table (Module: Other) contains: vPTMissingIndexes_ID, DBName, TblName, avg_estimated_impact, last_user_seek, CreateStatement, CurrentDateTime, CurrentMonth"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMVPDefaultsSMWorkOrder do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves and applies default values for Service Management (SM) Work Orders during the Vista Import Manager validation process. It populates key fields like customer, job, service center, technician, contact details, costing method, and work order numbering based on import template data. It ensures consistent data entry by validating required import parameters and setting SM-specific defaults (e.g., lead technician, status, notes) for new or existing work orders."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUSuperSchemes view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUSuperSchemes view (Module: PR) contains: KeyID, PRCo, SchemeID, Name, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCJobPhaseRolesInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes phase roles for a specific job, role, and process (Cost Projections 'C', Progress Entry 'P', or Both 'B') in the JC (Job Cost) module by validating inputs, confirming the role exists in JCJobRoles, deriving the phase group if needed, and deleting existing JCJPRoles entries for the job/process/role combo. It prepares a PhaseList for population (logic likely continues post-snippet to insert new role-phase associations). This supports role-based phase tracking for job costing or progress without duplicating prior setups."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides RFI document distribution details including recipient contacts, send/receive dates, and message types linked to specific projects and RFIs. Joins RFI distributions with job masters, RFI heade\n\nContext: Viewpoint Vista database, view RfiDocumentRecipient"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PMRD.[KeyID] as DistributionId,\n    PMRI.KeyID as RfiDocumentId,\n    contact.[ContactId] AS [ContactId],\n    PMRD.[DateSent],\n    PMRD.[DateRecd] As [DateReceived],\n    PMRD.[CC] As MessageType\nFROM dbo.PMRD\nJOIN dbo.PMCO ON PMRD.[PMCo] = PMCO.[PMCo]\nJOIN dbo.JCJM ON PMRD.PMCo = JCJM.JCCo AND PMRD.Project = JCJM.[Job]\nJOIN dbo.PMRI ON PMRD.PMCo = PMRI.PMCo AND PMRD.Project = PMRI.Project and PMRD.RFIType = PMRI.RFIType AND PMRD.RFI = PMRI.RFI\nJOIN dbo.PMDT ON PMDT.[DocCategory] = 'RFI' AND PMDT.[DocType] = PMRD.[RFIType]\nJOIN api.PMFirmContact contact ON contact.VendorGroup = PMRD.VendorGroup AND contact.FirmNumber = PMRD.SentToFirm\n    AND contact.ContactCode = PMRD.SentToContact;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptSMLaborRequirements do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a report on labor requirements in Viewpoint Vista's Service Management (SM) module, detailing work orders (customer or job-based), scopes, required technicians, crafts, quantities, due dates, and status. It distinguishes labor types, links to JC jobs/contracts and AR customers, and supports filtering by date range, service center, division, and call type. The output aids in visibility of planned labor needs for service operations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join d with fi in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join d with fi, use:\n\n```sql\nFROM d\nINNER JOIN fi\n  ON d.EDLCode = fi.TaxDedn\n```\n\nThis pattern is used in the vrvPRCertExport view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQMU"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQMU: MatlGroup (bGroup, not null); Material (bMatl, not null); UM (bUM, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPOCBUnitCostVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a unit cost change can be applied to a purchase order item in the POCD (PO Change Detail) table for a specific company, PO, item, month, and transaction. It prevents retroactive unit cost updates if a later change order (higher Seq) already modified the cost, ensuring cost history integrity unless the unit of measure is 'LS' (Lump Sum). Returns a success code (0) or error code (1) with a descriptive message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMVFEUpload do?"
      },
      {
        "from": "gpt",
        "value": "This SP initiates the upload of imported data (likely Work Edit items or change order details) into the PM module for a specific project in a given company. It validates the PM company, import ID, and project existence before confirming the import file's validity via a sub-procedure and retrieving key project/contract details (e.g., description, retainage, tax code) to prepare for processing. The @retainWorkEdit flag likely controls whether existing Work Edit data is preserved during upload."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join EstCostRevByMth with JCForecastMonth in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join EstCostRevByMth with JCForecastMonth, use:\n\n```sql\nFROM EstCostRevByMth\nINNER JOIN JCForecastMonth\n  ON EstCostRevByMth.JCCo = JCForecastMonth.JCCo AND EstCostRevByMth.Contract = JCForecastMonth.Contract\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Department Cost Types\n\nContext: Viewpoint Vista database, view JCDC"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCDC.*\nFROM dbo.bJCDC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRateTemplate"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRateTemplate: SMRateTemplateID (bigint, not null); SMCo (bCompany, not null); RateTemplate (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_PRCrews view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_PRCrews view (Module: PR) contains: PRCrewID, CrewandDescription"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQDSCheckSeq do?"
      },
      {
        "from": "gpt",
        "value": "vspHQDSCheckSeq checks the HQDS table to verify if a specified sequence number (@seq) is already assigned to any status code other than the provided one (@statuscode). It enforces uniqueness of sequence numbers across status codes, typically during data entry or updates to prevent duplicates. If a conflict is found, it outputs a descriptive error message and returns a non-zero error code (1); otherwise, it returns success (0).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployerBASGSTTaxCodes"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployerBASGSTTaxCodes: PRCo (bCompany, not null); TaxYear (char, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RQReviewerDistinct view?"
      },
      {
        "from": "gpt",
        "value": "The RQReviewerDistinct view (Module: RQ) contains: RQCo, Reviewer, Name, RevEmail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APPB view?"
      },
      {
        "from": "gpt",
        "value": "The APPB view (Module: AP) contains: Co, Mth, BatchId, BatchSeq, CMCo, CMAcct, PayMethod, CMRef, CMRefSeq, EFTSeq, ChkType, VendorGroup, Vendor, Name, Address... (43 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvAPVendorRelationship"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvAPVendorRelationship: VendorGroup (bGroup, not null); Vendor (bVendor, not null); Relationship (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetRowCountSystem do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure dynamically computes and returns the row count from any specified Viewpoint Vista table using a provided WHERE clause condition. It supports system-wide data queries without hardcoding table names, enabling flexible count retrieval for administrative or reporting needs across modules like JC, PM, or GL. The output parameter `@rowCount` provides the exact number of matching records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCBidPackage"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCBidPackage: JCCo (bCompany, not null); PotentialProject (varchar, not null); BidPackage (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in WFStatusCodes"
      },
      {
        "from": "gpt",
        "value": "Key columns in WFStatusCodes: KeyID (int, not null); StatusID (int, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JBCO view?"
      },
      {
        "from": "gpt",
        "value": "JB Company Parameters"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRSortNameUnique do?"
      },
      {
        "from": "gpt",
        "value": "The bspHRSortNameUnique stored procedure validates whether a given sort name is unique within a specified company in the HRRM table, excluding the current employee HR reference to allow updates. It returns a code of 0 with \"HR Unique\" if no duplicates exist, or 1 with a message identifying the conflicting employee if a match is found. This ensures data integrity by preventing duplicate sort names during HR record inserts or modifications in the Viewpoint system.\n\nThis stored procedure validates the uniqueness of a sort name (BSORTNAME) for a given company (HRCo) in the HRRM employee table, excluding the specified employee reference (HRRef). It returns a code of 0 with message 'HR Unique' if no duplicates exist, or 1 with a message identifying the conflicting employee if a match is found. It is used during HR employee record creation or updates to enforce unique sort names and prevent duplicates.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQApprovalModule view?"
      },
      {
        "from": "gpt",
        "value": "The HQApprovalModule view (Module: HQ) contains: Mod, FormClassName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vRPFRc table?"
      },
      {
        "from": "gpt",
        "value": "The vRPFRc table (Module: RP) contains: Form, ReportID, Active, OvrDocumentTitle"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Import Routines\n\nContext: Viewpoint Vista database, view PMUI"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMUI.*\nFROM dbo.bPMUI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCR"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCR: PRCo (bCompany, not null); Crew (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDTH"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDTH: TableName (varchar, not null); Description (varchar, nullable); TableType (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Craft Template Capped Basis\n\nContext: Viewpoint Vista database, view PRCraftTemplateCappedBasis"
      },
      {
        "from": "gpt",
        "value": "SELECT a.*\nFROM [dbo].[vPRCraftTemplateCappedBasis] a;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCVPopARTH do?"
      },
      {
        "from": "gpt",
        "value": "This SP populates or converts Accounts Receivable Transactions Header (ARTH) records from a source database (@sDbase) into a destination Viewpoint Vista database (@dDbase) for a specified table (@dTable), likely as part of data migration. It initializes variables mirroring ARTH table structure (e.g., company, customer, dates, amounts), checks for a specific index ('biARTHConvert'), and prepares for bulk insertion or validation of AR header data like invoices, payments, and credits. The @msg OUTPUT captures errors or status for the process."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPM1 view?"
      },
      {
        "from": "gpt",
        "value": "The PMPM1 view (Module: PM) contains: VendorGroup, FirmNumber, ContactCode, SortName, LastName, FirstName, MiddleInit, Title, Phone, PhoneExt, MobilePhone, Fax, EMail, PrefMethod, Notes... (39 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARMiscRecLines form?"
      },
      {
        "from": "gpt",
        "value": "The ARMiscRecLines form includes these fields: ARLine, TransType, LineType, Description, ActDate, JCCo, JC Job, JC Phase, Job CostType, EMCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides participant details linked to specific documents, including personal identifiers, contact information, company affiliation, assigned role name, status, and audit trail. It combines \n\nContext: Viewpoint Vista database, view Participant"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    p.[ParticipantId],\n    p.[FirstName],\n    p.[LastName],\n    p.[Email],\n    p.[DisplayName],\n    p.[Title],\n    p.[CompanyName],\n    p.[CompanyNumber],\n    p.[DocumentId],\n    p.[Status],\n    p.[DocumentRoleTypeId] AS RoleId,\n    rt.[RoleName],\n    p.[CreatedByUser],\n    p.[DBCreatedDate],\n    p.[UpdatedByUser],\n    p.[DBUpdatedDate],\n    p.[Version]\nFROM Document.Participant p\nJOIN Document.DocumentRoleType rt ON rt.DocumentRoleTypeId = p.DocumentRoleTypeId;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPMContractAnalysisDDAttachments"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPMContractAnalysisDDAttachments: Src (varchar, not null); JCCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLCBGrid"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLCBGrid: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvMSHaul_APTH_DistinctAPRef view?"
      },
      {
        "from": "gpt",
        "value": "The brvMSHaul_APTH_DistinctAPRef view (Module: MS) contains: APCo, Mth, VendorGroup, Vendor, APRef, InvDate, DueDate, CountAPTrans"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRCAEmployeeT4SlipItems table?"
      },
      {
        "from": "gpt",
        "value": "The vPRCAEmployeeT4SlipItems table (Module: PR) contains: PRCo, TaxYear, Employee, T4BoxNumber, SlipNumber, Amount, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPOMaxMatVendorUC view?"
      },
      {
        "from": "gpt",
        "value": "The brvPOMaxMatVendorUC view (Module: PO) contains: MatlGroup, Material, MaxUnitCost, POCo, VendorGroup, Vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RPRF form?"
      },
      {
        "from": "gpt",
        "value": "The RPRF form includes these fields: Seq, Report Type, Report Object, Name, Description, ReportText, Report ID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHRES table?"
      },
      {
        "from": "gpt",
        "value": "The bHRES table (Module: HR) contains: HRCo, HRRef, Date, Description, ScheduleCode, Notes, UniqueAttchID, KeyID, Seq, Hours, Status, Source, RequesterComment, ApproverComment, Approver... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This BI dimension view provides equipment maintenance warranty master data, including unique warranty keys, associated company IDs, descriptions, and human-readable status (Active/Inactive from coded \n\nContext: Viewpoint Vista database, view viDim_EMWarranty"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bEMWF.KeyID AS 'WarrantyKeyID',\n    bEMCO.KeyID AS EMCoID,\n    WarrantyDesc,\n    CASE WHEN bEMWF.Status='A' THEN 'Active'\n    WHEN bEMWF.Status='I' THEN 'Inactive'\nEND AS WarrantyStatus\nFROM bEMWF\nINNER JOIN vDDBICompanies WITH (NoLock) ON vDDBICompanies.Co=bEMWF.EMCo\nINNER JOIN bEMCO WITH (NoLock) ON bEMCO.EMCo = bEMWF.EMCo;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARDelReleaseBatchLinesByInv do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes release batch lines from the bARBL table for a specific batch and invoice transaction in Viewpoint Vista's Accounts Receivable module. It is used to remove AR batch details tied to an invoice apply during corrections, reversals, or batch maintenance. Key operations include validating batch and invoice parameters, executing a targeted DELETE with matching criteria (Co, Mth, BatchId, BatchSeq, ApplyMth, ApplyTrans), checking @@rowcount for success, and returning an error code/message via output parameter if issues occur.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPRTBIReport view?"
      },
      {
        "from": "gpt",
        "value": "The RPRTBIReport view (Module: RP) contains: Mod, ReportID, Active, IsBIReport"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRRE"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRRE: State (varchar, not null); LicCodeType (char, not null); LicCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APPayHistory form?"
      },
      {
        "from": "gpt",
        "value": "The APPayHistory form includes these fields: CM Company, GL Company, LastMthGLClse from GLCO, CM Account, Payment Method, CM Reference, CM Reference Seq#, EFT Seq#, Vendor Group, Vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVAAttachmentTypeSecurity table?"
      },
      {
        "from": "gpt",
        "value": "The vVAAttachmentTypeSecurity table (Module: VA) contains: Co, AttachmentTypeID, SecurityGroup, VPUserName, Access"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMBillingSessionFilter"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMBillingSessionFilter: SMBillingSessionFilterID (bigint, not null); UserName (varchar, not null); SMCo (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NBT08 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_NBT08 calculates the per-pay-period provincial income tax amount (likely New Brunswick) for Canadian payroll in Viewpoint Vista ERP, based on annual income (@A) and tax credits/deductions. It applies tiered tax rates (10.12%-17.95%) and exemptions (@KP) by income bracket, subtracts credits for TCP (@K1P), capped CPP/EI contributions (@K2P), other credits (@K3P), and a stock deduction capped at 750 (@LCP), yielding net annual tax (@T2) divided by pay periods (@ppds). Used for precise periodic withholding in payroll processing, with validation and error messaging.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMUE view?"
      },
      {
        "from": "gpt",
        "value": "EM Auto Usage Templ Equipment"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCHJ"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCHJ: JCCo (bCompany, not null); Contract (bContract, not null); Item (bContractItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPL"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPL: PMCo (bCompany, not null); Project (bJob, not null); Location (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDSLDatatypes view?"
      },
      {
        "from": "gpt",
        "value": "The DDSLDatatypes view (Module: DD) contains: Datatype, TableName, InstanceColumn, QualifierColumn, InUse"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vARBS.\n\nContext: Viewpoint Vista database, view ARBS"
      },
      {
        "from": "gpt",
        "value": "SELECT vARBS.*\nFROM dbo.vARBS;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_PMProjectMgrJobs view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_PMProjectMgrJobs view (Module: PM) contains: JCCo, JCCoID, Job, JobID, JobAndName, ProjectMgr, ProjMgrID, ProjectMgrNameID, ProjectMgrName, PMJobID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvARHighCredit view?"
      },
      {
        "from": "gpt",
        "value": "The brvARHighCredit view (Module: AR) contains: ARCo, CustGroup, Customer, HCCurrent, HC3M, HC6M, HC12M, HCToDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the AP1099BoxNumberLookup view?"
      },
      {
        "from": "gpt",
        "value": "The AP1099BoxNumberLookup view (Module: AP) contains: TaxYear, V1099Type, PaperBoxNo, Description, DBCol, DBBoxNumber, Rank"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMUpdateDocName do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the DocName field for a specific attachment in the bHQAT table based on the provided AttachmentID and new document name. It verifies that exactly one row is updated using @@rowcount, setting an error code and output message if the update fails or affects no/multiple rows. Used in Viewpoint's document management to safely rename attachments while ensuring data integrity and providing error feedback.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides PM personnel master records with a computed full contact name from individual name fields and supplemental overridden mailing address details. It joins the core personnel data to op\n\nContext: Viewpoint Vista database, view PMPMInsp"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PMPM.*,\n    'FullContactName' = ltrim(rtrim(isnull(PMPM.FirstName,''))) + ' ' + ltrim(rtrim(isnull(PMPM.MiddleInit,''))) + ' ' + ltrim(rtrim(isnull(PMPM.LastName,''))),\n    PMPMOvrdAddr.OvrdMailAddress,\n    PMPMOvrdAddr.OvrdMailAddress2,\n    PMPMOvrdAddr.OvrdMailCity,\n    PMPMOvrdAddr.OvrdMailState,\n    PMPMOvrdAddr.OvrdMailZip,\n    PMPMOvrdAddr.OvrdMailCountry\nFROM dbo.PMPM\nJOIN dbo.PMPMOvrdAddr ON PMPMOvrdAddr.VendorGroup=PMPM.VendorGroup AND PMPMOvrdAddr.FirmNumber=PMPM.FirmNumber AND PMPMOvrdAddr.ContactCode=PMPM.ContactCode;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMTemplateImport do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves configuration details for a specified import template from the IMTH (Import Template Header) table, populating output parameters with file format settings (e.g., type, delimiters), parsing rules (e.g., record type positions), custom routines, and attachment handling options. It validates the template's existence and sets error messages if invalid. Used to initialize import processes without performing the actual data import."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMEntity_RemoveDups"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMEntity_RemoveDups: SMEntityID (bigint, not null); Type (tinyint, not null); SMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOValForPO do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Purchase Order (PO) for integration with Project Management (PM), ensuring the PO's company, vendor, vendor group, and status (must be Open or Pending) align with PM project, phase, and cost type criteria. Outputs validated PO details (e.g., vendor, status, next item, unit cost, amount) and flags like phase/cost test enforcement for downstream PM processes. Returns error codes/messages if validations fail, preventing invalid PO commitments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PCReferenceTypeCodes view?"
      },
      {
        "from": "gpt",
        "value": "PC Reference Type Codes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bINRO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bINRO: INCo (bCompany, not null); Loc (bLoc, not null); MatlGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from HRRM.\n\nContext: Viewpoint Vista database, view HRPCEmp"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent HRRM.HRCo,\n    HRRM.PositionCode,\n    HRRM.HRRef,\n    ActiveYN\nFROM dbo.HRRM\nORDER BY HRRM.HRCo;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEEORegion do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSubmittalPackageItems form?"
      },
      {
        "from": "gpt",
        "value": "The PMSubmittalPackageItems form includes these fields: Status Code Type, Submittal Register Sequence, Submittal Number, Submittal Revision, Package, Package Revision, Description, Details, Document Type, Status"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRINC982 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRINC982 calculates federal income tax withholding per pay period by annualizing the subject pay amount, subtracting standard allowances for regular and additional exemptions ($1000 and $1500 each), applying a tax rate, and prorating the result back to the per-period amount. It is used in payroll processing to determine accurate withholding based on employee exemptions and pay frequency. Key operations include validating pay periods per year, flooring negative values to zero, and returning the computed tax amount via OUTPUT parameter along with any error messages.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAF view?"
      },
      {
        "from": "gpt",
        "value": "PR Active Frequency Codes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRTS table?"
      },
      {
        "from": "gpt",
        "value": "The bPRTS table (Module: PR) contains: UserId, SendSeq, PRCo, BatchMth, PRGroup, EndDate, PaySeq, JCCo, Job, ThroughDate, PRRestrict, JCRestrict, EMRestrict, AbortError"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMGLOffsetAcctValForFuelPosting do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a General Ledger (GL) offset account for use in Equipment Management (EM) fuel posting transactions. It verifies the account exists, is active, not a heading/memo type, and has the appropriate subtype ('E' for EM context or 'I'/blank for Inventory context). On success, it returns 0 with the account description in @msg; failures set @rcode=1 and an error message in @msg."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspOMGSharedSupplier do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PORG"
      },
      {
        "from": "gpt",
        "value": "Key columns in PORG: POCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in IDSRV.ApiClaims"
      },
      {
        "from": "gpt",
        "value": "Key columns in IDSRV.ApiClaims: Id (int, not null); Type (nvarchar, not null); ApiResourceId (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vPRCAProgramAccounts.\n\nContext: Viewpoint Vista database, view PRCAProgramAccounts"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRCAProgramAccounts.*\nFROM dbo.vPRCAProgramAccounts;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPUserToAllDataTypeSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure grants a specified Viewpoint user full security access by adding them to *all* existing data type security groups (via `vDDSU`) and *all* payroll groups (via `bPRGS`), excluding any pre-existing assignments to avoid duplicates. For data type groups (`vDDDS`), it respects default shared groups (`DDDTShared`) and only adds where the user lacks access or defaults apply. It first validates the user exists as a valid Viewpoint login (`vDDUP`), raising an error otherwise."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMDistDrawingLogInit do?"
      },
      {
        "from": "gpt",
        "value": "Initializes a drawing distribution log entry in Viewpoint Vista's PM module by adding a recipient (firm/contact) to the distribution list for a specific project drawing. It validates inputs, derives vendor group/preferred method/email options from setup tables, ensures no duplicate entry exists, generates a sequence number, and inserts the record with send-enabled status. Used to set up automated or manual distribution tracking for construction drawings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Daily Log Contacts\n\nContext: Viewpoint Vista database, view PMDC"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMDC.*\nFROM dbo.bPMDC\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMDC.Project, bPMDC.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMDepartmentOverrides form?"
      },
      {
        "from": "gpt",
        "value": "The SMDepartmentOverrides form includes these fields: Department, Seq, Cost Type Category, Burden, Call Type, Cost Type, Liability Type, Cost GL Account, Revenue GL Account, Cost WIP GL Account"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vJCJobRoles.\n\nContext: Viewpoint Vista database, view JCJobRolesPM"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCJobRoles.JCCo AS [PMCo], vJCJobRoles.Job AS [Project], vJCJobRoles.*\nFROM dbo.vJCJobRoles;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Document.PublishLog view?"
      },
      {
        "from": "gpt",
        "value": "The Document.PublishLog view (Module: Other) contains: PublishLogId, DocumentId, SuccessFlag, SendDate, ReceiveDate, ErrorMessage, PublishStatus"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM JC Distribution Batch\n\nContext: Viewpoint Vista database, view EMJC"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMJC.*\nFROM dbo.bEMJC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptJCDashboardBackLog do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a dashboard report for Job Cost (JC) backlog, summarizing financial metrics for contracts and items within a specified company and contract range. It aggregates billing data (contract amounts, billed/received/retainage) from JCIP, cost data (projected/estimated/actual costs, split by labor/self-performed/subcontractor types) from JCJP/JCCP, and unpaid AP amounts from APTD. The output supports Section=1 of a backlog view, highlighting profitability, cash position, and completion status (e.g., ProjCloseDate, ContractStatus)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR STP Employee Amounts Allowances\n\nContext: Viewpoint Vista database, view PRAUSTP2AmtAllow"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAUSTP2AmtAllow.*\nFROM dbo.vPRAUSTP2AmtAllow;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Cost Header\n\nContext: Viewpoint Vista database, view EMCH"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMCH.*\nFROM dbo.bEMCH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCAEmployeeItems view?"
      },
      {
        "from": "gpt",
        "value": "The PRCAEmployeeItems view (Module: PR) contains: PRCo, TaxYear, Employee, T4BoxNumber, Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in WFProcessDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in WFProcessDetail: HeaderID (bigint, not null); ProcessID (bigint, not null); SourceView (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMWorkCompletedLabor view?"
      },
      {
        "from": "gpt",
        "value": "SM Work Completed Labor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPDisplayGridColumns view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPDisplayGridColumns."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPTaxableTaxYearVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates if a specified tax year is closed for a given AP company by checking the vAPAUPayerTaxPaymentATO table for a matching record with TaxYearClosed = 'Y'. If found, it sets the output parameter @TaxYearClosed to 'Y'; otherwise, it remains 'N'. It is used in the Accounts Payable module to enforce business rules that prevent modifications or transactions on closed tax years, ensuring data integrity for tax payments and filings.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQSM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQSM: SMSACode (varchar, not null); Description (bDesc, nullable); MinGoal (bPct, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBACOItemVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an ACO (AIA Contract Order) item for a specific job in the Job Billing (JB) module by cross-referencing it against Job Cost (JC) tables bJCOI and JCCI. It retrieves and outputs key contract item details like unit measure (UM), unit price, units, and total amount if valid, or returns an error message/code otherwise. It enforces data integrity by confirming the ACO item links to an existing contract item with an allowable bill type (not 'T' for T&M or 'N' for Non-Billable)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMStdMaintGroups form?"
      },
      {
        "from": "gpt",
        "value": "The EMStdMaintGroups form includes these fields: Equipment, Hour Meter, Last Hr Meter Date, Hrs Meter Replaced, Hrs Replaced Date, Odometer Reading, Odometer Reading Date, Odometer Repaced, Odometer Replaced Date, Std Maint Group"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMMOTotal view?"
      },
      {
        "from": "gpt",
        "value": "The PMMOTotal view (Module: PM) contains: INCo, MO, MOTotal, SortOrder, PMMOExists, PMMOAmt, TotalMO"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDHACO view?"
      },
      {
        "from": "gpt",
        "value": "The PMDHACO view (Module: PM) contains: ACO, PMCo, Project, DocType, Document, Rev, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName, OldValue, NewValue... (36 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRUserGridOptions form?"
      },
      {
        "from": "gpt",
        "value": "The PRUserGridOptions form includes these fields: UserName, PaySeq1, SkipPaySeq1, PRDept1, SkipPRDept1, Crew1, SkipCrew1, JCCo1, SkipJCCo1, GLCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvMSTicketQuoteSalesDetail view?"
      },
      {
        "from": "gpt",
        "value": "The vrvMSTicketQuoteSalesDetail view (Module: MS) contains: MSCo, CustGroup, Customer, CustName, CustJob, CustPO, LocGroup, FromLoc, MatlGroup, Material, MatlDesc, Category, UM, UnitPrice, MatlUnits... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetLastSessionTreeNode do?"
      },
      {
        "from": "gpt",
        "value": "> Add the parameters for the stored procedure here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCW"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCW: PRCo (bCompany, not null); Crew (varchar, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCINMaterialVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a material (identified by material code and group) for use in Job Costing (JC) from the Inventory (IN) module, retrieving key attributes like standard/sales units of measure, costs/prices (with ECM extensions), material phase, JC cost type, taxability, job sales GL account, and inventory quantities (onhand/available). It determines if the material is valid for the job company/cost code context, falling back to miscellaneous material handling if not found, and outputs a validation status/message. Primarily supports JC-IN integration by populating defaults and ensuring material setup compliance."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Subquery can be converted to JOIN\n\nSELECT * FROM APTH WITH (NOLOCK)\nWHERE Vendor IN (SELECT Vendor FROM APVM WITH (NOLOCK) WHERE VendorGroup = 1)"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT h.*\nFROM APTH h WITH (NOLOCK)\nJOIN APVM v WITH (NOLOCK) ON h.VendorGroup = v.VendorGroup AND h.Vendor = v.Vendor\nWHERE v.VendorGroup = 1\n```\n\nOptimization tip: JOINs often perform better than IN subqueries, especially with proper indexes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMEquipValUsage do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates equipment for usage entry in the Equipment Management (EM) module, ensuring the equipment object exists, is eligible for use (e.g., active status, not a component), and retrieves/populates key usage details like odometer/hour readings, associated job/phase/cost type, operator, revenue code, and PR class. It supports accurate costing of equipment hours to jobs by cross-validating EM master data against JC/PM/PR setups. Output parameters provide enriched context for downstream processes like transaction posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDGetDDDTShared do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves all records from the DDDTShared table, which stores shared data for Drawing Document Distribution Types (DDDT) in Viewpoint Vista ERP. It is used to fetch complete DDDT shared configurations for display, reporting, or integration with other modules. The key operation is a simple SELECT * query, setting a success return code of 0 and supporting an optional error message output.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RPFD form?"
      },
      {
        "from": "gpt",
        "value": "The RPFD form includes these fields: Form, Report ID, Parameter Name, Std Default, Default Type, Parameter Default, Form Input, Status, Used For Publish"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSQHCopyDestVerify do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a target destination for copying a Material Sales Quote Header (bMSQH) is unique and available for use, preventing duplicate quotes tied to the same Customer/Job/PO, JC Company/Job, or Inventory Company/Location. It checks existence in existing quotes for the specified MS Company and quote type ('C' for Customer, 'J' for Job, 'I' for Inventory), returning an error code and message if a conflict exists. Success (rcode=0) allows the copy to proceed."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRW2InitSLDup do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates W2 tax table configurations (bPRWT) for a specific company and tax year, checking records marked `Initialize='Y'` to ensure no deduction code (`DednCode`) is assigned to multiple distinct state/local tax jurisdictions (`State`/`LocalCode`). If duplicates are found, it builds a detailed error message listing conflicts (e.g., same deduction code across different locals in one state or across states) and sets an error code; otherwise, it succeeds silently."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRRMGroupRes"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRRMGroupRes: HRCo (bCompany, not null); PTOAppvrGrp (bGroup, nullable); HRRef (bHRRef, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPMPCOApprove"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPMPCOApprove: PMCo (bCompany, not null); ApprovalID (smallint, not null); Project (bProject, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMSI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMSI: EMCo (bCompany, not null); Equipment (bEquip, not null); StdMaintGroup (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMDepartmentsCT form?"
      },
      {
        "from": "gpt",
        "value": "The EMDepartmentsCT form includes these fields: Default EM Group, Default GL Company, EMGroup, Cost Type, GLCo, GLAcct, Department"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INIBwMO view?"
      },
      {
        "from": "gpt",
        "value": "The INIBwMO view (Module: IN) contains: Co, Mth, BatchId, BatchSeq, MO, MOItem"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvSMServiceSiteCustomer view?"
      },
      {
        "from": "gpt",
        "value": "This report validation view enriches service site records with resolved customer group, customer ID, contract, and description by falling back to associated job and contract master data when service site fields are null."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides payroll details for non-job earnings on crew sheets, including employee names, earning codes with descriptions, hours worked, standard pay rates, company, crew, posting dates, and s\n\nContext: Viewpoint Vista database, view vrvPRCrewNonJobEarnings"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRRN.Employee,\n    PREHName.Suffix,\n    PREHName.LastName,\n    PREHName.FirstName,\n    PREHName.MidName,\n    PRRN.Class,\n    PRRN.EarnCode,\n    PREC.Description,\n    PRRN.Hours,\n    PRRN.StdPayRate,\n    PRRN.PRCo,\n    PRRN.Crew,\n    PRRN.PostDate AS PostDatePRRN,\n    PRRN.SheetNum,\n    PRRH.PostDate AS PostDatePRRH\nFROM ((PRRN PRRN (Nolock)\nINNER JOIN dbo.PRRH (Nolock)\n    ON (((PRRN.PRCo=PRRH.PRCo) AND (PRRN.Crew=PRRH.Crew))\n    AND (PRRN.PostDate=PRRH.PostDate)) AND (PRRN.SheetNum=PRRH.SheetNum))\nINNER JOIN dbo.PREHName (Nolock)\n    ON (PRRN.PRCo=PREHName.PRCo) AND (PRRN.Employee=PREHName.Employee))\nINNER JOIN dbo.PREC (Nolock)\n    ON (PRRN.PRCo=PREC.PRCo) AND (PRRN.EarnCode=PREC.EarnCode);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPHoldRelGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a detailed grid of Accounts Payable (AP) hold records assigned to a specific user within a company, including transaction details, vendor information, payment types, and hold amounts. It supports the AP Hold/Release interface by displaying holds placed by the user (e.g., for review or release before payment processing). A second query outputs the total hold amount for aggregation in the UI."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DMAttachmentGridColumnOrder view?"
      },
      {
        "from": "gpt",
        "value": "DM Attachment Grid Order"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM My Timesheet Link\n\nContext: Viewpoint Vista database, view SMMyTimesheetLink"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMMyTimesheetLink.*\nFROM dbo.vSMMyTimesheetLink;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RQqrvline form?"
      },
      {
        "from": "gpt",
        "value": "The RQqrvline form includes these fields: RQID, RQLine, Reviewer, Status, Date Assigned, Date Reviewed, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRResourceGrievances form?"
      },
      {
        "from": "gpt",
        "value": "The HRResourceGrievances form includes these fields: HRRef, Seq, Date, Grievance, Outcome, HearingDate, FinalAppealDate, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMUR view?"
      },
      {
        "from": "gpt",
        "value": "The EMUR view (Module: EM) contains: EMCo, RulesTable, Description, JTDorPDFlag, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRDET002 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRDET002 calculates per-pay-period income tax withholding for payroll deductions in Viewpoint Vista ERP. It annualizes the input subject amount by pay periods per year (@ppds), subtracts a standard deduction based on filing status (@status: 'S' single, 'M' married, 'F' other), applies progressive tax brackets to compute annual tax liability, deducts personal exemptions (@exempts at $110 each), and divides by @ppds to output the withholding amount (@amt). Used during payroll processing to accurately determine employee federal or state tax deductions from gross pay.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUEmployeeETPAmounts view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUEmployeeETPAmounts view (Module: PR) contains: PRCo, TaxYear, Employee, Seq, Address, City, State, Postcode, DateofBirth, DateOfPayment, TaxFileNumber, TotalTaxWithheld, TaxableComponent, TaxFreeComponent, TransitionalPaymentYN... (26 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_verstamp007 do?"
      },
      {
        "from": "gpt",
        "value": "> *\tThis procedure returns the version number of the stored *  procedures used by the the Microsoft Visual Database Tools. *\tVersion is 7.0.05.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSTicAddTrans form?"
      },
      {
        "from": "gpt",
        "value": "The MSTicAddTrans form includes these fields: ARCo, Customer Group, Material Group, Month, Batch ID, Add selected transaction batch, Transaction, Add selected trans for BatchID, Batch ID, Select trans for a sale date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspUDTHDirtySet do?"
      },
      {
        "from": "gpt",
        "value": "The vspUDTHDirtySet stored procedure updates the Dirty flag in the UDTH (User Defined Table Header) table for a specified table name in Viewpoint Vista ERP, marking it as needing synchronization or refresh (dirty=1) or clean (dirty=0). It is used to signal changes in user-defined tables, ensuring the application recognizes when custom data structures require updates. Key operations include input validation for tablename and dirty value, followed by a targeted UPDATE on UDTH, with error messaging and return code for success (0) or failure (1).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMTechnicianUnavailableTime view?"
      },
      {
        "from": "gpt",
        "value": "SM Technician Unavail Time"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vfVAWDJobLogs.\n\nContext: Viewpoint Vista database, view WDJBLog"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vfVAWDJobLogs();"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMAnnotationDelete do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJonathanP\n> Create date: 01/16/2009\n> Description:\tSee #129917. Deletes a DM Annotation from the vDMAnnotations table.\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcpHCCJCUnitCostCT do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a detailed unit cost report for the Job Cost (JC) module, aggregating original estimates, current estimates, actuals, projected values, and percentages for hours, units, items, phases, and costs at the job/phase/cost-type level, filtered by job range, date ranges (posted or actual dates), and activity type. It supports monthly breakdowns (via @SelMonth) and includes job/phase/contract details with unit measures (UM). The output enables cost variance analysis by cost type (CT) across selected criteria."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINCBPostJC do?"
      },
      {
        "from": "gpt",
        "value": "This SP posts inventory cost batches (INCJ) to Job Costing (JC) for a specified company, month, and batch ID, transferring material costs from manufacturing orders (MOs) including confirmed units, committed costs, taxes, and GL accounts. It processes each INCJ record via cursor, validating inventory masters (INMI) and company settings (INCO), then likely inserts/updates JC cost postings (e.g., JCCP). The output error message handles failures like invalid company."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREIC10 do?"
      },
      {
        "from": "gpt",
        "value": "bspPREIC10 calculates the periodic Earned Income Credit (EIC) amount for an employee's payroll deduction based on their EIC status (S=Single, M=Married, B=Blind) and annualized wage. It validates the status from the PRED table, sets status-specific income brackets (e.g., $8970-$16450 for S/M with $1830 max) and rates (20.4% initial, 9.588% phase-out), then applies a tiered formula to the annualized wage (calcbasis * pay periods/year) while capping against accumulated amounts. The output is a negative, rounded credit value, used in Viewpoint Vista payroll to automate EIC compliance and processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPFRGetOverrideTitle do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the override document title (OvrDocumentTitle) for a specific report in Viewpoint Vista ERP. It is used in reporting workflows to fetch customized titles associated with a form and report ID, enabling dynamic document naming over defaults. The sole key operation queries the vfRPFRShared view/function, filtered by the input @FormName and @ReportID.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCAT01 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Ohio state income tax withholding (likely under tax code \"CAT\") for payroll by annualizing the subject's gross pay amount, applying standard and additional exemptions based on filing status ('M' for Married, 'H' for Head of Household, or single), and computing the taxable income. It then applies progressive tax brackets with base tax amounts and marginal rates (1% to 9.3%) to determine the total tax liability, outputting the tax amount and any error messages. If annualized pay falls below exemption thresholds, tax is zero."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Dry Run — List impacted rows before changing anything\n\nModule: SM"
      },
      {
        "from": "gpt",
        "value": "DECLARE @SMCo tinyint = 1;\nDECLARE @Agreement varchar(15) = 'A12345';\nDECLARE @Revision int = 3;\n\nSelect 'Service' AS ScopeType, SMAgreementService.SMCo, SMAgreementService.Agreement, SMAgreementService.Revision, SMAgreementService.Service, SMAgreementService.TaxTypeOverride\nFrom SMAgreementService\nWHERE SMAgreementService.SMCo=@SMCo AND SMAgreementService.Agreement=@Agreement AND SMAgreementService.Revision=@Revision;\n\nSelect 'UNINVOICED' AS ScopeType, SMAgreementBillingSchedule.*\nFrom SMAgreementBillingSchedule\nWHERE SMAgreementBillingSchedule.SMCo=@SMCo AND SMAgreementBillingSchedule.Agreement=@Agreement AND SMAgreementBillingSchedule.Revision=@Revision AND SMAgreementBillingSchedule.SMInvoiceID IS NULL;\n\nSelect 'Posted' AS ScopeType, SMAgreementBillingSchedule.*\nFrom SMAgreementBillingSchedule\nWHERE SMAgreementBillingSchedule.SMCo=@SMCo AND SMAgreementBillingSchedule.Agreement=@Agreement AND SMAgreementBillingSchedule.Revision=@Revision AND SMAgreementBillingSchedule.SMInvoiceID IS NOT NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCAT21 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates estimated California state income tax withholding (based on DE-44 tables) for payroll. It annualizes subject wages (@subjamt * pay periods), subtracts standard deductions and exemptions based on filing status (@status: 'S'=Single, 'M'=Married, 'H'=Head of Household), and applies progressive tax brackets (1.1% to 14.63%) to determine the annual tax amount (@amt output), returning 0 if below low-income exemption thresholds. It outputs error messages (@msg) for invalid inputs like missing pay periods."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMAttachmentTypesInsert do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure inserts new attachment types into Viewpoint Vista's Document Management (DM) system, supporting both standard (system-defined) and custom (user-defined) types. For standard types (@custom='N'), it requires a unique TextID and Viewpoint privileges, storing in vDMAttachmentTypes for core system use. For custom types (@custom='Y'), it auto-generates a high ID (>50000) and stores in vDMAttachmentTypesCustom, enabling company-specific categorization of documents like contracts or drawings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPREmplTermPaymentEmplVal do?"
      },
      {
        "from": "gpt",
        "value": "> 100\n> 120\n> 130\n> 140\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspCompetitors do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMReviewerFilterVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates user authorization for a specific reviewer in Viewpoint Vista's reviewer management system by checking the current user's mapping in HQRV and HQRP tables against SUSER_SNAME(). It also verifies the reviewer's active status, setting an output error message and returning 1 if unauthorized or inactive, or returning 0 on success. Used to enforce access control and prevent operations with invalid or inactive reviewers in submittal or review workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMDS"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMDS: EMCo (bCompany, not null); Equipment (bEquip, not null); Asset (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.UserDefinedForm view?"
      },
      {
        "from": "gpt",
        "value": "The api.UserDefinedForm view (Module: Other) contains: KeyID, FormName, Title, TableName, DateCreated, IsCompanyBased"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSInvSetPrinted do?"
      },
      {
        "from": "gpt",
        "value": "The bspMSInvSetPrinted stored procedure updates the PrintedYN flag to 'Y' in the bMSIB table, marking monthly statement invoices as printed for a specified company, month, and batch. It is used post-printing in accounts receivable processes to track invoice status and avoid reprints. Key operations include filtering records by customer range, sort name, or invoice number (via @order parameter), optionally limiting to non-cash payments, and joining bARCM for customer details.\n\nThe bspMSInvSetPrinted stored procedure marks monthly statement invoices as printed by updating the PrintedYN flag to 'Y' in the bMSIB table for records matching input filters. It is used post-printing to prevent reprinting of invoices within a specific company, month, and batch, with flexible range selection by customer number, sort name (via bARCM join), or invoice number, and optional exclusion of cash payments. Key operations involve conditional WHERE clause filtering based on the @order parameter and ISNULL defaults for ranges.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQMaterialTransfer do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQMaterialTransfer stored procedure ensures a material record exists in the bINMT inventory table for a specified company (INCo), location, material group, and material in Viewpoint Vista ERP. It validates required inputs and, if the record is missing, inserts a new one with provided values for costs, ECMs, price, weight conversion, and defaults for quantities (e.g., OnHand=0), rates, and status (Active='Y'). Used to initialize or transfer material setup at HQ for inventory tracking, it returns an error code and message for invalid inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRMyTimesheet"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRMyTimesheet: PRCo (bCompany, not null); EntryEmployee (bEmployee, not null); StartDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPCanvasGridSettings view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPCanvasGridSettings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRLVEarnLeave view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from bPRLVEarnLeave."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMCOItemInitCreate do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes the creation of sequential numeric Change Order Items (COItems) for Potential Change Orders (PCOs) or Approved Change Orders (ACOs) in the PM module. It scans user-specific staging records in PMOZ (where COItem is null), determines the next available numeric item number from bPMOI based on the project and PCO/ACO context, and prepares formatting via DDDTShared input mask for bulk item generation. The cursor loop processes pending ContractItems, UM, AddlUnits, and Amounts to assign these numbers."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPMenuAddSubFoldersZero do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes top-level menu folders (SubFolder=0) for a specified user in Viewpoint Vista ERP by inserting all modules from vDDMO into the vDDSF table if they are missing for that user under company 0. It also ensures a root folder titled 'My Viewpoint' with a blank module code exists. Primarily used during user onboarding or menu resets to establish a default menu structure with all available modules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRAZT032 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRAZT032 calculates a payroll tax or deduction amount by annualizing a subject amount over pay periods, adjusting it via federal tax basis and rate ratios, and applying a tiered withholding rate (default 10% or 18.2% based on $15,000 annual earnings threshold, overridden by matching miscfactor values like 21.3%, 23.3%, etc.). It outputs the final amount as rate times adjusted subject amount, returning early if federal inputs are zero. Used in Viewpoint Vista ERP payroll processing for accurate, factor-specific withholdings.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRDE view?"
      },
      {
        "from": "gpt",
        "value": "PR Deparment Earnings"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBatchAssignPR do?"
      },
      {
        "from": "gpt",
        "value": "This SP processes an import batch in the Inventory (IM) module to extract and consolidate payroll (PR) batch details—company (Co), payroll group (PRGroup), and payroll end date (PREndDate)—from staged import data in IMWE. It prepares distinct batch combinations via a cursor for bulk assignment of inventory records (e.g., usage, adjustments) to specific payroll batches. The process supports form-based imports identified by @form and @importid, populating data dictionary mappings from DDUD/DDUF for column resolution."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPMChangeOrderCostDetail view?"
      },
      {
        "from": "gpt",
        "value": "Combines cost details from project change orders (PCOs/ACOs) including item-level approved amounts, units, and fixed costs with phase/cost-type breakdowns from lines, plus linked subcontractor ledger transactions with billed amounts, and header-level ACO data. Performs key transformations like distinguishing PCO vs ACO via CASE, defaulting missing interface dates to 1/1/1950, and zeroing out non-applicable fields across UNIONed sources for unified reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DocumentResponse view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from Document."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMDepartmentRole form?"
      },
      {
        "from": "gpt",
        "value": "The EMDepartmentRole form includes these fields: Department, Role, VPUserName, Lead, Active, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMAttachmentTypesGet do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJonathanP\n> Create date: 04/21/08\n> Description:\tReturns a result set of all the attachment types.\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCAT092 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates progressive state income tax withholding (likely Rhode Island, based on brackets/rates like 1.25%-10.55%) for payroll. It annualizes subject wages (`@subjamt * @ppds`), subtracts standard deduction and exemptions (regular/additional), determines taxable income, and applies filing status-specific brackets ('S'=Single default, 'M'=Married, 'H'=Head of Household) to compute tax amount (`@amt` OUTPUT). Returns error message (`@msg`) if inputs invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMHQMatlValReturnValidUM do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a part number for HQ material returns in Equipment Management (EM), checking required inputs like EM company, equipment, material group, part number, and default unit of measure (UM). It calls `bspEMEquipPartVal` to retrieve or confirm standard UM, stocking status ('S' for stocked, 'P' for non-stocked), unit price, tax code, and HQ material ID, falling back to the provided default UM if needed. It returns an error code and message for invalid inputs, ensuring only valid parts can be processed in returns."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMBFPostJC do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts batched Equipment Management (EM) revenue transactions (source='EMRev') from a temporary staging table (bEMJC) to Job Cost distributions (bJCCD) in the JC module. It iterates through batch records, validates phase cost types via bspJCVCOSTTYPE, normalizes work units to the phase's unit of measure, generates the next cost transaction ID, and inserts detailed JC distribution records including job/phase, costs, units, and equipment details. The process ensures accurate allocation of EM revenue/costs to job cost ledgers for financial reporting and job profitability analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCPP view?"
      },
      {
        "from": "gpt",
        "value": "The JCPP view (Module: JC) contains: Co, Mth, BatchId, Job, PhaseGroup, Phase, CostType, UM, ActualUnits, ProgressCmplt, PRCo, Crew, ActualDate, CostTrans, BatchSeq... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLChgOrderUCVal do?"
      },
      {
        "from": "gpt",
        "value": "> bSL,  DC #135813\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: DM Attachment Audit Log\n\nContext: Viewpoint Vista database, view DMAttachmentAuditLog"
      },
      {
        "from": "gpt",
        "value": "SELECT vDMAttachmentAuditLog.*\nFROM dbo.vDMAttachmentAuditLog;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I find all invoices for a job in Viewpoint?"
      },
      {
        "from": "gpt",
        "value": "To find invoices for a job:\n```sql\nSELECT APTH.*, APTL.*\nFROM APTH WITH (NOLOCK)\nJOIN APTL WITH (NOLOCK) ON APTH.APCo = APTL.APCo AND APTH.Mth = APTL.Mth AND APTH.APTrans = APTL.APTrans\nWHERE APTL.JCCo = @JCCo AND APTL.Job = @Job\n```\n\nAPTH = AP Transaction Header, APTL = AP Transaction Line (detail)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VSBHInfo view?"
      },
      {
        "from": "gpt",
        "value": "The VSBHInfo view (Module: VS) contains: BatchId, Description, DocCount, CreatedBy, CreatedDate, Unattached, InUseBy"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Process\n\nContext: Viewpoint Vista database, view WFProcess"
      },
      {
        "from": "gpt",
        "value": "SELECT vWFProcess.*\nFROM dbo.vWFProcess;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bGLJR table?"
      },
      {
        "from": "gpt",
        "value": "The bGLJR table (Module: GL) contains: GLCo, Jrnl, Description, Rev, RevJrnl, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_EMMaintenance view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_EMMaintenance view (Module: EM) contains: EMCo, Equipment, CostCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ARBL"
      },
      {
        "from": "gpt",
        "value": "Key columns in ARBL: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRClassEarnVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspPRClassEarnVal stored procedure validates a payroll earnings code for a specific company, craft, and class in Viewpoint Vista ERP's payroll module, retrieving the earnings method, description, and old/new rates from PREC and bPRCI tables. It enforces business rules by checking conflicts—preventing variable earnings ('V') from being used as addons or addons ('A') overlapping with variables—and initializes unset rates to zero if the method is variable. Primarily used during earnings rate updates or class assignments to ensure data integrity, it outputs the method, rates, a status message, and a return code (0 for success, 1 for errors).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This BI dimension view maps MS Companies to their corresponding HQ Company names, creating a combined company identifier and label for analytics. It includes all valid MS Companies filtered through BI\n\nContext: Viewpoint Vista database, view viDim_MSCompany"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bMSCO.KeyID AS 'MSCoID',\n    MSCo,\n    bHQCO.Name AS 'CompanyName',\n    CAST(bMSCO.MSCo AS varchar) + ' ' + bHQCO.Name AS CompanyAndName\nFROM bMSCO\nJOIN bHQCO ON bMSCO.MSCo=bHQCO.HQCo\nJOIN vDDBICompanies ON vDDBICompanies.Co=bMSCO.MSCo\nUNION ALL\nSELECT\n0,\nNULL,\n'Unassigned',\n'Unassigned';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the UDCA view?"
      },
      {
        "from": "gpt",
        "value": "The UDCA view (Module: UD) contains: TableName, ColumnName, Description, KeySeq, DataType, InputType, InputMask, InputLength, Prec, FormSeq, ControlType, OptionButtons, StatusText, Tab, Notes... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRAW form?"
      },
      {
        "from": "gpt",
        "value": "The HRAW form includes these fields: Seq, Type, Claim Contact, HRRef, Name, Address, City, State, Country, Zip"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMRecordRelationUnrelate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure removes bidirectional relationships between two records in Viewpoint Vista's Project Management (PM) module by deleting entries from the PMRelateRecord table. It validates input parameters for \"From\" and \"To\" records (KeyID and FormName), resolves form names to underlying table names via a helper SP, and handles unlinking symmetrically to ensure both directions of the relation are cleared. This supports flexible record association management without cascading deletes to the primary records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOImpactTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a user can uncheck the 'SL' (Subcontract) or 'PO' (Purchase Order) impact type checkbox on a Project Change Order (PCO) header in the PM module. It enforces data integrity by blocking the uncheck if related detail lines already exist in PMOL (e.g., SubCO for SL or POCONum for PO), requiring their removal first. It returns an error message and code (1 for failure, 0 for success) via output parameters."
      }
    ]
  }
]