[
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBGL"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBGL: JBCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvHQCO_User view?"
      },
      {
        "from": "gpt",
        "value": "The vrvHQCO_User view (Module: HQ) contains: HQCo, UserName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join POHD with SMWorkCompletedAllCurrent in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join POHD with SMWorkCompletedAllCurrent, use:\n\n```sql\nFROM POHD\nINNER JOIN SMWorkCompletedAllCurrent\n  ON POHD.POCo = SMWorkCompletedAllCurrent.POCo AND POHD.PO = SMWorkCompletedAllCurrent.PO\n```\n\nThis pattern is used in the vrvSMCostAdjBatchReport view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMInvoiceDetail with SMWorkOrderScope in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMInvoiceDetail with SMWorkOrderScope, use:\n\n```sql\nFROM SMInvoiceDetail\nINNER JOIN SMWorkOrderScope\n  ON SMInvoiceDetail.SMCo = SMWorkOrderScope.SMCo AND SMInvoiceDetail.WorkOrder = SMWorkOrderScope.WorkOrder AND SMInvoiceDetail.Scope = SMWorkOrderScope.Scope\n```\n\nThis pattern is used in the vrvSMPreviousFlatPriceBillingsByInvoice view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRRatGroupVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHRRatGroupVal validates a Rating Group for a specified HR Company in Viewpoint Vista's HR module by checking required inputs and querying the HRRG table for a matching description. If valid, it outputs the group description and returns success code 0; otherwise, it sets an error message (e.g., missing inputs or invalid group) and returns 1. It ensures rating group integrity before HR operations like employee evaluations.\n\nbspHRRatGroupVal validates a rating group code for a specified HR company by checking the HRRG table for a matching record and retrieving its description. It returns 0 on success (with the description in the output @msg parameter) or 1 with an error message if the HR company or rating group is missing or invalid. Used in Viewpoint Vista's HR module to ensure rating groups are valid before use in payroll or evaluation processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJobApprovalProcess view?"
      },
      {
        "from": "gpt",
        "value": "JCJobApprovalProcess"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Fiscal Year\n\nContext: Viewpoint Vista database, view GLFY"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLFY.*\nFROM dbo.bGLFY;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMOT12 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates federal income tax withholding for payroll based on an employee's gross subject pay (@subjamt), pay periods per year (@ppds), filing status (@status: S=Single, M=Married, B= something like Blind?, H=Head of Household), and exemptions (@exempts). It annualizes wages, applies standard deductions and allowances (e.g., $2100 employee, $1200 dependent), computes taxable income, and applies progressive tax brackets (1.5% to 6% in $1000 increments) to determine the withholding amount (@amt output) and any error message (@msg). Unused inputs like @fedtax and @fed_subjamt suggest flexibility for overrides or related calculations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Transaction Header\n\nContext: Viewpoint Vista database, view APTH"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPTH.*\nFROM dbo.bAPTH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPSPUpdateRoutineTableDel do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMRequiredTasksExt view?"
      },
      {
        "from": "gpt",
        "value": "The SMRequiredTasksExt view (Module: SM) contains: SMWorkOrderQuoteScopeTaskID, SMCo, EntitySeq, Task, SMStandardTask, Name, Description, ServiceSite, ServiceItem, Class, Type, Manufacturer, Model, SerialNumber, Notes... (28 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLWorksheetReadyVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a Subcontract Ledger (SL) worksheet can be marked as \"Ready\" (Y) for posting or further processing in Viewpoint Vista's Job Billing (JB) module. It checks the SL header (SLHD) and items (SLIT/SLWI) for any \"InUse\" flags linking to prior batches in HQBC (batch control), preventing conflicts if the worksheet is already referenced by a posted or cleared batch. If validation fails, it returns an error message in @msg and sets a return code; otherwise, it allows the ready status."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQBEInsertWithSeq do?"
      },
      {
        "from": "gpt",
        "value": "This SP inserts a new error record into the bHQBE (HQ Batch Errors) table for a specific company (Co), month (Mth), batch ID, and batch sequence, automatically assigning the next sequential error number (Seq) based on existing entries for that batch. It logs the provided error text for auditing and troubleshooting. Returns success/error status via output parameters for caller handling."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APRL view?"
      },
      {
        "from": "gpt",
        "value": "The APRL view (Module: AP) contains: APCo, VendorGroup, Vendor, InvId, Line, LineType, PO, POItem, ItemType, SL, SLItem, JCCo, Job, PhaseGroup, Phase... (49 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCMC view?"
      },
      {
        "from": "gpt",
        "value": "JC Unit of Measure Conversions"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRGAT04 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates annualized state income tax withholding (likely Georgia, based on \"GAT\" naming and bracket structure) for payroll, using subject wages, pay periods per year, employee filing status (S=Single, H/M=Head/Married, F/B=Flat?), regular/additional exemptions, and standard deductions. It annualizes income, applies status-specific deductions/exemptions, determines the applicable tax bracket (1-6% progressive rates with base amounts), and outputs the computed tax amount (@amt). Hardcoded rates, exemptions ($2700/adult, $3000/regular, tiered std. deductions $1500-$3000), and brackets reflect legacy tax rules."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with y1 in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with y1, use:\n\n```sql\nFROM JCCD\nINNER JOIN y1\n  ON JCCD.JCCo = y1.JBCo AND JCCD.Class = y1.Class\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RPFDShared view?"
      },
      {
        "from": "gpt",
        "value": "Combines standard and custom report form parameter definitions via full outer join, prioritizing custom values for Form, ReportID, ParameterName, ParameterDefault, and UsedForPublish. Categorizes ParameterDefault into types (e.g., date via %D, project via %PROJECT) using CASE logic on prefixes. Flags customization status as Custom (1 if vRPFDc present), and labels as Standard, Override, or Custom."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMDocTrackPMOD form?"
      },
      {
        "from": "gpt",
        "value": "The PMDocTrackPMOD form includes these fields: Document Type, Other Document, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARInitReceiptJob form?"
      },
      {
        "from": "gpt",
        "value": "The ARInitReceiptJob form includes these fields: CustJob, ApplyYN Checkbox, GridCol Invoice, GridCol ShipAddress, GridCol AmountDue, GridCol ARCo, GridCol Mth, GridCol ARTrans, GridCol TransDate, GridCol ApplyYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APBatchProcess form?"
      },
      {
        "from": "gpt",
        "value": "The APBatchProcess form includes these fields: Month, Batch ID, Created by, Created date, Source, status, batch view, Print Batch Audit List, Print JC Dist List, Print Equip Dist List"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEquipCostType do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRFWT09 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates U.S. Federal Income Tax (FIT) withholding for payroll based on annualized subject wages (@subjamt * pay periods per year), adjusted for exemptions and filing status ('S'ingle or 'M'arried). It applies progressive tax brackets (circa early 2000s rates) to compute the withholding amount (@amt output), with special adjustments for non-resident aliens (adding fixed amounts to wages and forcing single status). Errors are flagged via @msg if inputs like pay periods are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMDrawingRevInitGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves drawing details—type, number, and description—from the PMDG table for a specified PM company and project. It is used to initialize and populate a grid view in the Viewpoint Vista ERP interface for project management drawing revisions. The key operation is a simple SELECT query with NOLOCK for efficient data retrieval, returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Aggregates Equipment Management revenue transactions into a BI fact table with measures for total hours (TimeUnits converted by HrsPerTimeUM), revenue dollars, and net hour readings (current minus pre\n\nContext: Viewpoint Vista database, view viFact_EMRevenue"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bEMCO.KeyID AS 'EMCoID',\n    bEMDM.KeyID AS 'DepartmentID',\n    bEMCM.KeyID AS 'CategoryID',\n    bEMEM.KeyID AS 'EquipmentID',\n    bEMRC.KeyID AS 'RevenueCodeID',\n    bJCJM.KeyID AS 'JobID',\n    isnull(CAST(CAST(bGLFP.GLCo AS varchar(3))+CAST(Datediff(dd,'1/1/1950',bGLFP.Mth) AS varchar(10)) AS int),0) AS 'FiscalMthID',\n    datediff(dd, '1/1/1950', PostDate) AS 'PostedDateID',\n    datediff(dd, '1/1/1950', ActualDate) AS 'ActualDateID',\n    sum(TimeUnits * HrsPerTimeUM) AS 'Hours',\n    Sum(bEMRD.Dollars) AS 'Revenue',\n    sum(isnull(bEMRD.HourReading, 0) - isnull(bEMRD.PreviousHourReading, 0)) AS 'RevenueHourReading'\nFROM dbo.bEMRD\nLEFT OUTER JOIN dbo.bEMCO\n    ON bEMRD.EMCo = bEMCO.EMCo\nLEFT OUTER JOIN dbo.bEMEM\n    ON bEMRD.EMCo = bEMEM.EMCo\n    AND bEMRD.Equipment = bEMEM.Equipment\nLEFT OUTER JOIN dbo.bEMDM\n    ON bEMRD.EMCo = bEMDM.EMCo\n    AND bEMEM.Department = bEMDM.Department\nLEFT OUTER JOIN dbo.bEMCM\n    ON bEMRD.EMCo = bEMCM.EMCo\n    AND bEMEM.Category = bEMCM.Category\nLEFT OUTER JOIN dbo.bJCJM\n    ON bEMRD.JCCo = bJCJM.JCCo\n    AND bEMRD.Job = bJCJM.Job\nLEFT OUTER JOIN dbo.bEMRC\n    ON bEMRD.EMGroup = bEMRC.EMGroup\n    AND bEMRD.RevCode = bEMRC.RevCode\nLEFT OUTER JOIN dbo.bGLFP\n    ON bGLFP.GLCo=isnull(bEMRD.GLCo,bEMCO.GLCo)\n    AND bGLFP.Mth=bEMRD.Mth\nINNER JOIN vDDBICompanies ON vDDBICompanies.Co=bEMRD.EMCo\nGROUP BY bEMCO.KeyID\n, bEMDM.KeyID\n, bEMCM.KeyID\n, bEMEM.KeyID\n, bEMRC.KeyID\n, bJCJM.KeyID\n, bGLFP.GLCo\n, bGLFP.Mth\n, datediff(dd, '1/1/1950', PostDate)\n, datediff(dd, '1/1/1950', ActualDate);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRTSEquipInit do?"
      },
      {
        "from": "gpt",
        "value": "Initializes equipment data for a payroll timecard sheet by retrieving crew-assigned equipment from the PRCW (Payroll Crew) table, including equipment details, cost types, and revenue codes. Loops through sequence-ordered equipment entries to populate usage hours, JC cost types, and revenue codes (up to 8 phases implied by parameters). Sets error messages and return codes for missing required inputs like company, crew, date, sheet, job, or phases."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_QCT162 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the Quebec Contribution Tax (QCT162) deduction amount for a Canadian (Quebec) employee in Viewpoint Vista Payroll, factoring in annual pay periods, gross basis pay, earnings subject to the deduction, and hardcoded rates/thresholds (e.g., 6% employment insurance rate, $1,130 deduction limit). It computes capped health contributions (H), adjusts for source deductions and exemptions from employee headers (bPREH), aggregates qualifying earnings from pay entries (PRPE/PRDB), and derives the final @CalcAmt output while pulling misc amounts from deduction records (bPRED). Outputs a message for errors or status."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PC Bid Message History\n\nContext: Viewpoint Vista database, view PCBidMessageHistory"
      },
      {
        "from": "gpt",
        "value": "SELECT vPCBidMessageHistory.*, vPCBidMessageHistory.DateSent AS [TimeSent]\nFROM dbo.vPCBidMessageHistory;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMWOStatus form?"
      },
      {
        "from": "gpt",
        "value": "The EMWOStatus form includes these fields: EMGroup, StatusCode, Description, StatusType, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMBE"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMBE: Co (bCompany, not null); Project (bJob, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPMMtlSub view?"
      },
      {
        "from": "gpt",
        "value": "Batch report view consolidating project management material line details from PMMF (linked to POs) and subcontract line details from PMSL (linked to SLs) into a unified structure with PCO, phase, cost, unit, and approval data. Derives approval status from PO/SL headers when no subCO exists or from subCO ready-for-accounting flags otherwise, marking TYPE as 'M' for materials or 'S' for subcontracts. Supports interface tracking via send flags and dates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRCompAssetCheckOut form?"
      },
      {
        "from": "gpt",
        "value": "The HRCompAssetCheckOut form includes these fields: Asset Description, Resource, Check In/Out Date, Memo In/Out, Make Available, Hidden Check Out Status, Hidden DateIn/Out Captions, Hidden MemoIn/Out captions"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJobAnalysisCostTypeL-MH view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates labor man-hour metrics by company, job, phase group, phase, and cost type, comparing original/current estimates, actuals, and projections. Calculates percent complete based on units, unit MH/cost rates, remaining MH to complete, MH over/under, $/MH rates, and earned MH. Joins cost type category for grouping labor analysis at detailed levels."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IM  Work Master\n\nContext: Viewpoint Vista database, view IMWM"
      },
      {
        "from": "gpt",
        "value": "SELECT bIMWM.*\nFROM dbo.bIMWM;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bIMKV table?"
      },
      {
        "from": "gpt",
        "value": "The bIMKV table (Module: IM) contains: ImportId, ImportTemplate, RecordType, Identifier, Value, IsKeyYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQCountry"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQCountry: Country (char, not null); CountryName (varchar, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRPT"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRPT: HRCo (bCompany, not null); PositionCode (varchar, not null); TrainCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from SLIB.\n\nContext: Viewpoint Vista database, view SLIBGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT TOP 100 percent *\nFROM SLIB WITH (nolock)\nORDER BY Co, Mth, BatchId, BatchSeq, SLItem;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPGridQueryLinks view?"
      },
      {
        "from": "gpt",
        "value": "This view combines standard and custom configuration data for links between VP grid queries, specifying related queries, display order, default drill-through options, and link counts. It enables navigation and drill-through functionality across query results in VP grids via a simple UNION ALL of base and custom link views."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSubmittalPackageCreateRevisionVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a new revision can be created for a submittal package in the PM module by checking for duplicates based on PMCo, Project, SubmittalNumber, and SubmittalRev. It ensures the provided @Seq matches any existing record's sequence or flags a conflict if the revision already exists (optionally noting the assigned Package and PackageRev). On success, it returns 0; on validation failure, it populates @msg with a user-friendly error and returns 1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APVendMaster form?"
      },
      {
        "from": "gpt",
        "value": "The APVendMaster form includes these fields: VendorGroup, UnhandledError, Vendor, AuditYN, Name, SortName, Contact, Phone, Fax, TempYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUEmployeeItemAmounts_archive table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUEmployeeItemAmounts_archive table (Module: PR) contains: KeyID, PRCo, TaxYear, Employee, BeginDate, EndDate, SummarySeq, ItemCode, Amount, LSAType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCPC table?"
      },
      {
        "from": "gpt",
        "value": "The bJCPC table (Module: JC) contains: PhaseGroup, Phase, CostType, BillFlag, UM, ItemUnitFlag, PhaseUnitFlag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetDDVistaSearchResultsGridInfo do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tZachary Iversson\n> Create date: 3/22/2018\n> Description:\tReturns Column Width and DisplayIndex from the vDDVistaSearchResultsGridInfo table.\n> The Parameters are the UserName and the Column Index/\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VPQuerySecurity form?"
      },
      {
        "from": "gpt",
        "value": "The VPQuerySecurity form includes these fields: Company option, Company, Group/User option, Access level, Security Group, User"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcrMCPREarningsTots do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves and aggregates payroll earnings totals from payroll transaction batches (PRTB), including current earnings and adjustments (negated old earnings from OldEarnCode/OldHours/OldAmt). It links to batch headers (HQBC) for context like PRGroup and end dates, adds earning code descriptions (PREC), and includes user-specific display preferences (DDUP.ShowRates). The result supports detailed earnings reporting by batch, earning code, and timecard type, excluding deleted transactions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMBidtekDefaultsPR1095Covered do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates and retrieves Bidtek-specific default settings from the Import Template (IMTD) for populating PR1095Covered records, which track monthly health coverage for IRS Form 1095-C ACA reporting. It sets overwrite flags (Y/N) for fields like employee details (SSN, DOB, names), payroll company, tax year, and 12-month coverage indicators (Jan-Dec). Prepares a temporary column list (#tblCols) to map/apply these defaults during import."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMGetNextSL do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates the next sequential Submittal Log (SL) number for a Project Management (PM) project, based on company-specific numbering rules (e.g., masks, significant project digits, sequence length) from PMCO and global datatype configs. It validates inputs, extracts relevant project prefixes, checks for existing SLs in bPMSL (PM Submittal Logs) and bSLHD (Submittal Headers), and computes the max existing SL to increment for uniqueness within the SL Company and project signature. The result is returned via the OUTPUT parameter @sl, ensuring standardized, non-duplicative SL numbering."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PortalUsers view?"
      },
      {
        "from": "gpt",
        "value": "The PortalUsers view (Module: Other) contains: UserName, UserID, PID, SID, LastPIDChange, FirstName, MiddleName, LastName, LastLogin, PRCo, PREmployee, HRCo, HRRef, VendorGroup, Vendor... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMWF"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMWF: EMCo (bCompany, not null); Equipment (bEquip, not null); Sequence (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in WFChecklists"
      },
      {
        "from": "gpt",
        "value": "Key columns in WFChecklists: KeyID (int, not null); Company (bCompany, nullable); Checklist (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCXBCheckNullJobs do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Job Cost (JC) extended billing batch (bJCXB) by checking for any transactions with null Job values for a specific company, month, batch ID, and contract. It returns 1 if null Jobs exist (indicating data issues) or 0 if all Jobs are assigned, enforcing data integrity before batch processing. This prevents posting unallocated costs that could distort job profitability reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementDeferral form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementDeferral form includes these fields: Agreement, Revision, Amount, Deferral, Date, Notes, Numerical Status, Recognize Revenue, Billed Seperately"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APHD view?"
      },
      {
        "from": "gpt",
        "value": "AP Transaction Hold Detail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPRCrewEquipSub view?"
      },
      {
        "from": "gpt",
        "value": "This view provides detailed equipment assignments and phase-specific usage metrics (hours, cost types, revenues) from payroll crew transaction details (PRRQ), linked to matching headers (PRRH) for crew sheets by company, crew, post date, and sheet number, with equipment descriptions from the master file (EMEM). It enables cross-verification of employee-equipment pairings against header phases for payroll crew processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSCommonInfoGetSurcharges do?"
      },
      {
        "from": "gpt",
        "value": "> CREATE PROC [dbo].[vspMSCommonInfoGetSurcharges]\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMNR view?"
      },
      {
        "from": "gpt",
        "value": "The PMNR view (Module: PM) contains: PMCo, Project, NoteSeq, Reviewer, AddedDate, RevStatus, RevStatusDate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMStatusCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPMStatusCodeVal validates a given PM Status code by checking its existence in the PMSC table and ensuring it is active for the specified Document Category if not set to active for all categories. It retrieves the associated CodeType and Description, populates an output message for errors (e.g., missing status, not found, or category mismatch), and returns 0 for success or 1 for failure. This procedure enforces data integrity in Viewpoint Vista ERP's Project Management module during document processing workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view determines retainage and non-retainage hold statuses for AP transaction details by checking holds against company retainage hold codes, flagging sequences with any matching or non-matching h\n\nContext: Viewpoint Vista database, view vrvAPHoldStatus"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    APTD.APCo,\n    APTD.Mth,\n    APTD.APTrans,\n    APTD.APLine,\n    APTD.APSeq,\n    CASE WHEN NOT(APTD.PayType IN (APCO_1.RetPayType, APPC.RetPayType))\n    OR HoldStatus.RetainageHold = 1\n    OR APTD.ReleaseDate IS NULL THEN APTD.PayType\n    ELSE APTL.PayType END AS PayType,\n    COALESCE(HoldStatus.RetainageHold, CAST(0 AS BIT)) AS RetainageHold,\n    COALESCE(HoldStatus.NonRetainageHold, CAST(0 AS BIT)) AS NonRetainageHold\nFROM dbo.APTD\nJOIN dbo.APTL\n    ON APTL.APCo = APTD.APCo\n    AND APTL.Mth = APTD.Mth\n    AND APTL.APTrans = APTD.APTrans\n    AND APTL.APLine = APTD.APLine\nJOIN dbo.APCO AS APCO_1\n    ON APCO_1.APCo = APTD.APCo\nLEFT JOIN dbo.APPC\n    ON APPC.APCo = APTD.APCo\n    AND APPC.PayCategory = APTD.PayCategory\nOUTER APPLY ( SELECT CAST(MAX(CASE WHEN APHD.HoldCode = APCO_2.RetHoldCode THEN 1 ELSE 0 END) AS BIT) AS RetainageHold,\n    CAST(MAX(CASE WHEN APHD.HoldCode <> APCO_2.RetHoldCode THEN 1 ELSE 0 END) AS BIT) AS NonRetainageHold\nFROM dbo.APHD\nJOIN dbo.APCO AS APCO_2\n    ON APCO_2.APCo = APTD.APCo\nWHERE APHD.APCo = APTD.APCo\n    AND APHD.Mth = APTD.Mth\n    AND APHD.APTrans = APTD.APTrans\n    AND APHD.APLine = APTD.APLine\n    AND APHD.APSeq = APTD.APSeq\nGROUP BY APHD.APCo,\n    APHD.Mth,\n    APHD.APTrans,\n    APHD.APLine,\n    APHD.APSeq) AS HoldStatus;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMMatlValForPartsPosting do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates and retrieves key material/parts data for equipment posting in the Equipment Management (EM) module, including standard unit of measure (UM), unit cost/price, tax code, GL offset account, material description, on-hand inventory, HQ material ID, and last used date. It ensures the part is valid for the specified equipment, material group, and inventory location before posting, pulling from IN (Inventory) and HQ (HQ Masters) tables. Primarily used to standardize and value parts for accurate costing during equipment maintenance or usage transactions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPCContactTypeCodes table?"
      },
      {
        "from": "gpt",
        "value": "The vPCContactTypeCodes table (Module: PC) contains: VendorGroup, ContactTypeCode, Description, UniqueAttchID, KeyID, ActiveLookup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join EMLocationHistoryAttach with EMEM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join EMLocationHistoryAttach with EMEM, use:\n\n```sql\nFROM EMLocationHistoryAttach\nINNER JOIN EMEM\n  ON EMLocationHistoryAttach.EMCo = EMEM.EMCo AND EMLocationHistoryAttach.AttachedEquipment = EMEM.Equipment\n```\n\nThis pattern is used in the vrvEMLocationHistoryWithAttach view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMDL with PMHI in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMDL with PMHI, use:\n\n```sql\nFROM PMDL\nINNER JOIN PMHI\n  ON PMDL.KeyID = PMHI.SourceKeyId\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBCX"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBCX: JBCo (bCompany, not null); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSLGetEstimates do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves critical budget metrics—Available Estimate, Non-Interfaced amount, and Remaining Estimate—for a specific PM Subledger (PMSL) record by cross-applying Job Cost (JC) budget calculations from the `vfPMSubRemainingJCBudget` function. It ensures the PMSL record has a valid SL (likely Subledger or Service Ledger) value and targets a unique record by company (PMCo) and KeyID. These outputs provide a snapshot of budget utilization, helping users gauge spendable funds versus committed or unprocessed costs in project management."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRPR"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRPR: HRCo (bCompany, not null); PositionCode (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetReferenceViewComponents do?"
      },
      {
        "from": "gpt",
        "value": "> Author: Adam Rink Date: 7/20/2012 Purpose: Stored procedure that returns info about each component defined for a reference view.\n> unqualified view name; within the proc, prepend [apireference] as the schema\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOVendorVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a vendor for Purchase Order (PO) processing by looking up the vendor record in the AP Vendor Master (APVM) using either an exact numeric Vendor ID (if short integer) or by SortName (exact or fuzzy LIKE match). It retrieves key vendor details like canonical Vendor ID, PayTerms, TaxCode, Name, Active status, and Type, while enforcing required inputs. Outputs compliance status (@compliedout) based on active/type options and populates defaults for PO header fields."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PC Scope Phases\n\nContext: Viewpoint Vista database, view PCScopePhases"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vPCScopePhases.*\nFROM dbo.vPCScopePhases;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Consolidates application error details like stack traces, SQL codes, and unhandled exceptions from vDDAL with informational user login events from VPLog.vUserLogins into a unified reporting structure.\n\nContext: Viewpoint Vista database, view vrvApplicationLog"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    DateTime,\n    HostName,\n    UserName,\n    ErrorNumber,\n    Description,\n    SQLRetCode,\n    UnhandledError,\n    Informational,\n    Assembly,\n    Class,\n    [Procedure],\n    AssemblyVersion,\n    StackTrace,\n    FriendlyMessage,\n    LineNumber,\n    Event,\n    Company,\n    Object,\n    CrystalErrorID,\n    ErrorProcedure,\n    KeyID,\n    SupportId,\n    SessionId\nFROM dbo.vDDAL WITH (NOLOCK)\nUNION ALL\nSELECT LogDateTime ,\n    HostName ,\n    UserName ,\n    NULL AS ErrorNumber,\n    Description ,\n    NULL AS SQLRetCode ,\n    NULL AS UnhandledError ,\n    1 AS Informational ,\n    NULL AS Assembly ,\n    NULL AS Class ,\n    NULL AS [Procedure] ,\n    NULL AS AssemblyVersion ,\n    NULL AS StackTrace ,\n    NULL AS FriendlyMessage ,\n    NULL AS LineNumber ,\n    Event ,\n    Company ,\n    Object ,\n    NULL AS CrystalErrorID ,\n    NULL AS ErrorProcedure ,\n    NULL AS KeyID ,\n    NULL AS SupportId ,\n    SessionId\nFROM VPLog.vUserLogins WITH (NOLOCK);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRAR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRAR: HRCo (bCompany, not null); HRRef (bHRRef, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderQuoteDeriveFlatPrice do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure derives the total flat price for a Service Management (SM) Work Order Quote by first deleting existing revenue splits, then inserting new splits (broken down by cost type/category, amount, percent, and taxability) from a derivation function, and finally summing them into an output flat price. It ensures the quote's flat price accurately reflects current revenue allocation rules. Used to automate and standardize flat pricing calculations in service quotes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMLaborCostEstimateEffectiveDate view?"
      },
      {
        "from": "gpt",
        "value": "The SMLaborCostEstimateEffectiveDate view (Module: SM) contains: SMLaborCostEstimateEffectiveDateID, SMCo, LaborCostEstimateSeq, EffectiveDate, CostRate, UniqueAttchID, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.DocumentDictionary"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.DocumentDictionary: DocumentDictionaryId (uniqueidentifier, not null); DocumentId (uniqueidentifier, not null); SecondaryIdentifierTypeId (uniqueidentifier, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectPhases form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectPhases form includes these fields: Project Filter, PMCo Exists Flag, Default Phase Group, Project, JCJM Job Status, Project Total, Default Contract, JCCO Post Closed Jobs, JCCO Post Soft Closed Jobs, Phase Group"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMMDInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes a new attendee record in the Project Meeting Minutes Detail (bPMMD) table for a specific project meeting in the PM module. It derives the vendor group from company setup, assigns the next sequence number, sets presence (Y/N) and CC (email) flags based on input, and inserts only if no duplicate attendee exists for that meeting. It ensures data integrity by validating required parameters and insert row counts."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INTG view?"
      },
      {
        "from": "gpt",
        "value": "IN Transfer GL Dist Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMWorkCompletedAllCurrent view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from SMWorkCompletedAll."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSLBValInv do?"
      },
      {
        "from": "gpt",
        "value": "Validates inventory company, location, and material setups for a Material Sales (MS) Load Builder invoice line, retrieving GL accounts (inventory, cost variance, misc, tax) and cost methods from INCO, INLM, and INLO. Adjusts tax totals (subtracting GST) and determines hierarchical cost method (company > location master > location-specific). Sets error messages and return code for invalid sell-to company/location, ensuring accurate valuation before invoice posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INXI"
      },
      {
        "from": "gpt",
        "value": "Key columns in INXI: INCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in INCO: INCo (bCompany, not null); GLCo (bCompany, not null); Jrnl (bJrnl, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDColumnOrderUpdate do?"
      },
      {
        "from": "gpt",
        "value": "The vspDDColumnOrderUpdate stored procedure manages user-specific grid column order preferences in Viewpoint Vista's vDDUI table for a given form and sequence. It updates the GridCol value if a matching row exists for the current user, inserts a new row otherwise, and then deletes any empty rows (with null values in key UI fields) for that form and sequence to ensure data cleanliness. This supports personalized UI layouts in dynamic data forms, allowing users to reorder grid columns persistently.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Recurring Invoice Line\n\nContext: Viewpoint Vista database, view APRL"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPRL.*\nFROM dbo.bAPRL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Cost Header\n\nContext: Viewpoint Vista database, view JCCH"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCCH.*\nFROM dbo.bJCCH\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bJCCH.Job, bJCCH.JCCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vUtilities.vPTProcessesRunning table?"
      },
      {
        "from": "gpt",
        "value": "The vUtilities.vPTProcessesRunning table (Module: Other) contains: vPTProcessesRunning_ID, LoginName, spid, DBName, ProcessStatus, Command, LastBatch, CPU, PhysicalIO, CountRows, SQLStatement, CurrentDateTime, CurrentMonth"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from bPMOH, vf_rptPMRelatedDocs.\n\nContext: Viewpoint Vista database, view vrvPMOH"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMOH.*, (SELECT IssueNumbers\nFROM vf_rptPMRelatedDocs('bPMOH', 'bPMIM', bPMOH.KeyID)) AS [RelatedIssueNumbers]\nFROM dbo.bPMOH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvSMWorkOrder view?"
      },
      {
        "from": "gpt",
        "value": "Provides detailed service management work order headers with service site, technician, status, and request details, coalescing primary and bill-to customer addresses/contacts from AR customer masters. Aggregates service site counts per true customer/group and flat price revenue totals per work order scope. Determines record type as 'WorkCompleted' or 'WorkHeader' based on scope existence or flat pricing method for report validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMEDSeqGet do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMEDSeqGet stored procedure generates the next sequence number for inserting a new record into the PMED table, filtered by company (PMCo), project, and budget number. It queries the maximum existing Seq value for the specified criteria, adds 1 to it, and defaults to 1 if no records exist or the result is zero. This ensures unique, sequential ordering of detail records (e.g., budget line items) within a project's budget context in Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRDeductionGroup"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRDeductionGroup: PRCo (bCompany, not null); DednGroup (tinyint, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDCS view?"
      },
      {
        "from": "gpt",
        "value": "The DDCS view (Module: DD) contains: ColorSchemeID, Description, SmartCursorColor, ReqFieldColor, AccentColor1, AccentColor2, UseColorGrad, FormColor1, FormColor2, GradDirection, LabelBackgroundColor, LabelTextColor, LabelBorderStyle"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_JCDeptContract_Hierarchy view?"
      },
      {
        "from": "gpt",
        "value": "Provides a dimension view flattening Job Costing (JC) department-contract-item hierarchies per company, with concatenated contract and item descriptions for unique hierarchy keys. Links JC Contract Item records to masters for departments, contracts, companies, and HQ company names. Supports analytics by offering drill-down paths from company to department to contract to item."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMultnomahORC22 do?"
      },
      {
        "from": "gpt",
        "value": "> pay period subject wages\n> year to date accumulated Subject Amount prior to curren pay period\n> employee's filing status\n> lower threshold tax rate\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viFact_JCForecast view?"
      },
      {
        "from": "gpt",
        "value": "Provides granular monthly forecast facts for Job Costing contracts, calculating cumulative revenue and cost percentages to date, monthly percentage deltas, estimated monthly revenue and cost amounts derived from total forecasts and cost estimates, plus remaining completion percentages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HQCG view?"
      },
      {
        "from": "gpt",
        "value": "HQ Compliance Groups"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMRulesTable form?"
      },
      {
        "from": "gpt",
        "value": "The EMRulesTable form includes these fields: RulesTable, Description, JobToDate, Billing Period Flag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viFact_HRApplicantByJobOpenings view?"
      },
      {
        "from": "gpt",
        "value": "Provides surrogate key IDs linking HR applicant records to companies, requisitions, and position codes, filtered to valid companies via a CTE. Transforms applicant transactions into a dimensional fact structure by mapping references to master KeyIDs with defaults to 0 for unmatched joins. Supports analytics on applicants grouped by job openings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRGL"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRGL: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQBatchDistribution"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQBatchDistribution: HQBatchDistributionID (bigint, not null); Co (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY98 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNYY98 calculates New York income tax withholding (likely Yonkers, based on 1998 rates) for payroll, distinguishing residents from non-residents. For residents, it annualizes subject pay minus exemptions and status-based deductions (single $6975, married $7475), applies progressive brackets (4-8.14%), computes annual tax, then derives per-period amount scaled by 0.15. For non-residents, it annualizes pay and applies a flat 5% rate with small bracket exemptions if over $4000. It validates pay periods, sets error messages, and outputs the withholding amount.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMInvoiceList with SMInvoiceListDetailLine in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMInvoiceList with SMInvoiceListDetailLine, use:\n\n```sql\nFROM SMInvoiceList\nINNER JOIN SMInvoiceListDetailLine\n  ON SMInvoiceList.SMCo = SMInvoiceListDetailLine.SMCo AND SMInvoiceList.Invoice = SMInvoiceListDetailLine.Invoice\n```\n\nThis pattern is used in the vrvSMInvoiceByWO view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ONT20 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Ontario provincial income tax withholding for payroll, including base tax (@T4 via brackets and credits), surtax (@V1 with 20%/36% tiers over thresholds), and Ontario Health Premium (@V2 with tiered rates up to $750). It annualizes income (@A), applies pay-period adjustments (@ppds), deducts credits (e.g., @KP, CPP/EI via @K1P/@K2P/@K3P), and outputs the total tax amount (@calcamt) or error message (@msg). Designed for 20xx tax year (ONT20), with hardcoded defaults like TCP ($10,783) and BPA ($249)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRID"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRID: PRCo (bCompany, not null); State (varchar, not null); InsCode (bInsCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPTHTransValInit do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes output parameters for validating or editing an AP transaction header by retrieving core details (e.g., AP reference, description, invoice date, pay method, CM account, prepaid status) from the bAPTH table based on company, month, and transaction ID. It loads vendor, payment, and address data into variables for further processing and sets flags like no-CM-account-needed. Early validation ensures the transaction exists and blocks unprocessed prepaid transactions from initialization here."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSLRetgWithheld do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates the total retainage withheld amount (@retgamtwithheld) for a specific company (@slco) and service ledger/subcontractor (@sl), aggregating from AP transaction details (bAPTD), ledger batches (bAPLB), and unapproved lines (bAPUL) linked to SL items with non-zero retention percentages (WCRetPct). It applies company-specific retention pay types, country-based logic (US vs. non-US, adjusting for GST taxes if applicable), and excludes paid batches. The result supports determining available payment amounts after withholdings, with @msg for any errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProjJCPDGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP populates the Job Cost Posting Detail batch table (bJCPD) for a specific JC batch by cursor-fetching unresolved/open transactions from the Job Cost Posting Register batch table (bJCPR). It targets retained transactions (e.g., costs, PR, equipment) matching the job, phase group, phase, cost type, and month criteria, inserting them with sequenced details only if no prior bJCPD exists for the batch. It supports initialization (@detailinit=2/3) and includes user memo query building for custom filtering."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPOCBVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates Purchase Order Change Bill (POCB) transactions in a specified batch for a company and month, ensuring data integrity across costs, units, UOM conversions, taxes, job/phase/JC cost type assignments, vendor/item details, and references to POs, inventory, and service work orders. It performs checks on committed/received/invoiced quantities/costs, recalculates totals/taxes, and flags errors via @errmsg output. The validation supports batch processing integration with HQ (Home Office) modules for posting commitments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INXJ"
      },
      {
        "from": "gpt",
        "value": "Key columns in INXJ: INCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RFCommandPerformanceCategories view?"
      },
      {
        "from": "gpt",
        "value": "The RFCommandPerformanceCategories view (Module: Other) contains: CategoryID, EpisodeID, Seconds"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJBIJ"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJBIJ: JBCo (bCompany, not null); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the correct way to reference tables in Viewpoint Vista SQL?"
      },
      {
        "from": "gpt",
        "value": "In Viewpoint Vista:\n- Use view names (APTH) not base tables (bAPTH) for SELECT queries\n- Don't use schema prefix (dbo.) for views - they default to dbo\n- Always use WITH (NOLOCK) after view names: FROM APTH WITH (NOLOCK)\n- Use exact column case from the database (APCo, not apco)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure wrptPRTimeJobCI2 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a detailed dataset for a payroll time-by-job report (wrptPRTimeJobCI2), aggregating labor hours, rates, and amounts from payroll time headers (PRTH) linked to jobs, phases, departments, and earn codes. It populates a temporary table (#PRTime) with filtered payroll transactions by company, group, payroll date range, JC company/job ranges, excluding a specified phase. The output supports analysis of certified/approved time postings (CI likely indicates \"Certified Invoice\" or similar job cost integration)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMDateFormat do?"
      },
      {
        "from": "gpt",
        "value": "The bspIMDateFormat stored procedure standardizes date values in the bIMWE import work entries table specifically for 'Month' columns during data import processes in Viewpoint Vista ERP. It updates non-empty UploadVal fields by applying the vfDateIMWEStandardInline function to convert them to a standard date format, joining with bIMTD for template and record type validation. This ensures date consistency before further import processing, targeting a specific import ID, template, and record type.\n\nThe bspIMDateFormat stored procedure standardizes date values in the bIMWE table's UploadVal field for month columns during Viewpoint Vista ERP data imports. It targets records matching the specified @importid, @template, and @rectype where UploadVal is non-empty and bIMTD.ColDesc = 'Month', updating values via the vfDateIMWEStandardInline function for consistent formatting. This supports reliable date processing in the Import Manager workflow.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bARBA table?"
      },
      {
        "from": "gpt",
        "value": "The bARBA table (Module: AR) contains: Co, Mth, BatchId, GLCo, GLAcct, BatchSeq, ARLine, OldNew, ARTrans, ARTransType, CustGroup, Customer, SortName, Invoice, CheckNo... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the GLYBClosed view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from GLCO, GLYB."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptContractAmts do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a comprehensive contract status report aggregating original/current contract amounts, billed/received payments, and cost data (original estimates, current estimates, actuals, projected costs, units) for specified contracts in a company. It breaks down data by contract items, linked jobs/phases, and cost types, using transaction history up to a through-month and end-date cutoff. The result populates a temp table for reporting contract performance, profitability, and billing progress."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRUpdateValEMCost do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates payroll validation earnings records (bPREM) with Equipment Management (EM) costs for a specific payroll company (@prco), group (@prgroup), and end date (@prenddate). It clears prior hours/amounts, loops through employee/pay sequences from bPRSQ, retrieves EM fixed rates from bPREH (inserting headers if missing), and processes EM time postings to calculate/validate costs. Output @errmsg reports errors, enabling EMCostEmployee flag in bPRCO."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMEMUsageBatchReport"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMEMUsageBatchReport: BatchTransTypeDesc (varchar, not null); Co (bCompany, not null); BatchMonth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Merges standard and custom DD form/tab definitions via full outer join, prioritizing custom values for form elements like titles, types, and load sequences. Computes flags for custom status (favoring \n\nContext: Viewpoint Vista database, view DDFTShared"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    isnull(vDDFTc.Form,vDDFT.Form) AS Form,\n    isnull(vDDFTc.Tab,vDDFT.Tab) AS Tab,\n    isnull(vDDFTc.Title,vDDFT.Title) AS Title,\n    isnull(vDDFTc.GridForm, vDDFT.GridForm) AS GridForm,\n    QueryName,\n    isnull(vDDFTc.Type, 0) AS Type,\n    CASE WHEN vDDFTc.Form IS NULL THEN 'N' WHEN vDDFTc.Form LIKE 'ud%' AND isnull(vDDFTc.Tab,vDDFT.Tab) < 100 THEN 'N' ELSE 'Y' END AS Custom,\n    isnull(vDDFTc.LoadSeq, vDDFT.LoadSeq) AS LoadSeq,\n    CASE WHEN isnull(vDDFTc.Tab,vDDFT.Tab) <100 THEN 'Y' ELSE 'N' END AS IsStandard,\n    CASE WHEN vDDFTc.IsVisible IS NULL THEN 'Y' ELSE vDDFTc.IsVisible END AS IsVisible,\n    vDDFT.TitleID\nFROM dbo.vDDFTc\nfull OUTER JOIN dbo.vDDFT ON vDDFT.Form = vDDFTc.Form AND vDDFT.Tab = vDDFTc.Tab;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMUseAuto form?"
      },
      {
        "from": "gpt",
        "value": "The EMUseAuto form includes these fields: BatchMonth, Batch ID, Actual Date, Beginning Date, Ending Date, Beginning Template, Ending Template, Beginning Category, Ending Category, Beginning Location"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Surcharge Codes\n\nContext: Viewpoint Vista database, view MSSurchargeCodes"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSSurchargeCodes.*\nFROM dbo.bMSSurchargeCodes;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQATSyncBlacklist"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQATSyncBlacklist: KeyID (int, not null); AttachmentID (int, not null); FailedToIndex (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates labor man-hour (MH) estimates, actuals, projections, variances, and earned values by company, job, phase group, and phase from detailed cost type data. It calculates totals for or\n\nContext: Viewpoint Vista database, view JCJobAnalysisPhaseLMHEarn"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [JCCo],\n    [Job],\n    [PhaseGroup],\n    [Phase],\n    sum([L-OrigEstHours]) AS [L-OrigEstHours],\n    sum([L-CurrEstHours]) AS[L-CurrEstHours],\n    sum([L-ActualHours]) AS[L-ActualHours],\n    sum([L-ProjHours]) AS [L-ProjHours],\n    sum([L-MH to Comp])AS [L-MH to Comp],\n    sum([L-MH Over/Under])AS [L-MH Over/Under],\n    sum([L-Earned MH]) AS [L-Earned MH],\n    sum([L-OrigEstCost]) AS [L-OrigEstCost],\n    sum([L-CurrEstCost]) [L-CurrEstCost],\n    sum([L-ActualCost]) AS [L-ActualCost],\n    sum([L-ProjCost]) AS [L-ProjCost],\n    sum([L-TotalProjectEst]) AS [L-TotalProjectEst],\n    sum([L-Cost Over/Under]) AS [L-Cost Over/Under],\n    sum([L-EarnedLabor$]) [L-EarnedLabor$],\n    sum([L-ActualLaborCost]) AS [L-ActualLaborCost],\n    sum([L-AppEstHours]) AS [L-AppEstHours],\n    sum([L-AppHourCost]) [L-AppHourCost],\n    sum([L-AppEstCostChg]) AS [L-AppEstCostChg],\n    sum([L-PendEstHours])AS [L-PendEstHours],\n    sum([L-PendHourCost]) AS [L-PendHourCost],\n    sum([L-PendEstCostChg]) AS [L-PendEstCostChg],\n    sum([L-AddOnAmount])AS [L-AddOnAmount]\nFROM dbo.JCJobAnalysisCostTypeLMH\nGROUP BY [JCCo]\n    ,[Job]\n    ,[PhaseGroup]\n    ,[Phase];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPHoldRelPayTypeList do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves pay types and their descriptions from the APPT table for a specified company (APCo). It is used in Viewpoint Vista's Accounts Payable module to list available pay types, likely for hold or release processes. Key operations include querying the table with a company filter, returning the result set, and providing a return code (0 for success, 1 if no rows found).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRUPUpdate do?"
      },
      {
        "from": "gpt",
        "value": "Updates records in the PRUP table (Payroll Union Premiums), which manages fringe benefit premiums (e.g., union health/pension costs) in construction payroll. Supports selective field updates via skip flags (@skip*) for two distribution sets (1 and 2), covering payroll depts/crews, job/phase/cost code allocations (JC/PM), tax/insurance/unemployment states, equipment/craft/class/shift details (EM), rates/amounts, work orders, and memos. Outputs status message via @msg for user feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY17 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Yonkers, NY local income tax withholding for payroll based on annualized gross pay (@subjamt * pay periods), adjusted for filing status (@status: S/M), exemptions (@exempts), and standard deductions/allowances. It applies progressive tax brackets for residents (@resident='Y') to compute annual tax liability (base + marginal rate), returning the per-period withholding amount via @amt OUTPUT and error messages via @msg OUTPUT if needed."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCJP table?"
      },
      {
        "from": "gpt",
        "value": "The bJCJP table (Module: JC) contains: JCCo, Job, PhaseGroup, Phase, Description, Contract, Item, ProjMinPct, ActiveYN, Notes, UniqueAttchID, KeyID, InsCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptCMPBAReconciliationAUS do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a dataset for reconciling Australian Progress Billing Accounts (PBA) in Cash Management (CM), focusing on trust account transactions linked to Job Cost (JC) contracts. It aggregates AR cash receipts (payments) applied to job invoices, adjusts for GST taxes via HQTX, and excludes retainage payments; additional CTEs (beyond snippet) likely include AP disbursements, CM statements, and other modules for full bank reconciliation. The result supports matching CM account activity against project billing/receipts for a date range, with optional beginning balance auto-calculation or override."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vRPRL table?"
      },
      {
        "from": "gpt",
        "value": "The vRPRL table (Module: RP) contains: Location, Path, LocType, ServerName, StandardLocation"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMMH view?"
      },
      {
        "from": "gpt",
        "value": "EM Miles By State Header Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the POTotals view?"
      },
      {
        "from": "gpt",
        "value": "Provides purchase order line item amounts by combining current costs from unbatched PO transactions with original costs from batched PO items that were added or changed. Filters unbatched items to those not yet processed into batches and limits batched items to specific transaction types. Delivers a unified view of PO totals across active and historical states."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPGetViewerSettings do?"
      },
      {
        "from": "gpt",
        "value": "vspRPGetViewerSettings retrieves user-specific viewer settings for a specified report, including Zoom, ViewerWidth, ViewerHeight, and ZoomType from the vRPUP table. It is used in Viewpoint Vista ERP's reporting module to load personalized display preferences for the report viewer based on the current user's context. Key operations include validating the required @reportid input parameter and querying vRPUP filtered by ReportID and SUSER_SNAME(), or outputting an error if the parameter is missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAVWURLBuilder do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure constructs and returns a fully qualified URL for a specified VistaWeb form by retrieving configuration from DDFHShared and optionally vDDVS (Vista system settings). It prioritizes custom form URLs, falls back to base/redirect/marketing URLs based on the `UseVWSettingYN` flag, and validates that the form is a registered VistaWeb form (FormType=10). It provides error messaging and return codes for invalid forms or missing URLs, enabling seamless integration between Vista desktop and web portals."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRDE"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRDE: PRCo (bCompany, not null); PRDept (bDept, not null); EarnType (bEarnType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCPBCalculations view?"
      },
      {
        "from": "gpt",
        "value": "The JCPBCalculations view (Module: JC) contains: Co, Mth, BatchId, BatchSeq, PercentCompleteUnits, OverUnderUnits, RemainUnits, PercentCompleteHours, OverUnderHours, RemainHours, PercentCompleteCost, OverUnderCost, RemainCost, CurrentEstimatedUnitCost, ActualUnitCost... (33 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMMD view?"
      },
      {
        "from": "gpt",
        "value": "The PMMD view (Module: PM) contains: PMCo, Project, MeetingType, Meeting, MinutesType, Seq, VendorGroup, FirmNumber, ContactCode, PresentYN, UniqueAttchID, KeyID, CC"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvAPTL_DistinctSL view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from APTL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRDET12 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRDET12 calculates periodic state income tax withholding in Viewpoint Vista ERP payroll by annualizing the subject pay amount over pay periods per year, subtracting a standard deduction based on filing status (S=Single/Filing, M=Married), and applying progressive tax brackets to determine annual tax liability. It adjusts the result for personal exemptions ($110 each) and divides by pay periods to output the per-period withholding amount, ensuring accurate deductions. Key operations include validation of inputs, tiered basetax/rate computation (e.g., 2.2% to 6.75%), and error handling for missing parameters.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Consolidates header, detail, and miscellaneous records for completed service management work, capturing costs, quantities, rates, adjustment flags, and posting periods for non-standard items like mate\n\nContext: Viewpoint Vista database, view SMWorkCompletedMiscExtAll"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vSMWorkCompleted.[Type],\n    vSMWorkCompleted.NonBillable,\n    vSMWorkCompleted.APTLKeyID,\n    vSMWorkCompletedMisc.ARTLKeyID,\n    vSMWorkCompleted.HasAdjustment,\n    vSMWorkCompleted.IsFromAdjustment,\n    vSMWorkCompleted.IsCostAdjustment,\n    vSMWorkCompletedMisc.ActualCost,\n    vSMWorkCompletedMisc.CostQuantity,\n    vSMWorkCompletedMisc.CostRate,\n    vSMWorkCompletedMisc.CostTotal,\n    vSMWorkCompletedMisc.Description,\n    vSMWorkCompletedMisc.MaterialCost,\n    vSMWorkCompletedMisc.MonthToPostCost,\n    vSMWorkCompletedMisc.PriceQuantity,\n    vSMWorkCompletedMisc.ProjCost,\n    vSMWorkCompletedMisc.SMWorkCompletedMiscID,\n    vSMWorkCompletedMisc.StandardItem,\n    vSMWorkCompletedDetail.*\nFROM dbo.vSMWorkCompleted\nINNER JOIN dbo.vSMWorkCompletedDetail\n    ON vSMWorkCompleted.SMCo = vSMWorkCompletedDetail.SMCo\n    AND vSMWorkCompleted.SMWorkCompletedID = vSMWorkCompletedDetail.SMWorkCompletedID\nINNER JOIN dbo.vSMWorkCompletedMisc\n    ON vSMWorkCompletedMisc.SMCo = vSMWorkCompletedDetail.SMCo\n    AND vSMWorkCompletedMisc.SMWorkCompletedID = vSMWorkCompletedDetail.SMWorkCompletedID\n    AND vSMWorkCompletedMisc.IsSession = vSMWorkCompletedDetail.IsSession;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Subquery can be converted to JOIN\n\nSELECT * FROM APTH WITH (NOLOCK)\nWHERE Vendor IN (SELECT Vendor FROM APVM WITH (NOLOCK) WHERE VendorGroup = 1)"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT h.*\nFROM APTH h WITH (NOLOCK)\nJOIN APVM v WITH (NOLOCK) ON h.VendorGroup = v.VendorGroup AND h.Vendor = v.Vendor\nWHERE v.VendorGroup = 1\n```\n\nOptimization tip: JOINs often perform better than IN subqueries, especially with proper indexes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMVC view?"
      },
      {
        "from": "gpt",
        "value": "PM Doc Track View Grid Columns"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Document Audit Information\n\nContext: Viewpoint Vista database, view PMHI"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMHI.*\nFROM dbo.bPMHI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMWHVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPMWHVal validates a PM company code and import ID against the PMWH table to retrieve the associated template. It then queries the PMUT table using that template to fetch creation flags for phases, cost types, vendors, materials, and units of measure, along with a description. Primarily used before PM import processes to confirm validity and set configuration options, it returns a success/error code with a status message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Work Center inquiry security\n\nContext: Viewpoint Vista database, view VPCanvasTemplateSecurity"
      },
      {
        "from": "gpt",
        "value": "SELECT vVPCanvasTemplateSecurity.*\nFROM dbo.vVPCanvasTemplateSecurity;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viFact_EMLocation view?"
      },
      {
        "from": "gpt",
        "value": "This BI interface view delivers valid Equipment Management company-location pairs by joining the base EM location master with company data. It serves as a dimension for analytics, ensuring only recognized companies' EM locations are available."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMBG view?"
      },
      {
        "from": "gpt",
        "value": "The EMBG view (Module: EM) contains: EMCo, EMGroup, Category, RevCode, RevBdownCode, Description, Rate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Revenue Rates\n\nContext: Viewpoint Vista database, view EMRR"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMRR.*\nFROM dbo.bEMRR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join POHB with POIB in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join POHB with POIB, use:\n\n```sql\nFROM POHB\nINNER JOIN POIB\n  ON POHB.Co = POIB.Co AND POHB.Mth = POIB.Mth AND POHB.BatchId = POIB.BatchId AND POHB.BatchSeq = POIB.BatchSeq\n```\n\nThis pattern is used in the vrvPOTaxRatesUnbatched view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRateOverrideEquipment table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRateOverrideEquipment table (Module: SM) contains: SMRateOverrideEquipID, EMCo, Equipment, RevCode, MarkupOrFlatRate, MarkupAmount, FlatRateAmount, SMCo, EntitySeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRInitPRGrid do?"
      },
      {
        "from": "gpt",
        "value": "Initializes a grid for synchronizing employee data between HR and PR modules, validating HR/PR companies, employee ranges, and update direction ('H' for HR-to-PR or 'P' for PR-to-HR). Prepares cursors to fetch HR references or employee records, adjusting for country-specific ID fields (SSN/TFN/SIN) and optional exclusions like inactive employees. Returns errors via @errmsg if validations fail, enabling safe batch grid population for review/updates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APTD with APPC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APTD with APPC, use:\n\n```sql\nFROM APTD\nINNER JOIN APPC\n  ON APTD.APCo = APPC.APCo AND APTD.PayCategory = APPC.PayCategory\n```\n\nThis pattern is used in the vrvSLSubContractStatus view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRRE view?"
      },
      {
        "from": "gpt",
        "value": "The HRRE view (Module: HR) contains: State, LicCodeType, LicCode, LicDesc, Country, KeyID, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POHDPM"
      },
      {
        "from": "gpt",
        "value": "Key columns in POHDPM: PMCo (bCompany, nullable); Project (bJob, nullable); POCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDTableForms view?"
      },
      {
        "from": "gpt",
        "value": "The DDTableForms view (Module: DD) contains: KeyID, TableName, FormName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQSAExclusions view?"
      },
      {
        "from": "gpt",
        "value": "The HQSAExclusions view (Module: HQ) contains: AuditID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join GLFP with PCForecastMonth in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join GLFP with PCForecastMonth, use:\n\n```sql\nFROM GLFP\nINNER JOIN PCForecastMonth\n  ON GLFP.Mth = PCForecastMonth.ForecastMonth\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspPOValid do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvJCCObyContractItem"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvJCCObyContractItem: JCCo (bCompany, not null); Contract (bContract, not null); Item (bContractItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOCI table?"
      },
      {
        "from": "gpt",
        "value": "The bPOCI table (Module: PO) contains: POCo, Mth, BatchId, INCo, Loc, MatlGroup, Material, BatchSeq, OldNew, PO, POItem, VendorGroup, Vendor, UM, POUnits... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrder with SMCustomer in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrder with SMCustomer, use:\n\n```sql\nFROM SMWorkOrder\nINNER JOIN SMCustomer\n  ON SMWorkOrder.SMCo = SMCustomer.SMCo AND SMWorkOrder.CustGroup = SMCustomer.CustGroup AND SMWorkOrder.Customer = SMCustomer.Customer\n```\n\nThis pattern is used in the vrvSMWorkOrderScopeList view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvEMEquipCompoCosts"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvEMEquipCompoCosts: EMCo (bCompany, not null); HQCo (bCompany, not null); HQ_Name (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvJCJobMaster view?"
      },
      {
        "from": "gpt",
        "value": "Provides combined Job Master and Contract Master data for reporting, including job details like status, addresses, tax/insurance templates, markup rates, and labor codes, with a key transformation setting MonthClosedForReport to a far-future date for open contracts (status=1) or the actual closed month otherwise."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRPS view?"
      },
      {
        "from": "gpt",
        "value": "The PRPS view (Module: PR) contains: PRCo, PRGroup, PREndDate, PaySeq, Description, Bonus, OverrideDirDep, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMImportEditCostTypes form?"
      },
      {
        "from": "gpt",
        "value": "The PMImportEditCostTypes form includes these fields: Sequence, Phase Group, Import Phase, Phase, Cost Type, Import Id, Import Cost Type, Units, UM, Import UM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view unions resource master records with their dependents, presenting the resource itself as Seq=0 with 'Resource' relationship alongside actual dependents (Seq<>0) with their specific relationsh\n\nContext: Viewpoint Vista database, view HRRMHRDP"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    HRCo,\n    HRRef,\n    0 AS Seq,\n    LastName,\n    HRRM.Suffix,\n    HRRM.FirstName,\n    HRRM.MiddleName,\n    'Resource' AS 'Relationship'\nFROM dbo.HRRM WITH (nolock)\nUNION\nSELECT HRRM.HRCo, HRRM.HRRef, HRDP.Seq, HRDP.Name AS 'LastName', HRDP.Suffix, HRDP.FirstName, HRDP.MiddleName,HRDP.Relationship\nFROM dbo.HRDP WITH (nolock)\nINNER JOIN dbo.HRRM WITH (nolock) ON HRDP.HRCo = HRRM.HRCo AND HRDP.HRRef = HRRM.HRRef AND HRDP.Seq <> 0;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMCD table?"
      },
      {
        "from": "gpt",
        "value": "The bEMCD table (Module: EM) contains: EMCo, Mth, EMTrans, BatchId, EMGroup, Equipment, Component, ComponentTypeCode, Asset, WorkOrder, WOItem, CostCode, EMCostType, PostedDate, ActualDate... (64 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBProgItemDflts do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves default values and historical billing data for a specific contract item during progress billing setup in the Job Billing (JB) module. Populates OUTPUT parameters with item details (description, UOM, SICode, tax code/rate, retainage %), original contract bill amounts/units, previous period billed totals (units, amounts, retainage, tax, WC/SM breakdowns), and billing group info. Ensures accurate pre-filling of billing lines with contract and prior invoice data to calculate current period progress."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view delivers complete posted purchase order invoice batch records (POIB) augmented with PO item totals (POIT) for original ordered, current, received, backordered, invoiced, and remaining units,\n\nContext: Viewpoint Vista database, view POIBPost"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    POIB.*,\n    isnull(POIT.OrigUnits,0) AS [POITOrigUnits],\n    isnull(POIT.OrigUnitCost,0) AS [POITOrigUnitCost],\n    isnull(POIT.OrigECM,'') AS [POITOrigECM],\n    isnull(POIT.OrigCost,0) AS [POITOrigCost],\n    isnull(POIT.OrigTax,0) AS [POITOrigTax],\n    isnull(POIT.CurUnits,0) AS [CurUnits],\n    isnull(POIT.CurUnitCost,0) AS [CurUnitCost],\n    isnull(POIT.CurECM,'') AS [CurECM],\n    isnull(POIT.CurCost,0) AS [CurCost],\n    isnull(POIT.CurTax,0) AS [CurTax],\n    isnull(POIT.RecvdUnits,0) AS [RecvdUnits],\n    isnull(POIT.RecvdCost,0) AS [RecvdCost],\n    isnull(POIT.BOUnits,0) AS [BOUnits],\n    isnull(POIT.BOCost,0) AS [BOCost],\n    isnull(POIT.TotalUnits,0) AS [TotalUnits],\n    isnull(POIT.TotalCost,0) AS [TotalCost],\n    isnull(POIT.TotalTax,0) AS [TotalTax],\n    isnull(POIT.InvUnits,0) AS [InvUnits],\n    isnull(POIT.InvCost,0) AS [InvCost],\n    isnull(POIT.InvTax,0) AS [InvTax],\n    isnull(POIT.RemUnits,0) AS [RemUnits],\n    isnull(POIT.RemCost,0) AS [RemCost],\n    isnull(POIT.RemTax,0) AS [RemTax]\nFROM dbo.POIB WITH (nolock)\nJOIN dbo.POHB WITH (nolock) ON POIB.Co=POHB.Co AND POIB.Mth=POHB.Mth AND POIB.BatchId=POHB.BatchId AND POIB.BatchSeq=POHB.BatchSeq\nfull OUTER JOIN dbo.POIT WITH (nolock) ON POHB.Co=POIT.POCo AND POHB.PO=POIT.PO AND POIB.POItem=POIT.POItem;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPMDistributionGroup table?"
      },
      {
        "from": "gpt",
        "value": "The vPMDistributionGroup table (Module: PM) contains: PMCo, GroupName, Notes, UniqueAttchID, KeyID, PublicGroup, Username"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARInvEntryLinesOtherInfo do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates the available (unapplied) amounts for a specific AR transaction line, including base amount, tax, retainage, and finance charges, excluding transactions already in the current batch or previously applied. It retrieves the original line amount and aggregates adjustments from batch lines (e.g., payments, debits/credits) to determine balances available for new applications. Outputs include both total available and due amounts for use in AR invoice entry screens."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMSubmittalPackage view?"
      },
      {
        "from": "gpt",
        "value": "The PMSubmittalPackage view (Module: PM) contains: PMCo, Project, Package, PackageRev, CreateDate, Description, Status, SpecSection, ApprovingFirm, ApprovingContact, ResponsibleFirm, ResponsibleContact, SentDate, DueDate, ReceivedDate... (27 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPCPreferredProjectSizeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a preferred project size value in Viewpoint Vista ERP, ensuring it is a non-null integer between 1 and 5. It returns 0 for valid inputs or 1 for invalid ones (null or out-of-range), while setting an output message for errors like \"Missing project size preference!\" or \"Invalid project size preference!\". It enforces business rules for project preferences in construction or project management contexts.\n\nThis stored procedure validates the preferred project size input in Viewpoint Vista ERP, ensuring it falls within the valid range of 1 to 5. It checks if @ProjectSize is null or out of range, setting an error message in @msg and returning code 1 if invalid, or code 0 if valid. It is used to enforce data integrity for project size preferences during user input or configuration processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRAccidentDetailRLD form?"
      },
      {
        "from": "gpt",
        "value": "The HRAccidentDetailRLD form includes these fields: Day Seq, BeginDate, EndDate, Days, Type, Notes, Seq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPOnCostTypeDesc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the description for a specific on-cost type in the Accounts Payable module of Viewpoint Vista ERP, given an AP company code and optional on-cost ID. It is used to look up human-readable descriptions for on-cost codes during AP processing or reporting, ensuring valid references. Key operations include validating the AP company input, checking for the on-cost ID's existence in the vAPOnCostType view, and populating the output parameter with the description or an error message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvAPCompCode view?"
      },
      {
        "from": "gpt",
        "value": "The vrvAPCompCode view (Module: AP) contains: APCo, UserId, Mth, APTrans, APLine, APSeq, HoldYN, PayYN, DiscTaken, Amount, POCompCode, PODesc, SLCompCode, SLDesc, APCompCode... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ABT23 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Alberta (AB) provincial income tax withholdings for Canadian payroll in 2023 (ABT23), applying progressive tax brackets (10-15%) to taxable income after deductions for CPP/QPP, EI, and other factors. It computes output values like @calcamt (tax amount) and populates a temp table with tax components (e.g., K3P, K4P) for T4 reporting, adjusting for pay periods, Quebec processing (QPP vs. CPP), and eligibility factors. It enforces maxima like @maxCPP and handles base/additional CPP/QPP splits."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRTH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRTH: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bSLCT"
      },
      {
        "from": "gpt",
        "value": "Key columns in bSLCT: SLCo (bCompany, not null); SL (varchar, nullable); CompCode (bCompCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMAT15 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Massachusetts state income tax withholding (rate 5.15%) per pay period for an employee. It annualizes gross wages (@subjamt * pay periods), subtracts exemptions based on number of exemptions (@exempts + @addtl_exempts), filing status (@status: H=head of household, B/O=blind/other), and applies FICA-based or max deductions ($2000 annual cap), outputting the withholding amount (@amt). It implements MA-specific rules like minimum wage thresholds ($8000) and exemption values (e.g., $4400 for one dependent)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMUC table?"
      },
      {
        "from": "gpt",
        "value": "The bPMUC table (Module: PM) contains: Template, PhaseGroup, CostType, CreateCostType, UseUM, UseUnits, UseHours, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQReasonCodes form?"
      },
      {
        "from": "gpt",
        "value": "The HQReasonCodes form includes these fields: ReasonCode, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bDDDX table?"
      },
      {
        "from": "gpt",
        "value": "The bDDDX table (Module: DD) contains: Package, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCCostProjectionDetail view?"
      },
      {
        "from": "gpt",
        "value": "The JCCostProjectionDetail view (Module: JC) contains: JCCo, Job, ProjectionCode, ProjectionDate, PhaseGroup, Phase, CostType, ActualDate, ActualHours, ActualUnits, ActualCost, ActualUnitCost, ProjHours, ProjUnits, ProjCost... (97 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Summarizes VS batch headers with total document counts per batch and counts of unattached documents via subquery. Includes batch metadata like ID, description, creator, creation date, and current user\n\nContext: Viewpoint Vista database, view VSBHInfo"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent bVSBH.BatchId,\n    bVSBH.Description,\n    count(*) AS DocCount,\n    bVSBH.CreatedBy,\n    bVSBH.CreatedDate,\n    (SELECT count(*)\nFROM dbo.bVSBD AS bVSBD_1\nWHERE bVSBD_1.BatchId=bVSBH.BatchId AND bVSBD_1.Attached='N') AS Unattached,\n    bVSBH.InUseBy\nFROM dbo.bVSBH\nLEFT OUTER JOIN dbo.bVSBD AS bVSBD_2 ON bVSBH.BatchId = bVSBD_2.BatchId\nGROUP BY bVSBH.BatchId, bVSBH.Description, bVSBH.CreatedBy, bVSBH.CreatedDate, bVSBH.InUseBy\nORDER BY bVSBH.BatchId;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspUDUpdateAuditTriggers do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure manages audit triggers for user-defined tables (UD tables) in Viewpoint Vista's custom data framework. It drops existing audit triggers if `@AuditTable = 'N'`, or dynamically generates primary key lists from UDTC metadata, checks company-based flagging from UDTH, and creates new audit triggers via `vspHQCreateAuditTriggers` if `@AuditTable = 'Y'`. This ensures trackable change history on custom business tables (prefixed 'b') for compliance, auditing, or troubleshooting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bGLAJ"
      },
      {
        "from": "gpt",
        "value": "Key columns in bGLAJ: GLCo (bCompany, not null); Jrnl (bJrnl, not null); EntryId (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vBITargetLevel"
      },
      {
        "from": "gpt",
        "value": "Key columns in vBITargetLevel: TargetLevel (varchar, not null); Description (varchar, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from brvJCInsPhase, brvJCJobPhase.\n\nContext: Viewpoint Vista database, view brvJCJobPhaseMissing"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    brvJCJobPhase.JCCo,\n    brvJCJobPhase.Job,\n    brvJCJobPhase.JobDesc,\n    brvJCJobPhase.PhaseGroup,\n    brvJCJobPhase.JobPhase,\n    brvJCJobPhase.Phase,\n    brvJCJobPhase.PhsDesc,\n    brvJCJobPhase.ActiveYN,\n    brvJCJobPhase.InsTemplate,\n    brvJCJobPhase.InsTempDesc\nFROM dbo.brvJCJobPhase\nWHERE NOT EXISTS (SELECT Job\nFROM dbo.brvJCInsPhase\nWHERE brvJCJobPhase.JCCo=brvJCInsPhase.JCCo AND brvJCJobPhase.Job=brvJCInsPhase.Job AND brvJCJobPhase.PhaseGroup=brvJCInsPhase.PhaseGroup AND brvJCJobPhase.JobPhase=brvJCInsPhase.TempPhase\n    AND brvJCJobPhase.InsTemplate=brvJCInsPhase.InsTemplate);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMCustomerSiteAttchTypeDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMCustomerSiteAttchTypeDetail form includes these fields: Name, AttchTypeID, Months To Retain, Secured, Status, Attachment Source"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMUC table?"
      },
      {
        "from": "gpt",
        "value": "The bEMUC table (Module: EM) contains: EMCo, AUTemplate, Category, RulesTable, PhaseGrp, JCPhase, MaxPerPD, MaxPerMonth, MaxPerJob, MinPerPd, DayStartTime, DayStopTime, HrsPerDay, Br1StartTime, Br1StopTime... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPCommonInfoGetForEFT do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves AP-specific configuration for EFT payments, including cash management company/account, vendor payment attachment settings, secure file path usage, and EFT remittance report ID for a given company. Defaults the remittance report ID based on HQ country (US=1032, AU=1098, CA=1099) if not explicitly set in AP company setup. Returns success/error code with message if company lacks AP setup."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQCountry form?"
      },
      {
        "from": "gpt",
        "value": "The HQCountry form includes these fields: Country Code, Country Short Name, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the frl_attr_value view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vfrl_attr_value."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the AP1099BoxNumber view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vAP1099BoxNumber."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMOICalc view?"
      },
      {
        "from": "gpt",
        "value": "The PMOICalc view (Module: PM) contains: PMCo, Project, PCOType, PCO, PCOItem, PhaseGroup, CostType, IntMarkUp, ConMarkUp, NetAmount, IntMUAmt, ContractMUAmt, GrossAmt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRRIT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRRIT09 calculates Rhode Island state income tax withholding per pay period based on annualized wages. It annualizes the subject pay amount by multiplying by pay periods per year and subtracting exemption allowances (at $3,650 each), then selects a progressive tax bracket, cumulative tax addition, and marginal rate according to filing status (S/H for single/head of household or M for married). The procedure computes the annual tax liability and prorates it back to the pay period amount, with input validation and error messaging for payroll processing in Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMCM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMCM: EMCo (bCompany, not null); Category (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMOB view?"
      },
      {
        "from": "gpt",
        "value": "The PMOB view (Module: PM) contains: PMCo, Project, PCOType, PCO, PCOItem, PhaseGroup, Phase, CostType, AmtToDistribute, PMOIKeyID, AddOn"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRRH with PRRE in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRRH with PRRE, use:\n\n```sql\nFROM PRRH\nINNER JOIN PRRE\n  ON PRRH.PRCo = PRRE.PRCo AND PRRH.Crew = PRRE.Crew AND PRRH.PostDate = PRRE.PostDate AND PRRH.SheetNum = PRRE.SheetNum\n```\n\nThis pattern is used in the vrvPRCrewTimesheet view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPREmplT4ValWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee's existence and active status in the Payroll (PR) module for a given company, then retrieves detailed employee information including personal details (name, SSN, address), tax-related data (state, exemptions for CPP/QPP, EI, PPIP), and pension plan details (plan flag, RPP number from craft). It supports Canadian T4 tax slip generation by ensuring data integrity and providing formatted outputs like truncated addresses and cleaned SSN (9 digits only, else NULL). The \"T4ValWithInfo\" name indicates it's tailored for T4 reporting validation with enriched employee data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Subcontract Detail\n\nContext: Viewpoint Vista database, view PMSL"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMSL.*\nFROM dbo.bPMSL\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMSL.Project, bPMSL.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCJPStatusChange form?"
      },
      {
        "from": "gpt",
        "value": "The JCJPStatusChange form includes these fields: Phase Group, Job, Option to change by, Beginning Phase, Ending Phase, Option"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMDGUnionPMDR view?"
      },
      {
        "from": "gpt",
        "value": "This view provides a unified dataset of project drawings by unioning base drawings from PMDG (with Rev set to NULL) and their revisions from PMDR, ensuring consistent structure across both sources."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Quote Detail\n\nContext: Viewpoint Vista database, view MSQD"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSQD.*\nFROM dbo.bMSQD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Work Order Quote Scope\n\nContext: Viewpoint Vista database, view SMWorkOrderQuoteScope"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMWorkOrderQuoteScope.*, isnull(vSMWorkOrderQuoteScope.LaborCostEst,0)\n    + isnull(vSMWorkOrderQuoteScope.MaterialCostEst,0)\n    + isnull(vSMWorkOrderQuoteScope.EquipmentCostEst,0)\n    + isnull(vSMWorkOrderQuoteScope.SubcontractCostEst,0)\n    + isnull(vSMWorkOrderQuoteScope.OtherCostEst,0) AS CostEstTotal\nFROM dbo.vSMWorkOrderQuoteScope;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSVT"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSVT: VendorGroup (bGroup, not null); Vendor (bVendor, not null); Truck (bTruck, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUSTPPAYG view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUSTPPAYG view (Module: PR) contains: PRCo, TaxYear, SubmissionNumber, Employee, INBItemID, INBAmount, UniqueAttchID, KeyID, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bGLIA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bGLIA: ARGLCo (bCompany, not null); APGLCo (bCompany, not null); ARGLAcct (bGLAcct, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMDispatchTechnicianSort form?"
      },
      {
        "from": "gpt",
        "value": "The SMDispatchTechnicianSort form includes these fields: User Name, Dispatch Board, Technician"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view generates a list of unprocessed service dates for specific services within service agreements by joining service details to their associated work schedules. It links agreement revisions and \n\nContext: Viewpoint Vista database, view SMAgreementServiceDatesGenerated"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    SMAgreementService.SMCo,\n    SMAgreementService.Agreement,\n    SMAgreementService.Revision,\n    SMAgreementService.[Service],\n    SMAgreementWorkSchedule.[Date] AS ServiceDate\nFROM dbo.SMAgreementService\nINNER JOIN dbo.SMAgreementExtended\n    ON SMAgreementService.SMCo = SMAgreementExtended.SMCo\n    AND SMAgreementService.Agreement = SMAgreementExtended.Agreement\n    AND SMAgreementService.Revision = SMAgreementExtended.Revision\nINNER JOIN dbo.SMAgreementServiceWorkSchedule\n    ON SMAgreementServiceWorkSchedule.SMCo = SMAgreementExtended.SMCo\n    AND SMAgreementServiceWorkSchedule.Agreement = SMAgreementExtended.Agreement\n    AND SMAgreementServiceWorkSchedule.[Version] = SMAgreementExtended.[Version]\n    AND SMAgreementServiceWorkSchedule.[Service] = SMAgreementService.[Service]\nINNER JOIN dbo.SMAgreementWorkSchedule\n    ON SMAgreementWorkSchedule.SMCo = SMAgreementServiceWorkSchedule.SMCo\n    AND SMAgreementWorkSchedule.Agreement = SMAgreementServiceWorkSchedule.Agreement\n    AND SMAgreementWorkSchedule.[Version] = SMAgreementServiceWorkSchedule.[Version]\n    AND SMAgreementWorkSchedule.Seq = SMAgreementServiceWorkSchedule.WorkScheduleSeq\nWHERE Processed = 0;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQCreateIndex do?"
      },
      {
        "from": "gpt",
        "value": "This SP resolves the actual database table containing a specific attachment record (via UniqueAttchID) by querying the attachment type table (bHQAT) and traversing linked tables from the data dictionary (vDDLT). It validates the attachment's active state ('A') and confirms the record exists before preparing for index creation (e.g., full-text or search indexing). The process sets up dynamic table references for subsequent indexing operations in Vista's attachment system."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join D with O in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join D with O, use:\n\n```sql\nFROM D\nINNER JOIN O\n  ON D.PayType = O.RetPayType\n```\n\nThis pattern is used in the vrvPRAUBASGSTRec view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWOCustomerInvoiceDescOptions form?"
      },
      {
        "from": "gpt",
        "value": "The SMWOCustomerInvoiceDescOptions form includes these fields: SMCustomer, CustGroup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view delivers General Ledger entry transactions from Payroll Ledger Updates, parsing DistributionXML to extract payroll-specific details like employee ID, pay sequence, post sequence, earn code, \n\nContext: Viewpoint Vista database, view PRLedgerUpdateGLEntryTransaction"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vPRLedgerUpdateMonth.PRCo,\n    vPRLedgerUpdateMonth.PRGroup,\n    vPRLedgerUpdateMonth.PREndDate,\n    vPRLedgerUpdateMonth.Posted,\n    vGLEntry.*,\n    GLEntryTransaction.value('./@Employee','bEmployee') Employee,\n    GLEntryTransaction.value('./@PaySeq','tinyint') PaySeq,\n    GLEntryTransaction.value('./@PostSeq','smallint') PostSeq,\n    GLEntryTransaction.value('./@GLTransaction','int') GLTransaction,\n    GLEntryTransaction.value('./@Type','tinyint') [Type],\n    GLEntryTransaction.value('./@EarnCode','bEDLCode') EarnCode,\n    GLEntryTransaction.value('./@LiabilityType','bLiabilityType') LiabilityType\nFROM dbo.vPRLedgerUpdateMonth\nINNER JOIN dbo.vGLEntry ON vPRLedgerUpdateMonth.PRLedgerUpdateMonthID = vGLEntry.PRLedgerUpdateMonthID\n    CROSS APPLY DistributionXML.nodes('/GLEntryTransaction') GLEntryTransactions(GLEntryTransaction);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDMFShared"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDMFShared: Mod (char, nullable); Form (varchar, nullable); Active (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMRequiredEquipment view?"
      },
      {
        "from": "gpt",
        "value": "SM Required Equipment"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Fact view delivering current stock inventory metrics including available units (OnHand minus allocations), standard/average/last costs and prices, and on-order quantities for standardized stock materi\n\nContext: Viewpoint Vista database, view viFact_INCurrentInventory"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bMSCO.KeyID AS MSCoID,\n    bHQMT.KeyID AS HQMaterialID,\n    bINLM.KeyID AS INLocationID,\n    bHQUM.KeyID AS UMID,\n    bINMT.StdCost,\n    bINMT.AvgCost,\n    bINMT.LastCost,\n    bINMT.StdPrice,\n    bINMT.OnHand - isnull(bINMT.Alloc,0) AS UnitsAvailable,\n    bINMT.OnOrder\nFROM dbo.bINMT WITH (NoLock)\nINNER JOIN bHQMT WITH (NoLock)\n    ON bHQMT.MatlGroup = bINMT.MatlGroup\n    AND bHQMT.Material = bINMT.Material\n    AND bHQMT.Type = 'S'\nINNER JOIN bINLM WITH (NoLock)\n    ON bINLM.INCo = bINMT.INCo\n    AND bINLM.Loc = bINMT.Loc\nINNER JOIN bMSCO WITH (NoLock)\n    ON bMSCO.MSCo = bINMT.INCo\nINNER JOIN bHQUM\n    ON bHQUM.UM = bHQMT.StdUM\nINNER JOIN vDDBICompanies ON vDDBICompanies.Co=bINMT.INCo;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bINLM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bINLM: INCo (bCompany, not null); Loc (bLoc, not null); Description (bItemDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAllowanceRuleSet table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAllowanceRuleSet table (Module: PR) contains: KeyID, PRCo, AllowanceRulesetName, AllowanceRulesetDesc, ThresholdPeriod, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Rate Override Labor\n\nContext: Viewpoint Vista database, view SMRateOverrideLabor"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMRateOverrideLabor.*\nFROM dbo.vSMRateOverrideLabor;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SL Inclusions/Exclusions Batch\n\nContext: Viewpoint Vista database, view SLInExclusionsBatch"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vSLInExclusionsBatch.*\nFROM dbo.vSLInExclusionsBatch;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APUIPONotes form?"
      },
      {
        "from": "gpt",
        "value": "The APUIPONotes form includes these fields: UI Mth, UI Seq, AP Line, PO, PO Item, PO Item Notes, PO Notes, UI Mth, UI Seq, AP Line"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipmentHQMatlVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a material code for a specific equipment item in the Equipment Management (EM) module, resolving it to a standardized Headquarters (HQ) material code from either equipment-specific mappings (EMEP) or the central HQ materials table (HQMT). It retrieves the material description and confirms validity by cross-checking against HQMT, setting output parameters for the resolved HQ material and any error message. The procedure enforces that only valid HQ materials can be associated with equipment, supporting accurate inventory and costing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPOAudit view?"
      },
      {
        "from": "gpt",
        "value": "The brvPOAudit view (Module: PO) contains: Co, Mth, BatchId, BatchSeq, PO, POItem"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRCO: PRCo (bCompany, not null); GLCo (bCompany, not null); Jrnl (bJrnl, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRGAT98 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Georgia state income tax withholding for payroll based on annualized gross pay (`@subjamt * @ppds`), adjusted for standard deductions, regular exemptions (`@regexempts`), additional exemptions (`@addexempts`), and filing status (`@status`: S=Single, H/M=Head of Household/Married, F/B=Flat/Biweekly?). It applies progressive tax brackets (1-6%) to determine the tax amount (`@amt` output) and handles error messaging (`@msg` output)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPODistFlagGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP determines the distribution status of a Purchase Order (PO) batch by checking for posted records in module-specific distribution tables (e.g., headers, lines, jobs) based on the source type ('PO Entry', 'PO Receipt', 'PO Change'). It sets individual bits (1-6 or 1-2) in a 7-character OUTPUT flag to indicate which distribution components exist for the given company, month, and batch ID. The result helps verify if a PO batch is ready for further processing like GL posting or reversal."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCanadaT4 form?"
      },
      {
        "from": "gpt",
        "value": "The PRCanadaT4 form includes these fields: Tax Year, Business Number, Company Name, Transmitter Number, Address, Address Line 2, City, Province, Postal Code, Country"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementMaintenance form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementMaintenance form includes these fields: Agreement, AgreementDesc, Version, Current Status, Term, CustGroup, Customer, Show All Maintenance, Include, orignalInclude"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSSurchargeCodes"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSSurchargeCodes: MSCo (bCompany, not null); SurchargeCode (smallint, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPT5018PaymentExport do?"
      },
      {
        "from": "gpt",
        "value": "Generates a formatted header record for exporting Accounts Payable (AP) payment data in a fixed-width format suitable for electronic bank files (e.g., ACH batch or Positive Pay). Pulls HQ company details, AP contact info, period-end date components, and aggregated payment summary (slip count/total) from payment views for a specific AP company and period. Supports report types ('O' default/original, 'A' for adjustments/corrections) with fixed transmit codes for bank transmission compatibility."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRVAT05 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRVAT05 calculates per-pay-period VAT tax withholding for payroll by annualizing the subject pay amount (multiplied by pay periods per year), subtracting a $3000 deduction and allowances ($800 per exempt, $900 per additional exempt), and applying progressive brackets: 2% up to $3000, 3% excess over $3000 to $5000, 5% to $17000, and 5.75% above. The resulting annual tax is prorated by dividing by pay periods to output the periodic tax amount. It returns an error message and code if pay periods per year is zero, ensuring valid inputs for accurate withholding in Viewpoint Vista payroll processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCAItems"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCAItems: TaxYear (char, not null); T4BoxNumber (smallint, not null); T4BoxDescription (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPMenuGetUserOptions do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves personalized user options and UI preferences for Viewpoint Vista ERP users, including settings like default companies/projects, color schemes, menu behaviors, billing methods (e.g., JBBillMth), and accessibility features (e.g., SmartCursor, IconSize). It determines the user via parameter or SUSER_SNAME(), logs login activity to VPLog.vVPLoginFlow, validates user existence in vDDUP/vDDVS, and returns ~50 configuration fields for application customization. This enables role-based, efficient navigation across modules like PM, PR, JB, and JC."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvLookupUsage"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvLookupUsage: Lookup (varchar, nullable); Custom (varchar, not null); LookupType (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APVC view?"
      },
      {
        "from": "gpt",
        "value": "AP Vendor Compliance Codes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMOI view?"
      },
      {
        "from": "gpt",
        "value": "The PMOI view (Module: PM) contains: PMCo, Project, PCOType, PCO, PCOItem, ACO, ACOItem, Description, Status, ApprovedDate, UM, Units, UnitPrice, PendingAmount, ApprovedAmt... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRHP"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRHP: HRCo (bCompany, not null); HRRef (bHRRef, nullable); PRCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bARBE table?"
      },
      {
        "from": "gpt",
        "value": "The bARBE table (Module: AR) contains: ARCo, Mth, BatchId, EMCo, Equip, EMGroup, CostCode, EMCType, BatchSeq, ARLine, OldNew, ARTrans, TransDesc, TransDate, CompType... (33 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUItemsATOCategories table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUItemsATOCategories table (Module: PR) contains: KeyID, ItemCode, ATOCategory"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SLWHHist view?"
      },
      {
        "from": "gpt",
        "value": "SL Worksheet Header History"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMIssueInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes a new issue record in the Project Management (PM) module by inserting a row into bPMIM for a specified company (PMCo) and project. It auto-generates the next sequential issue number per project, derives the vendor group from linked HQ and PM company tables, and populates fields like firm number, initiator, truncated description, initiation date (defaulting to today), and status=0 (likely \"open\"). It returns the new issue ID via @newissue and sets @msg for success or errors, ensuring atomicity via transaction."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVAFileExtensionWhiteList"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVAFileExtensionWhiteList: UploadType (varchar, not null); FileExtension (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPSaveGridConfigurationAdmin do?"
      },
      {
        "from": "gpt",
        "value": "The vspVPSaveGridConfigurationAdmin stored procedure saves or updates basic grid configuration settings for a specific display part and query in Viewpoint Vista ERP's admin interface. It checks for an existing record in VPDisplayGridSettings using DisplayID (@PartId) and QueryName; if found, it updates MaximumNumberOfRows, otherwise inserts a new record with DisplayID, QueryName, MaximumNumberOfRows, and GridType. The procedure outputs the record's KeyID as @ConfigurationId to reference the persisted admin grid preferences, such as row limits.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQBatchMonthVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates if a specified month (@mth) is open for batch processing in a given GL company (@glco) based on the source type (@source, e.g., AP, AR, GL). It determines the allowable period using the last closed month for the source from bGLCO, ensures the month falls after the last closed and within the max open months, and confirms a fiscal year exists in bGLFY. On success, it returns 0; otherwise, it populates @msg with an error and returns 1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQPRStateUITotals do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates state-specific Unemployment Insurance (UI/SUI) totals for a company, state, and quarter in the Payroll (PR) module, aggregating employee counts, gross/SUI wages, excess wages, eligible wages, withholdings, and month-specific metrics from PR earnings and deduction tables. It handles state variations (e.g., PA/VT use liability/deduction codes; ME uses detailed UE wages) and outputs data for UI tax due, out-of-state wages flags, and error messages. Purpose is to provide summarized UI data for reporting, filings, or reconciliation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VSBH"
      },
      {
        "from": "gpt",
        "value": "Key columns in VSBH: BatchId (int, not null); Description (bDesc, nullable); CreatedDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join DDTD with RPRT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join DDTD with RPRT, use:\n\n```sql\nFROM DDTD\nINNER JOIN RPRT\n  ON DDTD.MenuItem = RPRT.ReportID\n```\n\nThis pattern is used in the vrvDDTemplateDetail view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSPCDesc do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspMSPCDesc retrieves the description for a specified pay code from the MSPC table using the company code (@msco) and pay code (@paycode). It also performs an existence check for the same pay code in the MSPR table, setting the output parameter @mspr_exists to 'Y' if found or 'N' otherwise, while populating @msg with the description. This supports payroll validation and lookup operations in Viewpoint Vista ERP by providing quick confirmation of pay code details and usage.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQMTEscalationMatl form?"
      },
      {
        "from": "gpt",
        "value": "The HQMTEscalationMatl form includes these fields: Matl Group, Finished Matl, Country, State, Price Index, Component Material, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vJCCP view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates cumulative sums of current estimated costs, projected costs, forecast costs, total committed costs, and remaining committed costs from job cost periods up to a specified billing month, grouped by company, billing month, contract, and item. It links job billing summaries through job phases and filters exclusively for non-change-order items."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDNotificationPrefs table?"
      },
      {
        "from": "gpt",
        "value": "The vDDNotificationPrefs table (Module: DD) contains: KeyID, VPUserName, Source, Destination"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDLD view?"
      },
      {
        "from": "gpt",
        "value": "The DDLD view (Module: DD) contains: Lookup, Seq, ColumnName, ColumnHeading, Hidden, Datatype, InputType, InputLength, InputMask, Prec"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PO Header Batch\n\nContext: Viewpoint Vista database, view POHB"
      },
      {
        "from": "gpt",
        "value": "SELECT bPOHB.*\nFROM dbo.bPOHB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARBHPost_Cash do?"
      },
      {
        "from": "gpt",
        "value": "Posts cash receipt batches (ARBH) in the Accounts Receivable module by validating AR company existence, posting date, source ('AR Receipt'), batch status (3=OK to post or 4=posting), and ensuring only payment transactions (ARTransType 'P' or 'M'). Updates HQ batch control to status 4 (posting in progress) and sequentially processes transactions by BatchSeq for application to invoices and ledger updates. Returns errors via @errmsg if validations fail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCProjectMgrVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a project manager for a specified JC company by checking the JCMP table. It first verifies non-null inputs for company (@jcco) and project manager (@projectmgr), then queries for a matching record to retrieve the manager's name or set an error message if not found, returning 0 for success or 1 for failure via @rcode and @msg. It ensures data integrity before assigning or referencing project managers in Viewpoint's Job Costing module.\n\nbspJCProjectMgrVal validates the existence of a project manager for a specified JC company by checking the JCMP table. It first verifies that both company (@jcco) and project manager (@projectmgr) inputs are provided, then retrieves the manager's name if found or sets an error message if not. Used to ensure valid project managers before assignment in job costing processes, returning 0 on success or 1 with an output error message on failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRORT19 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates federal income tax withholding for payroll using a simplified annualization method for low-income employees (under $50K annual wages). It annualizes per-period subject pay and federal allowances, applies standard deductions based on filing status (S=Single, M=Married) and exemptions, then computes tax via progressive brackets (e.g., 5-7% rates with bases). Outputs the per-period tax amount via `@amt` and error messages via `@msg` (e.g., missing pay periods)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPFListViewFormGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves shared and user-specific configuration details for list view forms in Viewpoint Vista ERP, such as form name, title, help keyword, options, and grid row height. It queries the vfDDFHShared view function for the specified form (or all if null) and left joins the vDDFU table using the current user's SUSER_SNAME() to include personalized settings. It is used to initialize or populate form displays in the PMPF module, ensuring both standard and customized properties are available.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGLDistributionPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts unposted GL distributions for a specific source (e.g., AP, AR, JC), company, month, and batch by selecting eligible records from vGLDistribution, applying summarization logic (via PostSummary flag for grouping by line/details or account/journal), and staging them in a table variable for GL transaction creation. Handles reversing entries and date logic (transaction date or post date). Outputs status messages and uses transactions for atomicity."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PCContactTypeCodes form?"
      },
      {
        "from": "gpt",
        "value": "The PCContactTypeCodes form includes these fields: Vendor Group, Contact Type Code, Description, Active Lookup, Vendor Group From Load Proc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bIMXD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bIMXD: ImportTemplate (varchar, not null); XRefName (varchar, not null); ImportValue (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRTE with PREC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRTE with PREC, use:\n\n```sql\nFROM PRTE\nINNER JOIN PREC\n  ON PRTE.PRCo = PREC.PRCo AND PRTE.EarnCode = PREC.EarnCode\n```\n\nThis pattern is used in the vrvPRCraftClassHierarchy view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMProjectDefaultDistributions"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMProjectDefaultDistributions: PMCo (bCompany, not null); Project (bJob, not null); FirmNumber (bFirm, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPMenuAddCompanyFolderRecord do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure adds a root-level company folder record (SubFolder=0) to the vDDSF menu table for a specified company ID (@co). It validates that @co is provided and non-zero, checks for an existing root folder for that company, and inserts a new record with default values (VPUserName='', Mod='', Title='Company Name') if none exists. Used in Viewpoint Vista ERP to initialize the top-level menu structure per company, returning a success/error code (@rcode) and error message (@errmsg).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRGetResFromVPUser do?"
      },
      {
        "from": "gpt",
        "value": "> CREATE PROCEDURE [dbo].[vspHRGetResFromVPUser]\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQUDGetRelatedForms do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a list of forms related to a specified `@formname` (either as parent forms linking to it or child forms it links to), including details like title, view name, custom table, and whether each related form contains the specified `@columnname` (with tab location if present). It supports Vista's dynamic form framework by enabling discovery of interconnected forms and column usage. Key business rules include validating non-null inputs for `@formname` and `@columnname`, setting `@msg` output for errors (e.g., \"No form specified!\"), and returning `@rcode` (0=success, 1=error)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the Activity view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from Document."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMVC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMVC: ViewName (varchar, not null); ViewGrid (smallint, nullable); TableView (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMIN"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMIN: EMCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PCCertificateTypes with PCPotentialWork in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PCCertificateTypes with PCPotentialWork, use:\n\n```sql\nFROM PCCertificateTypes\nINNER JOIN PCPotentialWork\n  ON PCCertificateTypes.VendorGroup = PCPotentialWork.VendorGroup\n```\n\nThis pattern is used in the vrvPCSWMBESubcontracts view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCOIACOItemDesc do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCOIACOItemDesc retrieves the description for a specific ACO item from the JCOI table in Viewpoint Vista ERP, based on company (JCCo), job, ACO, and ACOItem parameters. It is used to fetch item descriptions for job cost or invoice-related lookups, outputting the result via the @msg parameter only if ACOItem is provided and matches a record. Key operation is a single SELECT query with NOLOCK hint, initializing @msg to empty and returning success code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMImportEquipCurrentLocation do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the current Equipment Management (EM) location details—specifically the Job Cost (JC) company, job, and location—for a given equipment item, using the most recent transaction record from the Equipment Location History (EMLH) table (latest by DateIn, Month, TimeIn, Trans). If no history exists, it defaults to the master Equipment Master (EMEM) record. It enforces business rules like validating equipment existence, active/draft status, non-component type, and no in-progress changes (via vspEMEquipChangeInProgressVal), returning location outputs or an error message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetUpdateHistory do?"
      },
      {
        "from": "gpt",
        "value": "The vspGetUpdateHistory stored procedure retrieves update history records for a specified product code from the DDUpdateHistory table in Viewpoint Vista ERP, providing details such as update type, download/installation dates, user info, paths, and version data. It is used to track and report on software updates, downloads, and installations for products. Key operations include filtering by trimmed product code, applying ISNULL formatting to dates and service packs, and returning the result set (or -1 if no records found).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pContactTypes table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pContactTypes table (Module: Other) contains: ContactTypeID, Name, Description, Static, ClientModified"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCPotentialProjectTeam"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCPotentialProjectTeam: JCCo (bCompany, not null); PotentialProject (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PMRevenueProjection\n\nContext: Viewpoint Vista database, view PMRevenueProjection"
      },
      {
        "from": "gpt",
        "value": "SELECT vPMRevenueProjection.*\nFROM dbo.vPMRevenueProjection;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMUD view?"
      },
      {
        "from": "gpt",
        "value": "The EMUD view (Module: EM) contains: EMCo, Sequence, RulesTable, EMGroup, MoreThanHrs, LessThanHrs, RevCode, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This report view delivers a full audit trail of events on Document Management attachments, enriching each log entry with the attachment name sourced from its initial 'Add' event via a subquery join. I\n\nContext: Viewpoint Vista database, view vrvDMAttachmentAuditLog"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    DMAttachmentAuditLog_1.AttachmentID,\n    e.AttachmentName,\n    DMAttachmentAuditLog_1.DateTime AS AttachmentDateTime,\n    DMAttachmentAuditLog_1.UserName,\n    DMAttachmentAuditLog_1.FieldName,\n    DMAttachmentAuditLog_1.OldValue,\n    DMAttachmentAuditLog_1.NewValue,\n    DMAttachmentAuditLog_1.Event\nFROM dbo.DMAttachmentAuditLog AS DMAttachmentAuditLog_1 WITH (Nolock)\nINNER JOIN (SELECT AttachmentID, NewValue AS AttachmentName\nFROM dbo.DMAttachmentAuditLog WITH (NoLock)\nWHERE Event = 'Add') e\nON e.AttachmentID = DMAttachmentAuditLog_1.AttachmentID;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCDA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCDA: JCCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Aggregates estimated, projected, and completed units for job phases and cost types up to the posting's actual date, sourced from cost details and grouped by company, month, batch, job, phase group, ph\n\nContext: Viewpoint Vista database, view JCPPJCCD"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent\n    bJCPP.Co,\n    bJCPP.Mth,\n    bJCPP.BatchId,\n    bJCPP.BatchSeq,\n    bJCPP.Job,\n    bJCPP.PhaseGroup,\n    bJCPP.Phase,\n    bJCPP.CostType,\n    isnull(sum(bJCCD.EstUnits),0) AS [CurrentEstimated],\n    isnull(sum(bJCCD.ProjUnits),0) AS [CurrentProjected],\n    isnull(sum(bJCCD.ActualUnits),0) AS [CurrentCompleted]\nFROM dbo.bJCPP WITH (nolock)\nJOIN dbo.bJCCH WITH (nolock) ON bJCCH.JCCo=bJCPP.Co AND bJCCH.Job=bJCPP.Job AND bJCCH.PhaseGroup=bJCPP.PhaseGroup\nAND bJCCH.Phase=bJCPP.Phase AND bJCCH.CostType=bJCPP.CostType\nLEFT JOIN dbo.bJCCD WITH (nolock) ON bJCCD.JCCo=bJCPP.Co AND bJCCD.Job=bJCPP.Job AND bJCCD.PhaseGroup=bJCPP.PhaseGroup\nAND bJCCD.Phase=bJCPP.Phase AND bJCCD.CostType=bJCPP.CostType AND bJCCH.UM=bJCCD.UM AND bJCCD.ActualDate<=bJCPP.ActualDate\nGROUP BY bJCPP.Co, bJCPP.Mth, bJCPP.BatchId, bJCPP.BatchSeq, bJCPP.Job, bJCPP.Phase, bJCPP.PhaseGroup, bJCPP.CostType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Phase C: Join Validation?"
      },
      {
        "from": "gpt",
        "value": "- [ ] All join columns match primary keys\n- [ ] Join types correct (INNER vs LEFT)\n- [ ] No orphan/cartesian joins"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMCategories form?"
      },
      {
        "from": "gpt",
        "value": "The EMCategories form includes these fields: Category, EMCO.PRCo, Description, PRClass, JobFlag, Notes, Default Rev Breakdown Code"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMRevTempVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specified revenue template already exists for a given company (EMCo) in the bEMTH table. If a matching record is found, it sets an output error message stating the template must be new and returns a non-zero code (1); otherwise, it returns zero (0) with no message. It is used in Viewpoint ERP to enforce uniqueness and prevent duplicate revenue template creation during setup or data entry processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUSTPPREndDateVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a payroll (PR) period end date for a specified company and group in Viewpoint Vista ERP. It checks for required input parameters (PRCo, PRGroup, PREndDate) and verifies the existence of matching records in the bPRSQ and bPRPC tables, optionally matching the PaidDate. If invalid, it outputs an error message and returns 1; success returns 0, ensuring data integrity before payroll processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPCOApprove view?"
      },
      {
        "from": "gpt",
        "value": "The PMPCOApprove view (Module: PM) contains: PMCo, ApprovalID, Project, PCOType, PCO, ACO, ACODesc, ApprovalDate, CompletionDate, AdditionalDays, ReportSeqNum, Username, Contract, COR, UniqueAttchID... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCIRForJCCP view?"
      },
      {
        "from": "gpt",
        "value": "The JCIRForJCCP view (Module: JC) contains: Co, Mth, Contract, Item, ProjCost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBProgressBillInit do?"
      },
      {
        "from": "gpt",
        "value": "Initializes a new progress billing application (AIA-style invoice) for a specific job contract in the Job Billing (JB) module. It validates company setups (e.g., AR/GL integration, posting options), deletes prior billing entries (bJBCE), generates the next application number from billing invoice history (bJBIN), and prepares invoice header details like dates, customer billing address, terms, and description. Outputs a new bill number, contract error count, and status message for use in subsequent billing entry."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDFSGroupRefresh do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\t<Aaron Lang, vspVADDFSGroupRefresh>\n> CC\t07/14/09 - #129922 - Added link for form header to culture text\n> Matt Pement 11/30/09 - #136176 - Change to return a list based on SecurityGroup Ids\n> JayR 6/18/2016 TFS-151819 Adding in the ability to have restricted security.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDAddAppLog do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure logs application-level errors, unhandled exceptions, informational messages, and specific user events (e.g., LogOnSuccess, LogOff) in Viewpoint Vista ERP. It captures technical details like stack traces, error numbers, SQL codes, and assembly info for diagnostics, while storing user-friendly messages and audit data. Outputs include a timestamp and any error message for caller feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRAL"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRAL: HRCo (bCompany, not null); Accident (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPUpdater do?"
      },
      {
        "from": "gpt",
        "value": "> > standard data entries are handled in\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCMCashFlow do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a daily cash flow report for the Cash Management (CM) module, calculating the running balance of \"float\" (uncleared AP checks/deposits from CMDT where CMTransType=1 or 4 and ActDate < ClearDate). It populates a result table with calendar days from @BeginDate to @EndDate, initially loading daily new uncleared amounts, then iteratively updating balances by subtracting cleared amounts (@iDate) and adding new uncleared items, for a specific CM company (defaults to 1). Other columns (e.g., LineOfCredit, OutstandingDeposit) are defined but not populated in the visible SQL (likely handled post-loop)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPLoadCanvasTemplateSettings do?"
      },
      {
        "from": "gpt",
        "value": "> Add the parameters for the stored procedure here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvAPAttachCount"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvAPAttachCount: APCo (bCompany, nullable); APVendorGroup (bGroup, nullable); APVendor (bVendor, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMRequiredMaterialVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates and retrieves key material details (cost, extended cost method, standard UOM, taxable flag, quantity, and description) for Service Management required materials, sourcing from HQ inventory master data and overriding with service-specific values when linked to a serviceable item and part type. It first calls `vspHQMUMatlInfoGet` for general material info, then fetches taxable status from HQMT, and conditionally pulls service item-specific qty/UOM/description from SMServiceItemPart if `@SMPartType` is provided. Key business rules include prioritizing service-specific data over general material data, with validation via sub-SP return code (`@rcode=1` triggers early exit with error message in `@msg`); no explicit qty/cost validations beyond lookup existence."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Line Type\n\nContext: Viewpoint Vista database, view SMLineType"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vSMLineType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMNT05 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMNT05 calculates Montana state income tax withholding for payroll based on subject pay amount, pay periods per year, filing status ('S' single or 'M' married), and exemptions. It annualizes wages by multiplying pay by periods and subtracting $3200 per exemption, then applies progressive brackets (e.g., 5.35% over $1800/$5500, up to 7.85%) with cumulative additions to compute annual tax, dividing by periods for per-pay withholding output. Used in Viewpoint payroll to ensure accurate MT state tax deductions per employee paycheck.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCraftRatesMove do?"
      },
      {
        "from": "gpt",
        "value": "The bspPRCraftRatesMove stored procedure commits new craft rates to old rates for a specified payroll company and craft in Viewpoint Vista's payroll system, effectively archiving the current rates as historical values. It validates the existence of the company and craft combination before updating OldRate = NewRate (and OldCapLimit = NewCapLimit for bPRCC) across tables bPRCI, bPRCC, bPRCP, bPRCF, bPRCE, and bPRCD. It then runs vspPRCraftMoveRateTempChk for additional validation and returns an error code with messages.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_QCT16 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the Quebec Health Contribution (QCT16) deduction for a Canadian (Quebec) employee in Payroll, based on annual earnings, pay periods per year, a gross federal basis amount, and predefined rates/limits (e.g., 6% rate, $1,130 annual max). It sums YTD earnings from eligible earning codes, applies caps and adjustments (e.g., source deductions, exemptions), and outputs the computed deduction amount while enforcing input validations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMWH"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMWH: ImportId (varchar, not null); Template (varchar, not null); PMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides GL Year Budget records limited to fiscal periods up to the last closed GL month per company, excluding header accounts by joining to the GL account master.\n\nContext: Viewpoint Vista database, view GLYBClosedNoHeaders"
      },
      {
        "from": "gpt",
        "value": "SELECT GLYB.*\nFROM dbo.GLYB\nINNER JOIN dbo.bGLAC\n    ON GLYB.GLAcct = bGLAC.GLAcct AND GLYB.GLCo = bGLAC.GLCo\nWHERE GLYB.FYEMO <= (SELECT LastMthGLClsd\nFROM dbo.bGLCO\nWHERE bGLCO.GLCo=GLYB.GLCo) AND bGLAC.AcctType <> 'H';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_AU_AllowWithRDOFactor do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates and posts a payroll allowance (addon earning code) adjusted for Rostered Day Off (RDO) hours in Australian payroll processing. It identifies subject earning hours from base time entries (bPRTH), prorates the allowance to exclude an RDO factor (fixed at 4 hours per pay period), inserts adjusted amounts into the payroll transaction accumulator (bPRTA), and reconciles the total by boosting the final record. The result ensures the addon pays correctly on productive hours only, net of RDO impact."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCAT05 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates California state income tax withholding (likely CA PIT) for a payroll period. It annualizes the subject wages (@subjamt * pay periods), applies standard deductions and exemptions based on filing status (@status: 'M'=married, 'H'=head of household), and computes tax using progressive brackets with hardcoded base amounts, limits, and marginal rates (1%-10.3%). Outputs the withholding amount (@amt) or an error message (@msg) if validation fails."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRMyTimesheet form?"
      },
      {
        "from": "gpt",
        "value": "The PRMyTimesheet form includes these fields: Entry Employee, Start Date, Sheet, Status, Status_Visible, Created On, Created By, Personal Timesheet, Total Hours, Regular Hours"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAPOnCostWorkFileHeader"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAPOnCostWorkFileHeader: KeyID (bigint, not null); APCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderForQuoteVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Service Management (SM) Work Order for assignment to a specific Quote, ensuring it exists, is not already linked to another quote, and has an active status (not closed or cancelled). If valid, it retrieves and outputs key details (customer, service site, requested by/phone/date/time, service center) for use in quoting; otherwise, it sets an error message in @msg and returns 1. Key business rules include mandatory SMCo/WorkOrder inputs, status checks (WOStatus ≠1 closed, ≠2 cancelled), and duplicate quote prevention."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMTC view?"
      },
      {
        "from": "gpt",
        "value": "The PMTC view (Module: PM) contains: PMCo, Project, Transmittal, Seq, VendorGroup, SentToFirm, SentToContact, Send, PrefMethod, CC, DateSent, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMLaborRateGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves and calculates the labor cost rate (BUNITCOST) for a technician in Service Management (SM), based on the pay type's CostMethod: multiplies technician rate by a factor (CostMethod=0) or uses the factor directly (CostMethod=1). It also determines the default JC Cost Type via a sub-SP for integration with Job Costing. Output includes the rate, JC cost type, and any error messages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PORN"
      },
      {
        "from": "gpt",
        "value": "Key columns in PORN: POCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsEMBFUsage do?"
      },
      {
        "from": "gpt",
        "value": "This SP sets default values for Equipment Management (EM) records during Bidtek data import into Vista's IM (Import) module, specifically for \"EMBF Usage\" (likely Equipment Billing Fuel Usage or similar usage tracking). It initializes flags (@yn*) to control defaulting of fields like cost codes, GL accounts, revenue rates, job/phase info, and equipment metrics (e.g., hour meters, odometers), then validates inputs like ImportId and ImportTemplate. Defaults are derived for import rows based on template rules, ensuring consistency in EM billing/usage data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRClaimContacts form?"
      },
      {
        "from": "gpt",
        "value": "The HRClaimContacts form includes these fields: ClaimContact, Name, Address, City, State, Zip, Phone, Fax, Email, Web_Address"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQAFInsert do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure manages the storage of binary attachment data (e.g., documents, images) in the HQAF table, which serves as a central repository for file attachments in Viewpoint Vista. It supports inserting new attachments, replacing existing ones (if `@deleteexisting='Y'`), or appending data to existing attachments (if `@append='Y'`), while preventing overwrites unless explicitly allowed. It returns success/error codes and messages to indicate outcomes like data conflicts or insertion failures."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_MSCompany view?"
      },
      {
        "from": "gpt",
        "value": "This BI dimension view maps MS Companies to their corresponding HQ Company names, creating a combined company identifier and label for analytics. It includes all valid MS Companies filtered through BI company interfaces and appends an 'Unassigned' row for handling null or unmatched records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VADDFSUsersAndGroups view?"
      },
      {
        "from": "gpt",
        "value": "This view unions user names from DDUP, assigning each a placeholder SecurityGroup of -1, with security group names from DDSG filtered to GroupType=1. It delivers a flat list of both users and groups as security entities with Name and SecurityGroup fields for consistent querying."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDTC"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDTC: TableName (varchar, not null); ColumnName (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcrJCRecapSummary do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a summarized revenue recap report for Job Cost (JC) contracts, aggregating billed amounts from invoice details (JCID) into current contract totals, weekly revenue (WkRev), monthly revenue (MthRev), year-to-date (YTDRev), and job-to-date (JTDRev) figures. It groups data by company, contract, item, and department, pulling descriptive metadata (e.g., descriptions, project manager, superintendent) while filtering by contract range, department range, through-month, and contract status (Open=1, Suspended=2, Closed=3, or all). Placeholders are included for future cost, CT (change order?), and AR outstanding calculations, making it a revenue-focused dashboard for project financial overviews. Key business rules/validations: - Contract status filter dynamically maps @ContractStatus ('O','S','C') to numeric codes (1-3) or all (9). - Date periods: Week from @WkEndDate-6 to @WkEndDate; Month/YTD from month-start (@BegMth) to @ThroughMth; only includes JCID.Mth <= @ThroughMth. - No explicit error handling in snippet; uses NOLOCK for performance in reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSGetSession do?"
      },
      {
        "from": "gpt",
        "value": "> !!!!!!!!!!!!!!!!!!! NOTE !!!!!!!!!! This proc is signed so any changes will cause the signature to be dropped. See Viewpoint\\Scripts\\Postscripts\\Always\\CreateCertsAndSign.sql\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAWDLoadMOCombo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the presence of non-'DD' module records in the DDMO table as a prerequisite for loading MO combos in the VAWD module. It executes a SELECT query on DDMO (Mod <> 'DD') with NOLOCK, checks the rowcount, and returns 0 if records exist (success) or 1 if none are found (failure). It ensures required modules are configured before proceeding with the load process in Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMRequestForQuoteMigrateData do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure migrates an existing Request for Quote (RFQ) record from the PMRQ table to a new record in vPMRequestForQuote, using a provided new RFQ document number and description while copying other key fields (e.g., project, dates, status, notes). It captures the new RFQ's KeyID as output and optionally links the new RFQ to a related Potential Change Order (PCO) in PMOP via vPMRelateRecord. The purpose is to duplicate/reissue an RFQ with updated identifiers, preserving business context for bidding or procurement without altering the source record."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetTemplates do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author: Dave C, [vspVAGetTemplates]\n> Create date: 5/27/09\n> Description: returns DDTFShared templates\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQBatchInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQBatchInfoGet stored procedure retrieves detailed information for a specific HQ batch from the bHQBC table, including source, table name, status (translated from numeric codes to readable labels like 'Open' or 'Validated'), creation details, restrictions, payroll group, and key dates, filtered by company, month, and batch ID. It is used in Viewpoint Vista ERP to provide batch status and metadata for monitoring, validation, or management in headquarters batch processing workflows, such as payroll or financial updates. If no matching batch exists, it sets an error message and returns 1; otherwise, it returns 0 after selecting the data.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMAD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMAD: EMCo (bCompany, not null); AllocCode (tinyint, not null); Department (bDept, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBAR_ProgPostJC do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts progress billing data from Job Billing (JB) batches into the Job Cost (JC) interface table (bJCID), capturing billed units, amounts, tax, and retainage for cost tracking and reporting. It processes temporary staging data from bJBJC for a specific company, month, and batch, generating sequential JC transactions linked to AR invoices. If JC-AR interface is disabled (JCInterface=0), it clears the staging data without posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspVAWDJobCheck do?"
      },
      {
        "from": "gpt",
        "value": "The bspVAWDJobCheck stored procedure checks for existing jobs in the WDJob table that reference a specified query name with QueryType = 0. If any such jobs are found, it outputs a warning message about potential impacts from query changes and returns a non-zero code (1); otherwise, it returns 0 with no message. It is used prior to query modifications in Viewpoint Vista to alert users and prevent unintended disruptions to dependent jobs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the IMWM view?"
      },
      {
        "from": "gpt",
        "value": "The IMWM view (Module: IM) contains: ImportId, ImportTemplate, Form, RecordSeq, Error, Message, Identifier, Sequence, SQLStatement"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDUpdateCustomButton do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the position, size, and parent of a custom button in Viewpoint Vista forms by modifying the vDDFormButtonsCustom table based on form name and button ID. It sets ButtonTop, ButtonLeft, Height, Width, and Parent values from input parameters. If no matching record exists, it outputs an error message and returns a non-zero code for error handling.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMMOInterface do?"
      },
      {
        "from": "gpt",
        "value": "This SP interfaces pending Material Option (MO) records from the PM (Project Management) module's bPMMF table into the Inventory (IN) module by validating eligible records (e.g., SendFlag='Y', MaterialOption='M', unprocessed InterfaceDate=NULL, linked approved bINMO) and creating a new batch via bspHQBCInsert for INMB processing. It handles batch creation for PM-to-IN transfers when no ACO (possibly Approval Code) is provided, logging errors and preparing for downstream MO item insertion/processing. Outputs include the MO batch ID, status, and error messages for caller handling."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHRBenefitCodeOption"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHRBenefitCodeOption: HRCo (bCompany, not null); BenefitCode (varchar, not null); BenefitOption (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLFP view?"
      },
      {
        "from": "gpt",
        "value": "The GLFP view (Module: GL) contains: GLCo, Mth, FiscalPd, FiscalYr"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMComponentTypeCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Component Type Code in the Equipment Management (EM) module against the specified EM Group, retrieving its Description and Cost Code from EMTY. Determines or confirms a valid component equipment ID (@compout) by querying EMEM (either finding the first matching component if none provided, or validating a provided one matches the type). Ensures the parent equipment (@equip) has no pending changes and outputs success/failure with error messages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCIPForJCIR view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers cumulative contract units and contract amounts up to a specified month for each company, month, contract, and item in the Job Costing module. It sums JCIP period data where the period month is less than or equal to the JCIR month, defaulting to zero for unmatched records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCraftClassVariableEarnings form?"
      },
      {
        "from": "gpt",
        "value": "The PRCraftClassVariableEarnings form includes these fields: Shift, EarnCode, Method, OldRate, NewRate, Craft, Class, Craft, Class"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPLDesc do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspPMPLDesc retrieves the description for a specific project location from the PMPL table in Viewpoint Vista's project management module. It accepts company code (@pmco), project ID (@project), and location (@location) as inputs, outputting the matching Description via @msg only if the location is provided and exists. Primarily used for quick lookup of location details during data validation, reporting, or UI display, it performs a single SELECT query with NOLOCK for performance.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMWOPartsInit form?"
      },
      {
        "from": "gpt",
        "value": "The EMWOPartsInit form includes these fields: Work Order, Select By Status Code, EM Group, Parts on this WO, Change To Status Code, Already Initialized, Parts Initialized"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNJT09 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New Jersey state income tax withholding (NJT) for payroll based on a subject's gross pay amount (@subjamt), annualized over pay periods (@ppds), adjusted for exemptions (@exempts) and filing status (@status: 'S'ingle or 'M'arried). It applies progressive tax brackets via wage charts (single or married rates) to compute the tax amount (@amt OUTPUT) after determining an effective wage bracket and marginal rate. Errors or invalid inputs result in a message (@msg OUTPUT) and zero tax."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRProcessEmplDednLiabCalc do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates the liability accrual amount for a specific employee deduction (e.g., 401k, union dues) based on payroll period earnings, YTD accumulators, deduction limits, rates, and pre-tax grouping rules. It handles complex logic for limits (annual/monthly), bonus overrides, catch-up contributions, and proration, outputting the calculated liability amount or an error message. Primarily used to determine the payable liability to vendors/third parties before actual deduction remittance."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQWT"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQWT: TemplateType (char, not null); Description (bDesc, not null); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUEmployerATOItems table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUEmployerATOItems table (Module: PR) contains: KeyID, PRCo, TaxYear, ItemCode, EDLType, EDLCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRDP view?"
      },
      {
        "from": "gpt",
        "value": "The HRDP view (Module: HR) contains: HRCo, HRRef, Seq, Name, Relationship, BirthDate, SSN, Sex, HistSeq, Address, City, State, Zip, Phone, WorkPhone... (24 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRCAEmployeesArchive table?"
      },
      {
        "from": "gpt",
        "value": "The vPRCAEmployeesArchive table (Module: PR) contains: PRCo, TaxYear, Employee, SIN, FirstName, MidName, LastName, Suffix, AddressLine1, AddressLine2, City, Province, Country, PostalCode, ProvinceEmployed... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRBatchDateVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates inputs for creating a payroll batch in the PR module, ensuring the specified company (@prco), group (@prgroup), pay period end date (@enddate), and batch month (@mth) are provided and valid. It confirms the pay period exists in PRPC with an open status (Status=0) and has at least one payment sequence defined in PRPS, returning the minimum PaySeq via @payseq if valid or an error message via @msg otherwise. The return code (@rcode) indicates success (0) or failure (1), enforcing data integrity before batch processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLMajorCategory view?"
      },
      {
        "from": "gpt",
        "value": "The GLMajorCategory view (Module: GL) contains: MajorCategory, Description, BalanceSheetOrder, IncomeStatementOrder, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPRDeptCostLiabPre611 view?"
      },
      {
        "from": "gpt",
        "value": "Provides payroll liability amounts from transaction lines, allocated to either payroll departments or job cost departments based on job presence and type, with expense month determined by multi-month period rules and cutoff dates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSII view?"
      },
      {
        "from": "gpt",
        "value": "The MSII view (Module: MS) contains: MSCo, MSInv, SoldToCo, Mth, VendorGroup, Vendor, Description, InvDate, DueDate, InUseAPCo, InUseBatchId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHRDL table?"
      },
      {
        "from": "gpt",
        "value": "The bHRDL table (Module: HR) contains: HRCo, HRRef, State, LicCodeType, LicCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDArchiveTriggers"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDArchiveTriggers: Id (int, not null); TriggerName (sysname, not null); TableSchema (sysname, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMCT view?"
      },
      {
        "from": "gpt",
        "value": "PM Document Categories"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMSD view?"
      },
      {
        "from": "gpt",
        "value": "EM Miles By State Detail Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPRDeptCostLiab"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPRDeptCostLiab: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Aggregates PMMF records by KeyID to compute TotalAmount as base Amount plus applicable tax, and TaxAmount separately using current tax rate from vfHQTaxRate function for non-exempt TaxTypes. Tax is ex\n\nContext: Viewpoint Vista database, view PMPOCO_DetailLine_Total"
      },
      {
        "from": "gpt",
        "value": "SELECT PMMF.KeyID, CAST(ISNULL(PMMF.Amount,0) +\n    CASE WHEN PMMF.TaxCode IS NULL THEN 0\n    WHEN PMMF.TaxType IN (2,3) THEN 0\n    ELSE ISNULL(ROUND(ISNULL(SUM(PMMF.Amount), 0) * ISNULL(dbo.vfHQTaxRate(PMMF.TaxGroup, PMMF.TaxCode, GetDate()),0),2),0)\n    END AS NUMERIC(18,2)) AS TotalAmount, CAST(CASE WHEN PMMF.TaxCode IS NULL THEN 0\n    WHEN PMMF.TaxType IN (2,3) THEN 0\n    ELSE ISNULL(ROUND(ISNULL(SUM(PMMF.Amount), 0) * ISNULL(dbo.vfHQTaxRate(PMMF.TaxGroup, PMMF.TaxCode, GetDate()),0),2),0)\n    END AS NUMERIC(18,2)) AS TaxAmount\nFROM dbo.PMMF\nGROUP BY PMMF.KeyID,\n    PMMF.Amount,\n    PMMF.TaxGroup,\n    PMMF.TaxCode,\n    PMMF.TaxType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRPurge form?"
      },
      {
        "from": "gpt",
        "value": "The PRPurge form includes these fields: Purge Employee Accums, Through Month, Restrict by Ded/Liab code, DL Code, Restrict by Emp, Employee, Purge Pay Periods, PR Group, Through PR Ending Date, Arrears/Payback manual entry"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides complete PM Equipment base table data with the company code aliased as JCCo for job costing integration and a derived PMECUM field that selects TimeUM when Basis is 'H' or UM otherw\n\nContext: Viewpoint Vista database, view PMECJC"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMEC.PMCo AS [JCCo], 'PMECUM' = CASE WHEN bPMEC.Basis = 'H' THEN bPMEC.TimeUM ELSE bPMEC.UM END, bPMEC.*\nFROM dbo.bPMEC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRER"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRER: HRCo (bCompany, not null); HRRef (bHRRef, not null); ReviewDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHQWO table?"
      },
      {
        "from": "gpt",
        "value": "The bHQWO table (Module: HQ) contains: TemplateType, DocObject, LinkedDocObject, ObjectTable, Required, JoinOrder, Alias, JoinClause, Notes, UniqueAttchID, WordTable, StdObject, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bsp_WastedSpace do?"
      },
      {
        "from": "gpt",
        "value": "This SP is a database optimization utility that scans string columns (varchar, nvarchar, etc.) in Viewpoint Vista tables matching a pattern (default: 'b%') to calculate wasted storage space. It determines the maximum defined length vs. actual maximum and average used lengths via datalength, highlighting opportunities to shrink column sizes for better performance and reduced storage. Output includes per-column metrics like UsedLength, AvgLength, and WastedLength."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join nexta with dbo].[WFProcessDetail in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join nexta with dbo].[WFProcessDetail, use:\n\n```sql\nFROM nexta\nINNER JOIN dbo].[WFProcessDetail\n  ON nexta.CurrentStepID = dbo].[WFProcessDetail.CurrentStepID AND nexta.HeaderID = dbo].[WFProcessDetail.HeaderID\n```\n\nThis pattern is used in the vrvWFProcessApprovalOutstandingDocs view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementSiteCoverage"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementSiteCoverage: SMAgreementSiteCoverageID (bigint, not null); SMCo (bCompany, not null); Agreement (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bcrPRHrlyWageRate do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates and consolidates hourly wage rates for union payroll employees by craft, class, and shift, incorporating basic rates from PRCP, overtime/day-specific factors from PROT/PREC/PRCM, and shift differentials. It generates temporary datasets for new/old rates, taxable fringes, and variable factors, likely to support rate comparisons or updates (e.g., via @RateOpt). The output enables reporting or processing of effective hourly rates under union contracts with day/shift variations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPCreditServiceVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves FTP connection details (URL, port, user ID) for credit service from the DDVS table when @creditservice is set to 1. It validates the input parameter, returning an error code and message if null or missing. Used in Viewpoint Vista ERP's Accounts Payable module to fetch configuration for credit service validation or processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCQualificationsWriteThrough"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCQualificationsWriteThrough: APVMKeyID (bigint, not null); Qualified (bYN, nullable); DoNotUse (bYN, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDUpdateFormReports do?"
      },
      {
        "from": "gpt",
        "value": "This SP links or updates the active status ('Y' or 'N') of a specific report to a form in Vista's form-report configuration table (vRPFRc). It first validates the existence of the form (via vfDDFHShared) and report (via vfRPRTShared), then performs an UPSERT: updates if the pair exists, inserts otherwise. Returns success/error via @rcode and @errmsg for UI feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APPC"
      },
      {
        "from": "gpt",
        "value": "Key columns in APPC: APCo (bCompany, not null); PayCategory (int, not null); ExpPayType (tinyint, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMCostCodeValWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a cost code within Equipment Management (EM) for a specific company, group, and equipment item, ensuring the cost code exists in the EM cost code master (bEMCC). It derives the equipment's department from the master file (bEMEM), then retrieves the associated GL account from the EM default organization setup (bEMDO) using the company, department, group, and cost code. If validation fails (missing inputs or invalid cost code), it outputs an error message and non-zero return code; otherwise, it provides the GL account for transaction posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMBidtekDefaultsSMDepartment do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies Bidtek-sourced default values for Service Management (SM) department settings during data import into Vista. It validates the import template setup in IMTD (Import Template Details) and initializes overwrite flags (e.g., @OverwriteSMCoYN, @OverwriteDepartmentYN, GL account overrides for costs/revenues/WIP) to control how Bidtek data populates SMCO records with departments, descriptions, and accounting codes. The result supports standardized GL mapping for SM jobs like equipment, labor, materials, and subcontracts."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSMassEditGridFill do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspMSMassEditGridFill retrieves transaction line details from the MSTB table for a specific company, month, and batch ID, populating a grid interface for mass editing in Viewpoint Vista ERP's material sales module. It selects key fields like batch sequence, transaction type, material info, units, pricing, and a calculated TicketTotal (summing material, haul, and tax totals minus discounts). Data is ordered by BatchSeq to preserve line sequence, supporting efficient bulk review and updates to ticket batches.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRCO view?"
      },
      {
        "from": "gpt",
        "value": "The HRCO view (Module: HR) contains: HRCo, PRCo, DependHistYN, DependHistCode, BenefitHistYN, BenefitHistCode, SalaryHistYN, SalaryHistCode, ReviewHistYN, ReviewHistCode, TrainHistYN, TrainHistCode, SkillsHistYN, SkillsHistCode, RewardHistYN... (58 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INLO view?"
      },
      {
        "from": "gpt",
        "value": "IN Location Category Override"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMCOItemInitVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates the next sequential Change Order (CO) item number (BPCOITEM) for a Project Management CO (PCO or ACO) on a specified project, typically when the input `@coitem` is '+' to indicate a new item. It retrieves formatting rules from DDDTShared (e.g., input mask/length for item numbering) and finds the max numeric item from existing CO items in bPMOI, outputting the new item via `@new_coitem` or an error message via `@msg`. It enforces mutual exclusivity between PCO/ACO inputs based on `@pcotype`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ARMC"
      },
      {
        "from": "gpt",
        "value": "Key columns in ARMC: CustGroup (bGroup, not null); MiscDistCode (char, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkCompletedLabor form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkCompletedLabor form includes these fields: Line Type, Work Order, Line Number, Status, Provisional, Scope, Technician, Date, Reference No, Labor Code"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APEntry form?"
      },
      {
        "from": "gpt",
        "value": "The APEntry form includes these fields: Month, BatchID, BatchSeq, BatchTransType, DisplayAddress, GLCo, APTrans, VendorGroup, Vendor, PayTerms"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vHRResBenACACoverageHist.\n\nContext: Viewpoint Vista database, view HRResBenACACoverageHist"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vHRResBenACACoverageHist.*\nFROM dbo.vHRResBenACACoverageHist;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PREarnCodeSubjEC form?"
      },
      {
        "from": "gpt",
        "value": "The PREarnCodeSubjEC form includes these fields: SubjEarnCode, EarnCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCOverridesCost form?"
      },
      {
        "from": "gpt",
        "value": "The JCOverridesCost form includes these fields: Job, Project Manager, Previous Override Projection, Current Detail Forecast, Current Detail Projection, Adjustment, New Override, Other Cost, Job Override Notes, Included CO Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCReferences"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCReferences: VendorGroup (bGroup, not null); Vendor (bVendor, not null); Seq (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMCompXferPriorInfo do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves the prior (parent) master equipment ID and description for a given equipment component in the Equipment Management (EM) module. It checks component history (bEMHC) to find the previous master in the sequence or falls back to the master equipment record (bEMEM) if no history exists. This supports tracking equipment hierarchy changes during transfers or reassignments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JBProgBillItemSMandTax form?"
      },
      {
        "from": "gpt",
        "value": "The JBProgBillItemSMandTax form includes these fields: Item, Form SICode - Display only, Description, JCCI.BillGroup - Display Only, PrevWC, WC, WC Retg %, WC Retg, PrevSM, Purchased"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Template Master\n\nContext: Viewpoint Vista database, view PRTM"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRTM.*\nFROM dbo.bPRTM;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDTS"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDTS: Co (smallint, not null); Form (varchar, not null); Tab (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPTitleSharedVal do?"
      },
      {
        "from": "gpt",
        "value": "> Created - Terrylis 01/3/2007,\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMDG with JCJMPM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMDG with JCJMPM, use:\n\n```sql\nFROM PMDG\nINNER JOIN JCJMPM\n  ON PMDG.PMCo = JCJMPM.PMCo AND PMDG.Project = JCJMPM.Project\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vUtilities.vPTJobRunAudit table?"
      },
      {
        "from": "gpt",
        "value": "The vUtilities.vPTJobRunAudit table (Module: Other) contains: JobID, JobName, JobHistoryInstance, RunStatus, StartRunDateTime, RunDurationMinutes, CurrentDateTime, CurrentMonth"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDCIcGet do?"
      },
      {
        "from": "gpt",
        "value": "The vspDDCIcGet stored procedure retrieves lookup values (Seq, DatabaseValue, DisplayValue) from the DDCIc table for a specified ComboType, used in Viewpoint Vista ERP to populate dropdown or combo box UI elements with predefined options. It validates the required @combotype input parameter and outputs an error message via @msg if missing or no matching data exists. On success, it returns the data set with rcode 0; otherwise, rcode 1.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.DocumentTypeSecondaryIdentifierType"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.DocumentTypeSecondaryIdentifierType: DocumentSecondaryIdentifierTypeId (uniqueidentifier, not null); DocumentTypeId (uniqueidentifier, not null); DocumentTypeName (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedBatchValidate do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Service Management (SM) Work Completed batch by retrieving batch details from the batch control table (bHQBC) and delegating to source-specific validators (e.g., Equipment Usage, GL Posting, Inventory). It then scans batch errors (bHQBE) linked to Work Completed records via a cursor, compiling error messages for output. Ensures data integrity before batch approval or posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPORBExpValWO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates equipment expense entries against a specific work order (WO) item in the Equipment Management (EM) module for Purchase Order (PO) receiving or billing processes. It confirms that the provided equipment ID, component type, component, and cost code match the WO details (with allowances for cost code changes if enabled company-wide) and ensures the WO is not in a final status unless final posting is permitted. Returns a success code (0) or error code (1) with a descriptive message via @errmsg."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCIR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCIR: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptEMCostsVsMeter do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a comprehensive report comparing equipment costs (from sources like payroll, AP, inventory, and direct EM postings) against meter readings (hours and odometer miles) for specified equipment and date ranges. It structures data into a temporary table capturing transaction details, meter deltas (current vs. previous readings), and cost allocations, enabling analysis of cost per unit of usage. The output supports equipment cost efficiency evaluation by linking usage metrics to financial postings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRRH with JCPC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRRH with JCPC, use:\n\n```sql\nFROM PRRH\nINNER JOIN JCPC\n  ON PRRH.PhaseGroup = JCPC.PhaseGroup AND PRRH.Phase1 = JCPC.Phase AND PRRH.Phase1CostType = JCPC.CostType\n```\n\nThis pattern is used in the vrvPRCrewTimesheet view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMWOItemUpdate form?"
      },
      {
        "from": "gpt",
        "value": "The EMWOItemUpdate form includes these fields: WorkOrder Passed in, WorkOrder Desc Passed in, Equipment Passed in, Equip Desc Passed in, Mechanic / Employee, PR Co, Status Code, Repair Type, Date Completed, Current Odometer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APPH"
      },
      {
        "from": "gpt",
        "value": "Key columns in APPH: APCo (bCompany, not null); CMCo (bCompany, not null); CMAcct (bCMAcct, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectAddons form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectAddons form includes these fields: Project, Project, JCJM.Contract, Default Phase Group, Add On, Description, Basis, Basis Cost Type, Add-On Percent, Equivalent Rate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPDisplaySecurityGroups view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPDisplaySecurityGroups."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMTechnicianUnavailableTime"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMTechnicianUnavailableTime: SMTechnicianUnavailableTimeID (bigint, not null); SMCo (bCompany, not null); Technician (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSIB"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSIB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPMSubmittals view?"
      },
      {
        "from": "gpt",
        "value": "Batch report view for pending project management submittals not yet returned, dynamically assigning responsible firm and contact based on workflow progress (e.g., required date, sent to architect/engineer, received back). Calculates next due date per stage and pulls descriptions from document types and statuses, filtering out finalized records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementTaskScheduleUpdate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tDavid Solheim\n> Create date: 9/5/14\n> Description:\tUpdates the SM agreement task schedule records.\n> Modification: ALH 10/19/16 TFS-262546 Add Service Budget column to budget tab.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalDataGridColumnsCustom"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalDataGridColumnsCustom: DataGridColumnID (int, not null); HeaderText (varchar, nullable); Visible (bit, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in IMWH"
      },
      {
        "from": "gpt",
        "value": "Key columns in IMWH: ImportId (varchar, not null); ImportTemplate (varchar, not null); TextFile (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPTT table?"
      },
      {
        "from": "gpt",
        "value": "The bAPTT table (Module: AP) contains: V1099Type, Description, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRIDT17 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates state income tax withholding (likely Iowa, based on brackets) for payroll. It annualizes per-period subject wages using pay periods per year, adjusts for filing status ('S' single, 'M' married) and exemptions (with $4050 allowance), then applies progressive tax brackets to compute and output the withholding amount (@amt). It returns an error message (@msg) if inputs are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPageTemplateControls"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPageTemplateControls: PageTemplateControlID (int, not null); PageTemplateID (int, not null); PortalControlID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Canada Employer Codes\n\nContext: Viewpoint Vista database, view PRCAEmployerCodes"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM bPRCAEmployerCodes;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWIPTransferBatch"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWIPTransferBatch: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGetInvoiceIDDescriptionOfWork do?"
      },
      {
        "from": "gpt",
        "value": "> ===========================================================================================================\n> Author:\t\tCasey Schurman\n> Create date: 11/28/2018\n> Description:\tFor a SM Invoice Session, grab the invoices and related data needed for process\n> ===========================================================================================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSInvInit form?"
      },
      {
        "from": "gpt",
        "value": "The MSInvInit form includes these fields: Month, Batch ID, ARCo, Customer Group, Separate Invoice by Loc Group, Location Group Restriction, From Location Group, To Location Group, Location Restriction, Beginning Location"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SLCompany form?"
      },
      {
        "from": "gpt",
        "value": "The SLCompany form includes these fields: SLCo, AuditCoParams, AuditSLs, AuditSLCompliance, Enforce catch up, Enforce Phase CT Est Limit, Notes, Attach Batch Reports YN, Allow Exceeded Claim Entry YN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMDL table?"
      },
      {
        "from": "gpt",
        "value": "The bPMDL table (Module: PM) contains: PMCo, Project, LogDate, DailyLog, Description, Weather, Wind, TempHigh, TempLow, EmployeeYN, CrewYN, SubcontractYN, EquipmentYN, ActivityYN, ConversationsYN... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPCanvasGridParametersTemplate table?"
      },
      {
        "from": "gpt",
        "value": "The vVPCanvasGridParametersTemplate table (Module: VP) contains: ParamterId, GridConfigurationId, Name, SqlType, ParameterValue"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMStdMaintGroupValWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates whether a Standard Maintenance Group is assigned to specific equipment in an Equipment Management (EM) company, returning an error if not found. If valid, it retrieves the default Cost Code and Repair Type for a given Standard Maintenance Item from the equipment's maintenance schedule; if the Repair Type is missing, it defaults to the company-wide setting. It supports preventive maintenance setup by ensuring data integrity and providing defaults for work order creation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APVendorComparesLock view?"
      },
      {
        "from": "gpt",
        "value": "The APVendorComparesLock view (Module: AP) contains: VendorGroup, StartTime"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMTP view?"
      },
      {
        "from": "gpt",
        "value": "The PMTP view (Module: PM) contains: PMCo, Template, PhaseGroup, Phase, Description, Item, UniqueAttchID, SICode, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ResourceManagement.vResourceNeed table?"
      },
      {
        "from": "gpt",
        "value": "The ResourceManagement.vResourceNeed table (Module: Other) contains: ResourceNeedId, PlanningGroupItemId, ResourceStartDate, ResourceEndDate, ResourceHours, ResourceQuantity, Notes, UniqueAttchID, CreatedBy, CreatedDate, ModifiedBy, ModifiedDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFNotifyPendingPOApproval do?"
      },
      {
        "from": "gpt",
        "value": "This SP notifies current approvers of a pending Purchase Order (PO) approval by identifying their emails and names from the active workflow step, tied to a specific PO via its KeyID (@SourceParentKeyID). It also aggregates historical approval comments for inclusion in notifications. The output prepares data for email queuing (likely to vMailQueue), alerting approvers in the PO module to review and act on the pending PO."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRSP view?"
      },
      {
        "from": "gpt",
        "value": "HR Salary Percent Increase"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINLG table?"
      },
      {
        "from": "gpt",
        "value": "The bINLG table (Module: IN) contains: INCo, LocGroup, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCCostProjectionDetail view?"
      },
      {
        "from": "gpt",
        "value": "JCCostProjectionDetail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMPCOIntExtFlagVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the Internal/External flag for a Potential Change Order (PCO) in Viewpoint Vista ERP, ensuring it is either 'I' or 'E'. It permits setting to External ('E') without checks but blocks changing to Internal ('I') if any associated PCO Items (in bPMOI) have FixedAmountYN as 'N' or a non-zero FixedAmount, returning an error code and message. It enforces business rules to prevent marking incomplete PCOs as internal, used prior to flag updates in project cost management.\n\nThis stored procedure validates whether a Potential Change Order (PCO) can be flagged as internal ('I') in Viewpoint Vista's Project Management module. It first checks that the input flag (@intext) is 'I' or 'E', succeeding immediately for 'E', but for 'I' it queries the bPMOI table to ensure no PCO items exist with FixedAmountYN='N' or non-zero FixedAmount. If validation fails, it returns an error code (1) with a message and prevents the status change to maintain data integrity for fixed PCO items.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQBC"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQBC: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bIMWM table?"
      },
      {
        "from": "gpt",
        "value": "The bIMWM table (Module: IM) contains: ImportId, ImportTemplate, Form, RecordSeq, Error, Message, Identifier, Sequence, SQLStatement"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSHH table?"
      },
      {
        "from": "gpt",
        "value": "The bMSHH table (Module: MS) contains: MSCo, Mth, HaulTrans, FreightBill, SaleDate, HaulerType, VendorGroup, HaulVendor, Truck, Driver, EMCo, Equipment, EMGroup, PRCo, Employee... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspCertAgency do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPTYShared view?"
      },
      {
        "from": "gpt",
        "value": "The RPTYShared view (Module: RP) contains: ReportType, Description, Active, Status, VPType, Custom"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRTSPhaseVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a job phase for Payroll Time Sheet (PRTS) entry in the PR-JC integration, ensuring the phase is valid, active, and correctly associated with the job, company, and phase group. It retrieves phase details like description, cost type, and U/M while enforcing business rules like phase locking and character validation. If invalid, it sets error messages and outputs via @rcode, @msg, @phasedesc, etc., preventing erroneous labor postings to Job Cost."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDTI view?"
      },
      {
        "from": "gpt",
        "value": "The DDTI view (Module: DD) contains: TableName, IndexName, IndexColumns"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_HROpenPositions view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_HROpenPositions view (Module: HR) contains: HRCoID, HRRefID, PRCoID, PRGroupID, PositionCodeID, IsTotalPositionOpenedCount, IsTotalApplicantCount, PositionDateClosingID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMUpdateIMWEDetail do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the UploadVal field for a specific import record identified by ImportId, RecordType, RecordSeq, and Identifier in Viewpoint Vista ERP's inventory management module. If @isnote is 'N', it truncates the @uploadval to 60 characters and updates the IMWE table; otherwise, it updates the full value in the IMWENotes table. It supports import workflows by persisting uploaded detail data efficiently.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POIT view?"
      },
      {
        "from": "gpt",
        "value": "The POIT view (Module: PO) contains: POCo, PO, POItem, ItemType, MatlGroup, Material, VendMatId, Description, UM, RecvYN, PostToCo, Loc, Job, PhaseGroup, Phase... (84 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSCleanupSession do?"
      },
      {
        "from": "gpt",
        "value": "> !!!!!!!!!!!!!!!!!!! NOTE !!!!!!!!!! This proc is signed so any changes will cause the signature to be dropped. See Viewpoint\\Scripts\\Postscripts\\Always\\CreateCertsAndSign.sql\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pCalendar"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pCalendar: DateID (int, not null); SiteID (int, not null); PageSiteControlID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMGetFieldName do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspIMGetFieldName retrieves the column name and description for a specific field identifier from the DDUD table, joined with IMTH based on form matching an import template. It is used in Viewpoint Vista's Import Management (IM) to fetch field metadata for a given table and template during data import processes. Key operations include filtering by @tablename, @identifier, and @template, then returning the results with a success code of 1.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvJBLaborRates view?"
      },
      {
        "from": "gpt",
        "value": "Provides labor, equipment, and material rates with option flags for job cost detail transactions, calculated via billing template functions using category matching hierarchies (class, craft, shift) and effective dates. Derives rates from employee/craft/class details, equipment categories, and material groups, supporting rate validation in job billing reports."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOAddonRevItem do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates inputs for a PM company, project, PCO item, and ACO, then loops through AddOn records (bPMOA) linked to a specific PCO item to retrieve revenue recognition settings (e.g., RevRedirect, RevItem) from bPMPA. It determines if AddOns should redirect to existing revenue items or generate new ACO items, supporting revenue setup for change order AddOns. Returns success/error codes and messages for integration into PM workflows."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCAT view?"
      },
      {
        "from": "gpt",
        "value": "The JCAT view (Module: JC) contains: JCCo, AllocCode, PhaseGroup, CostType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPCopyReport do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure copies an existing report (typically a standard/system report with ID ≤9999) to create a new custom report (ID >9999) in Vista's Report module (RP), allowing overrides for metadata like title, filename, description, owner, menu visibility, and icons. It inserts the new report header into custom tables/views (e.g., RPRTc/vRPRTc) and likely copies associated details (fields, formulas, prompts, etc.) based on flag parameters like @formsassigned, @rpmodules. The full process enables safe duplication for customization without altering originals."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDQueryableViews"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDQueryableViews: Form (varchar, not null); Title (varchar, not null); QueryView (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARExcludeInvGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves open AR invoices (types Invoice 'I', Finance Charge 'F', Retainage 'R') with outstanding balances for a specific AR company, customer group, and customer, filtered by receipt type, job company, contract (conditionally based on customer master flag ExclContFromFC='Y' to ignore contracts), and option to include zero-balance items. It populates a grid view of these invoices, likely for user review and selection in an \"exclude from\" process (e.g., forecasting). Returns error codes for missing required params or no data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APReleaseRetentionInfo view?"
      },
      {
        "from": "gpt",
        "value": "Provides batch-level details on Accounts Payable retention releases, enriched with per-invoice and per-line summaries of totals for invoiced, released, held, and paid amounts, plus gross retainage and vendor information. Combines retention batch records with transaction-specific aggregates via a lookup function for precise release tracking."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_HRCodeMaster view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_HRCodeMaster view (Module: HR) contains: HRCoID, CodeMasterID, Code, Type, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRGR view?"
      },
      {
        "from": "gpt",
        "value": "The PRGR view (Module: PR) contains: PRCo, PRGroup, Description, PayFreq, GLCo, GLAcct, CMCo, CMAcct, Notes, UniqueAttchID, KeyID, AttachGLLedgerRpts, AttachTypeID, PayPeriodsPerYear"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVALoadGridQueryXML do?"
      },
      {
        "from": "gpt",
        "value": "This SP imports and deploys standard grid query configurations from XML input into Vista's grid management tables (e.g., vVPGridQueries, vVPGridColumns). It deletes existing related records for specified queries, then updates or inserts new query definitions, metadata, and associations while disabling triggers for bulk efficiency. It enforces a rule blocking custom (non-standard) queries to prevent overwriting user data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Standard Item\n\nContext: Viewpoint Vista database, view SMStandardItem"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMStandardItem.*\nFROM dbo.vSMStandardItem;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMCostTypes form?"
      },
      {
        "from": "gpt",
        "value": "The EMCostTypes form includes these fields: EMGroup, Cost Type, Description, Abbreviation, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFValidateVPName do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates Viewpoint Vista form names (Type=1) or report IDs (Type=2) to ensure they are active, licensed, menu-visible, and properly spelled. For forms, it retrieves the localized title via Data Dictionary metadata; for reports, it fetches the title directly. It returns success (0) with the title in @msg if valid, or an error message (1) prompting selection from the system's \"the\" view (Vista's universal lookup table)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINXBPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts a validated batch of Manufacturing Order (MO) close transactions from Inventory (INXB staging tables) to Job Cost Details (bJCCD). For each MO close, it records job/phase costs, committed/remaining units and dollars, material details, and sources the posting from inventory locations. Updates batch control (bHQBC) to \"posting in progress\" and handles errors via output message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRMyTimesheet"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRMyTimesheet: PRCo (bCompany, not null); EntryEmployee (bEmployee, not null); StartDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRACAMonthlyHoursSummary view?"
      },
      {
        "from": "gpt",
        "value": "The PRACAMonthlyHoursSummary view (Module: PR) contains: PeriodID, Year, Month, MonthName, PRCo, Employee, HRCo, PREmp, HRRef, FirstName, MidInitial, LastName, SSN, BirthDate, Address... (26 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMGetNextMergeOrder do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure counts the number of records in the HQWF table for a specified TemplateName and WordTableYN flag, validating the existence and quantity of merge orders associated with a template in the Viewpoint PM module. It is used to check availability before retrieving or processing the next merge order, outputting the count as a string via the @msg parameter. Key operations include a conditional existence check followed by a COUNT query with NOLOCK hints, returning a success code of 0.\n\nbspPMGetNextMergeOrder counts the number of records in the HQWF table matching the specified @template and @wordtable parameters, used in Viewpoint Vista ERP to validate or check availability of merge orders for a workflow template before processing the next one. It performs an existence check followed by a COUNT(*) query with NOLOCK hints, storing the result (0 if none exist) as a string in the @msg output parameter. The procedure always returns a success code of 0, providing a lightweight status indicator without returning data rows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMAR table?"
      },
      {
        "from": "gpt",
        "value": "The bEMAR table (Module: EM) contains: EMCo, Equipment, RevCode, Month, EMGroup, AvailableHrs, EstWorkUnits, EstTime, EstAmt, ActualWorkUnits, Actual_Time, ActualAmt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the GLAUTOINIT form?"
      },
      {
        "from": "gpt",
        "value": "The GLAUTOINIT form includes these fields: Month, Batch ID, Journal, Transaction Date, Frequency option"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Garnishment Group Items\n\nContext: Viewpoint Vista database, view PRGI"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRGI.*\nFROM dbo.bPRGI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkOrderQuoteScope form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkOrderQuoteScope form includes these fields: Work Order Quote Scope, Work Order Quote, Work Scope, Scope Detail, Service Center, Division, Call Type, Customer PO, Price, Derived Flat Price"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRAccidentDescVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the Location description for a specified HR company (@hrco) and accident code (@accident) from the HRAT table, outputting it via the @msg parameter. It validates that both inputs are non-null, setting error messages in @msg otherwise, and always returns a success code of 0. Used in HR accident tracking to fetch descriptive accident details efficiently.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMOI view?"
      },
      {
        "from": "gpt",
        "value": "PM Change Order Item"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBJE view?"
      },
      {
        "from": "gpt",
        "value": "The JBJE view (Module: JB) contains: JBCo, BillMonth, BillNumber, JCMonth, JCTrans, ErrorDesc, Purge, AuditYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARCMDepositVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Cash Management (CM) deposit record in the bCMDT table for use in Accounts Receivable (AR) processing. It checks existence, company/source matching (@ARCo vs. CM SourceCo), transaction type (must be 2/D-Type), statement date (must be null), batch month alignment, and void status (must not be 'Y'). If invalid, it sets an error message in @errmsg and a return code (e.g., 1 for errors, 7 for exists but valid); otherwise, it exits cleanly with rcode=0."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bINCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bINCO: INCo (bCompany, not null); GLCo (bCompany, not null); Jrnl (bJrnl, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployerBASGSTTaxCodes"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployerBASGSTTaxCodes: PRCo (bCompany, not null); TaxYear (char, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRTL table?"
      },
      {
        "from": "gpt",
        "value": "The bPRTL table (Module: PR) contains: PRCo, PRGroup, PREndDate, Employee, PaySeq, PostSeq, LiabCode, Rate, Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementActivationValidate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tLane Gresham\n> Create date: 03/05/11\n> Description:\tValidate agreement before activation.\n> -- Modified:\tDan K 02/25/13 - TFS-40937 - add validation for Revenue Deferral\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSHaulCodes form?"
      },
      {
        "from": "gpt",
        "value": "The MSHaulCodes form includes these fields: Haul Code, Description, Haul Basis, UM, Subject to Sales Tax, Use EM Rev/Pay Amouts, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPCCurrentProjectGoals view?"
      },
      {
        "from": "gpt",
        "value": "This view links job and contract masters to potential projects via potential work records, retrieving company, job, contract, potential project, vendor group, and certificate type details. It supports validation of current project goals by associating certified potential project data with active jobs and contracts in the PC module."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCFieldTicketVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Job Cost (JC) field ticket for a specific company (JCCo) and job, confirming its existence via the job's contract and ensuring it is in 'Open' (O) status. On success, it outputs the field ticket's KeyID and a truncated description as a message; on failure, it populates an error message detailing the issue (e.g., invalid ticket, wrong status) and returns a non-zero code. It supports safe access to field ticket data before downstream operations like editing or posting costs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSPayCodeWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "bspMSPayCodeWithInfo validates and retrieves pay code details, including pay basis, description, and computed pay rate, for a Material Supply company using filters like location group, material group, vendor group, and specifics such as material, vendor, or truck. It first checks required inputs and confirms pay code existence in the bMSPC table, then calls bspMSTicPayCodeRateGet to determine the rate based on hierarchical matching. Primarily used in Vista ERP for accurate pay rate lookup in billing, quoting, or payroll processes within construction material supply operations, returning rate, basis, and error messages via outputs.\n\nbspMSPayCodeWithInfo retrieves the pay basis and calculated pay rate for a specified pay code in a company context, validating essential inputs like company, pay code, location group, material group, and vendor group. It fetches pay code description and basis from the bMSPC table, then invokes bspMSTicPayCodeRateGet to compute the rate using filters such as material, location, vendor, truck, and unit of measure. Primarily used in Viewpoint Vista's material supply or trucking modules to ensure accurate, context-specific pay rates with error handling for invalid inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Agreement Amrt Batch\n\nContext: Viewpoint Vista database, view SMAgreementAmrtBatch"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vSMAgreementAmrtBatch;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVCPortalThemesVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a given Theme ID against the pPortalThemes table in Viewpoint Vista's VCPortal system. It first checks if the ID is non-negative, then verifies its existence; if valid, it outputs the theme's name and returns success code 0, otherwise an error message like 'Missing Theme ID#' or 'Not a valid Theme ID#' with failure code 1. It ensures theme integrity before portal theme operations, providing concise feedback via output parameters.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMDT with PMChangeOrderRequest in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMDT with PMChangeOrderRequest, use:\n\n```sql\nFROM PMDT\nINNER JOIN PMChangeOrderRequest\n  ON PMDT.DocType = PMChangeOrderRequest.DocType\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQATUnsyncdRecords_Get do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves unsynchronized records from the bHQATUnsyncdRecords table, selecting KeyID, AttachmentID, and WasDeleted columns. It is used in Viewpoint Vista ERP to identify pending synchronization items for HQAT-related data integration between systems. The key operation is a simple SELECT query with SET NOCOUNT ON for optimized performance.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vNumberToWords table?"
      },
      {
        "from": "gpt",
        "value": "The vNumberToWords table (Module: Other) contains: NumValue, NumDescription, PrefixNum, DispOnly"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRRMName view?"
      },
      {
        "from": "gpt",
        "value": "This view provides HR company code, resource reference, and a standardized full name for HR resources from the base HR resource master table. It constructs the full name by concatenating last name, optional suffix, first name, and middle name, handling nulls appropriately. Results are ordered by company and reference for sequential access."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT15 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates North Dakota state income tax withholding (NDT15) for payroll based on annualized subject wages minus personal exemptions, using hardcoded progressive tax brackets for Single ('S') or Married ('M') filing status. Applies bracketed rates (1.22%-3.22%) to compute base tax plus marginal rate on excess, outputting the per-pay-period withholding amount (@amt) after annualization reversal (truncated SQL implies this). Returns error messages for invalid inputs like zero pay periods."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pReportParametersPortalControl"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pReportParametersPortalControl: ReportID (int, not null); ParameterName (varchar, not null); PortalControlID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMImportUpLoad form?"
      },
      {
        "from": "gpt",
        "value": "The PMImportUpLoad form includes these fields: Import Id, Import Template, Import Error Flag, AR Company, Customer Group, Tax Group, PM Company INCo, IN In Use, Country, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvSMInvoiceByWO"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvSMInvoiceByWO: SMCo (bCompany, not null); WorkOrder (int, nullable); Invoice (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFPurgeMailArchive do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tCC\n> Create date: 4/24/2008\n> Modified:\tAR 5/14/2014 - 84247 - don't need EXEC as proc created by DBO grants permissions\n> Description:\tPurges all messages from the Mail Archive older than the specified date\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMFirmValForPODist do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a firm (vendor/supplier) identifier for assignment to a Purchase Order (PO) distribution line in the PM module. It resolves the input @firmsort to a valid firm in PMFM by VendorGroup, supporting numeric lookup (6 digits max), exact SortName match, or prefix match, and outputs the firm number, contact, and name. It also checks PMDistribution to flag if the PO (@parentkeyid) already has non-CC (\"Commitment\") distributions or a duplicate seq for the line (@dist_seq)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPMenuDeleteCompanyItem do?"
      },
      {
        "from": "gpt",
        "value": "vspVPMenuDeleteCompanyItem deletes a specific menu item from the DDSI table for a given company, targeting records with empty VPUserName and Mod fields in a designated subfolder and item type. It is used in Viewpoint Vista ERP to remove company-level custom menu configurations without affecting user-specific or module-specific items. Key operations include input validation for required parameters (co, subfolder, itemtype, menuitem) and co > 0, followed by a targeted DELETE statement, with error messaging and return codes for failures.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pPageTemplateControlSecurity table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pPageTemplateControlSecurity table (Module: Other) contains: PageTemplateControlID, RoleID, PageTemplateID, AllowAdd, AllowEdit, AllowDelete, ClientModified"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMWOInitMatchingSMGGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This SP populates a UI grid with matching Standard Maintenance Groups (SMGs) for equipment in Equipment Management (EM), calculating due dates, intervals (hours/odometer/fixed), linkages between parent/child SMGs, and selection status based on filters like company, work order date, job, shop, equipment, and advance days/variances. It identifies overdue or upcoming preventive maintenance needs, flags failures/reasons, and supports initialization of work orders by pre-selecting linked SMGs. Temp tables aggregate equipment/SMG details for display, including last done dates and stats."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRMyTimesheetSendLoad do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 9/20/09\n> Description:\tReturns the PRMyTimesheets that are ready to send\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRDL view?"
      },
      {
        "from": "gpt",
        "value": "The HRDL view (Module: HR) contains: HRCo, HRRef, State, LicCodeType, LicCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAPurgeSecurityGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This SP identifies orphaned security records for a specific datatype (e.g., 'JOBCODE', 'VENDOR') by retrieving all Qualifier/Instance pairs from vDDDS and removing those linked to active data in related tables (via DDSLShared metadata). It returns a result set of unlinked (\"purgeable\") security items to populate a grid UI for review. Errors in dynamic deletes are caught and appended to @msg output, with a return code for failure."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bUDVH table?"
      },
      {
        "from": "gpt",
        "value": "The bUDVH table (Module: UD) contains: ValProc, ProcView, Notes, Description, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAPURApprovalStats"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAPURApprovalStats: APCo (bCompany, not null); UIMth (bMonth, not null); UISeq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRTR table?"
      },
      {
        "from": "gpt",
        "value": "The bPRTR table (Module: PR) contains: PRCo, Craft, Template, DLCode, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOCO table?"
      },
      {
        "from": "gpt",
        "value": "The bPOCO table (Module: PO) contains: POCo, AutoPO, LastPO, CmtdDetailToJC, AuditCoParams, AuditPOs, Notes, ReceiptUpdate, GLAccrualAcct, GLRecExpInterfacelvl, GLRecExpSummaryDesc, GLRecExpDetailDesc, RecJCInterfacelvl, RecEMInterfacelvl, RecINInterfacelvl... (35 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMWEAttachmentInsert do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tPaul Wiegardt\n> Create date:\t11/01/13\n> Description:\tInsert vIMWEAttachment\n> Modified By:\tGF 05/08/2019 VSTS-147164\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Journal\n\nContext: Viewpoint Vista database, view GLJR"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLJR.*\nFROM dbo.bGLJR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQCC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQCC: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspINCatbyCo do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQAF"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQAF: AttachmentID (int, not null); AttachmentData (varbinary, nullable); AttachmentFileType (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCRVRSLSINIT form?"
      },
      {
        "from": "gpt",
        "value": "The JCRVRSLSINIT form includes these fields: Month, Batch ID, Source, Month, Transaction Date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POItemDistributionLines form?"
      },
      {
        "from": "gpt",
        "value": "The POItemDistributionLines form includes these fields: Line, Line Type, Line Vendor from Header, Line VendorGroup from Header, Line EMGroup, Line MatlGroup, Line JCCo, Line PhaseGroup, Line Phase, Line Job"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # View List?"
      },
      {
        "from": "gpt",
        "value": "- **Source**: `Viewpoint_Database/_Metadata/CSVs/_Viewpoint_ALL_Views_Tables_Complete.csv`\n- **Use for**: Finding existing vrv*/brv* report views"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLITPM"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLITPM: SLCo (bCompany, not null); SL (varchar, nullable); SLItem (bItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCraftVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPRCraftVal validates the existence of a specified craft for a given PR company by querying the PRCM table. It first checks for required inputs (@prco and @craft), then retrieves the craft's Description if found, setting @msg to that value and returning success code 0; otherwise, it sets an error message in @msg and returns failure code 1. This procedure ensures craft validity in payroll or construction crew management workflows within Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMQD view?"
      },
      {
        "from": "gpt",
        "value": "The PMQD view (Module: PM) contains: PMCo, Project, PCOType, PCO, RFQ, RFQSeq, VendorGroup, SentToFirm, SentToContact, DateSent, DateReqd, Response, DateRecd, Send, PrefMethod... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPORB"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPORB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bIMWH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bIMWH: ImportId (varchar, not null); ImportTemplate (varchar, not null); TextFile (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvAPRec_NonAPEntriesToGL"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvAPRec_NonAPEntriesToGL: GLCo (bCompany, not null); Mth (bMonth, not null); GLTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vJCCostDistributionInterface table?"
      },
      {
        "from": "gpt",
        "value": "The vJCCostDistributionInterface table (Module: JC) contains: JCCostDistributionInterfaceID, Source, Co, Mth, BatchId, BatchSeq, Line, PRGroup, PREndDate, Employee, PaySeq, PostSeq, IsReversing, DetailCo, DetailSeq... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRCD view?"
      },
      {
        "from": "gpt",
        "value": "PR Craft Class Dedns/Liabs"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptPRAUFringeBenefitTaxReturn do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates data for the Australian Fringe Benefits Tax (FBT) Return report in the Payroll (PR) module. It calculates taxable values for Type 1 and Type 2 FBT benefits by netting employer-provided gross values (EDLType 'E' or 'L') against employee contributions (EDLType 'D') from historical FBT codes, applies gross-up rates, and retrieves employer master details like ABN, tax file number, and address for a specified company and tax year (July 1 to June 30)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWorkScope table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWorkScope table (Module: SM) contains: SMCo, WorkScope, Description, WorkScopeSummary, Notes, UniqueAttchID, WorkScopeID, PriorityName, PhaseGroup, Phase, PreventAutoClose"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vAPOnCostGroups table?"
      },
      {
        "from": "gpt",
        "value": "The vAPOnCostGroups table (Module: AP) contains: KeyID, APCo, GroupID, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNCT19 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Michigan state income tax withholding (rate 5.35%) per pay period for an employee. It annualizes the input subject amount (e.g., gross pay) by pay periods per year, applies filing status-based standard deductions ($10K for S/F/M/W, $15K for H) and exemption allowances ($2.5K each), then derives the per-period tax amount output in `@amt`. It handles validation for required inputs and valid filing statuses (S=Single, H=Head of Household, M=Married, F=?, W=Widow?), returning errors via `@msg` and `@rcode` if needed."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMMeterReadingAdjDelete do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes a specific meter reading adjustment record from the EMMR table in Equipment Management for a given company, equipment, reading date, batch, and transaction ID. It supports hour-based readings ('H' type, where Miles=0) and prevents deletion if the equipment is tied to an open meter reading batch in EMBF. Unused input parameters like @NewMeter/@DeleteMeter appear reserved for post-delete updates or logging (beyond snippet)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APURApprovalStats"
      },
      {
        "from": "gpt",
        "value": "Key columns in APURApprovalStats: APCo (bCompany, not null); UIMth (bMonth, not null); UISeq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipValForRevRatesEQ do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an equipment record in the Equipment Management (EM) module for use in revenue rate processing (likely equipment billing or valuation). It confirms the equipment exists, is active (Status ≠ 'I'), is of type 'E' (Equipment), and is not undergoing changes, then outputs the equipment's category for further use. If invalid, it returns an error code and descriptive message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APRecurInvItems form?"
      },
      {
        "from": "gpt",
        "value": "The APRecurInvItems form includes these fields: Line,  vendor group, LineType, Vendor, Line Inv, Description, Material Description, AP GLCo, GLCo, override GL Acct"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGetQuickReferenceAlerts do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates quick reference alerts for a customer in Service Management (SM), indicating: (1) if under active contract (UnderContract via vfSMAgreementByCust), (2) if preventative maintenance (PM) work orders are due (MaintenanceDue via vfSMGeneratePMWorkOrdersSearch), (3) if PM work orders are currently scheduled/open (MaintenanceScheduled via SMWorkOrder/Scope), and (4) credit hold status (CreditHold from AR customer master). It returns Y/N flags for a single customer record to support at-a-glance decision-making. No data modifications occur; it's purely diagnostic."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRPS"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRPS: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCProjJobComplete form?"
      },
      {
        "from": "gpt",
        "value": "The JCProjJobComplete form includes these fields: Month, Batch ID, Actual Date, Job, Job Description, Set as plugged?, Warning Code, Warning message"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMSM table?"
      },
      {
        "from": "gpt",
        "value": "The bEMSM table (Module: EM) contains: Co, Mth, EMTrans, Equipment, ReadingDate, BeginOdo, EndOdo, InUseMth, InUseBatchId, UniqueAttchID, Notes, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_SKT14 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_SKT14 calculates a per-pay-period tax reduction or credit amount for Quebec provincial payroll, based on annual income (@A) and parameters like TCP, PP, EI, and capstock. It applies income-based tax rates (11-15%) and exemptions (@KP), computes credits (@K1P/@K2P for TCP/PP/EI, @K3P input), subtracts a capped labor credit (@LCP = min(20% of capstock, 1000)), floors at zero, and divides by pay periods (@ppds). Used in Viewpoint Vista Canadian payroll to prorate annual tax adjustments for accurate employee paycheck deductions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMWEAttachmentDelete do?"
      },
      {
        "from": "gpt",
        "value": "The vspIMWEAttachmentDelete stored procedure deletes attachments from the vIMWEAttachment table linked to a specific import record in Viewpoint Vista ERP. It is used to remove attachments during import workflows, such as cleanup after processing or error correction, supporting both header-level (no line key) and line-level deletions. Key operations include a conditional DELETE: all attachments for the ImportId and RecordKey where RecordLineKey is NULL if no line key is provided, or a precise match on all three parameters otherwise.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view lists purchase orders associated with service management work orders by unioning relationships from PO batch headers, item lines where ItemType=6, and direct SM work order PO headers. It pri\n\nContext: Viewpoint Vista database, view SMPurchaseOrderList"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT\n    vSMWorkOrder.SMWorkOrderID,\n    vSMWorkOrder.SMCo,\n    vSMWorkOrder.WorkOrder,\n    RelatedPOs.POCo,\n    RelatedPOs.PO,\n    CASE WHEN POHD.KeyID IS NULL THEN RelatedPOs.[Status] ELSE POHD.[Status] END [Status],\n    CASE WHEN POHD.KeyID IS NULL THEN RelatedPOs.OrderDate ELSE POHD.OrderDate END OrderDate,\n    CASE WHEN POHD.KeyID IS NULL THEN RelatedPOs.VendorGroup ELSE POHD.VendorGroup END VendorGroup,\n    CASE WHEN POHD.KeyID IS NULL THEN RelatedPOs.Vendor ELSE POHD.Vendor END Vendor,\n    CASE WHEN POHD.KeyID IS NULL THEN RelatedPOs.[Description] ELSE POHD.[Description] END [Description],\n    POHD.KeyID POHDKeyID\nFROM dbo.vSMWorkOrder\nINNER JOIN (\n    SELECT RelatedBatches.SMCo, RelatedBatches.WorkOrder, bPOHB.Co POCo, bPOHB.PO, bPOHB.Mth BatchSeq,\n    bPOHB.[Status], bPOHB.OrderDate, bPOHB.VendorGroup, bPOHB.Vendor, bPOHB.[Description]\nFROM dbo.bPOHB\nINNER JOIN (\n    SELECT SMCo, WorkOrder, POCo, BatchMth, BatchId, BatchSeq\nFROM dbo.vSMWorkOrderPOHB\n    UNION ALL\n    SELECT SMCo, SMWorkOrder WorkOrder, Co, Mth, BatchId, BatchSeq\nFROM dbo.bPOIB\nWHERE ItemType = 6\n    ) RelatedBatches ON bPOHB.Co = RelatedBatches.POCo AND bPOHB.Mth = RelatedBatches.BatchMth AND bPOHB.BatchId = RelatedBatches.BatchId AND bPOHB.BatchSeq = RelatedBatches.BatchSeq\n    UNION ALL\n    SELECT SMCo, SMWorkOrder, POCo, PO,\n    NULL, NULL, NULL, NULL, NULL, NULL\nFROM dbo.vPOItemLine\nWHERE ItemType = 6\n    UNION ALL\n    SELECT SMCo, WorkOrder, POCo, PO,\n    NULL, NULL, NULL, NULL, NULL, NULL\nFROM dbo.vSMWorkOrderPOHD\n    ) RelatedPOs ON vSMWorkOrder.SMCo = RelatedPOs.SMCo AND vSMWorkOrder.WorkOrder = RelatedPOs.WorkOrder\nLEFT JOIN dbo.POHD ON RelatedPOs.POCo = POHD.POCo AND RelatedPOs.PO = POHD.PO\nWHERE POHD.KeyID IS NOT NULL OR RelatedPOs.BatchSeq IS NOT NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT18 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates North Dakota state income tax withholding (NDT) for payroll based on 2018 tax tables. It annualizes the input subject wages (@subjamt) by pay periods per year (@ppds), subtracts exemptions (@exempts * $4,150 allowance), and applies progressive tax brackets based on filing status (@status: 'S' for Single, 'M' for Married) to output the tax amount (@amt). It handles validation for missing pay periods and defaults invalid status to Single."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUEmployeeETPSummary view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUEmployeeETPSummary view (Module: PR) contains: PRCo, TaxYear, Employee, DateOfPayment, PaymentCodeSummed, TotalTaxWithheldSumByPayCode, TaxableComponentSumByPayCode, TaxFreeComponentSumByPayCode, AmendedByPayCode, AmendedATOByPayCode, AmendmentIndicatorByPayCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SL Header Batch\n\nContext: Viewpoint Vista database, view SLHB"
      },
      {
        "from": "gpt",
        "value": "SELECT bSLHB.*\nFROM dbo.bSLHB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bGLAC table?"
      },
      {
        "from": "gpt",
        "value": "The bGLAC table (Module: GL) contains: GLCo, GLAcct, Description, AcctType, SubType, NormBal, InterfaceDetail, Active, SummaryAcct, CashAccrual, CashOffAcct, Notes, Part1, Part2, Part3... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMDistCORInit do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes the distribution setup for a Change Order Request (COR) in the PM module by validating inputs and inserting a new distribution record if none exists for the specified company, project, vendor group, recipient firm/contact, and COR. It retrieves key details like vendor group from HQ/project setups, preferred send method (e.g., mail), and email options from PM preferences. The result tracks the COR for sending (e.g., 'Y' flag) with a unique sequence, enabling communication workflows."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNJT98 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New Jersey (NJ) state income tax withholding using an annualized projection method. It takes per-pay-period subject wages (@subjamt), pay periods per year (@ppds), exemptions (@exempts), and filing status (@status) to compute an annualized taxable wage, then applies progressive tax brackets (via @wage_chart for single/married/other) to determine tax addition from lower brackets and a marginal rate on excess, ultimately outputting the per-period tax amount (@amt) and any error messages (@msg). It implements 1998-era NJ tax tables (brackets up to $150K with rates 1.5%-7%)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARInfoGetARCust do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves essential Accounts Receivable (AR) configuration for a specified AR company (@arco), outputting customer group, tax group, receipt type, foreign currency percentage, and minimum MS company from bARCO, bHQCO, and bMSCO tables. It validates the AR company's existence and setup before fetching data via joins and MIN aggregation. Used in Viewpoint Vista ERP to obtain standardized AR info for processes like invoicing or payments, with error handling via return code and message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJBLR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJBLR: JBCo (bCompany, not null); Template (varchar, not null); LaborCategory (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP On Cost Groups\n\nContext: Viewpoint Vista database, view APOnCostGroups"
      },
      {
        "from": "gpt",
        "value": "SELECT vAPOnCostGroups.*\nFROM dbo.vAPOnCostGroups;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POIBTotals view?"
      },
      {
        "from": "gpt",
        "value": "The POIBTotals view (Module: PO) contains: Cost, Tax, Co, Mth, BatchId, BatchSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_getpropertiesbyid do?"
      },
      {
        "from": "gpt",
        "value": "> *\tRetrieve properties by id's * *\tdt_getproperties objid, null or '' -- retrieve all properties of the object itself *\tdt_getproperties objid, property -- retrieve the property specified\n> retrieve all properties of the object itself\n> retrieve the property specified\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMIM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMIM: PMCo (bCompany, not null); Project (bJob, not null); Issue (bIssue, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCMSTGetOpenStmt do?"
      },
      {
        "from": "gpt",
        "value": "bspCMSTGetOpenStmt retrieves the date of the most recent open statement (Status=0) for a specified company (@cmco) and account (@cmacct) from the CMST table in Viewpoint Vista's Cash Management module; if no open statement exists, it falls back to the latest closed statement (Status=1). It validates inputs, confirms the account exists in CMAC, and outputs an error message (@msg) with return code 1 on failure or the statement date (@stmtdte) with return code 0 on success. This supports account statement processing by identifying the last relevant statement date for generating new statements or status checks.\n\nThe bspCMSTGetOpenStmt stored procedure retrieves the date of the most recent open statement (Status=0) for a specified cash management company and account from the CMST table, falling back to the latest closed statement (Status=1) if no open one exists. It validates input parameters (@cmco, @cmacct), confirms the account exists in CMAC, and outputs the statement date (@stmtdte), error message (@msg), and return code. In Viewpoint Vista ERP's CM module, it's used to identify the current open statement date for account processing or billing workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMACOVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMACOVal stored procedure validates a PM ACO record for a given PM company, project, and ACO in Viewpoint Vista's project management module. It performs input validation to ensure required parameters are provided, then queries the PMOH table to retrieve and output the associated Issue, BillGroup, IntExt flag, and ApprovalDate. If no matching record exists or inputs are invalid, it sets an error message and returns code 1; success returns code 0.\n\nbspPMACOVal validates an Alternate Cost Option (ACO) for a given PM company and project by looking it up in the PMOH table. It checks for null inputs on PMCo, Project, and ACO, returning an error code 1 and message if any are missing or no matching record exists. If valid, it populates output parameters with Issue, BillGroup, IntExt flag, ApprovalDate, and Description, returning success code 0 for use in project management billing and approval workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSGetDefaultAttachmentInfoWithTable do?"
      },
      {
        "from": "gpt",
        "value": "> ==================================================================================== Author:\t\tJayR/Casey Schurman Create date:  08/01/2018 Description:\tModified version of proc vspMSGetDefaultAttachmentInfo to use a table variable for much greater speeds. This Grabs attachment info with invoice for default attachments that should be defaulted in for the MS invoice batch. ======================================================================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VSBatchViewer form?"
      },
      {
        "from": "gpt",
        "value": "The VSBatchViewer form includes these fields: Desc, Batch ID, Hide Attached, Auto Attachq, Attachment Type Name, Attachment Type Description, Attachment Type ID Hidden"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRSM view?"
      },
      {
        "from": "gpt",
        "value": "The PRSM view (Module: PR) contains: SMWorkCompletedID, PRCo, PRGroup, PREndDate, Mth, PaySeq, PostSeq, PRPostDate, Employee, ActualLaborWages, ActualLaborBurden, OldActualLaborWages, OldActualLaborBurden, SMCo, WorkCompleted_Date... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspRPRPGetColumns do?"
      },
      {
        "from": "gpt",
        "value": "The bspRPRPGetColumns stored procedure retrieves metadata for columns in a user-specified table, but only those owned by the provided username and limited to specific data types (numeric, decimal, bit, and varchar/nvarchar variants). It is used in Viewpoint Vista ERP for report design or custom query tools to safely expose column details like name, ID, type, and length from authorized tables, views, or partitions. Key operations include resolving the user's principal ID, joining system catalog views (sys.columns, sys.objects, sys.types), filtering by object type and system_type_id, and ordering by column_id.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSWH view?"
      },
      {
        "from": "gpt",
        "value": "The MSWH view (Module: MS) contains: Co, Mth, BatchId, BatchSeq, VendorGroup, HaulVendor, APRef, InvDate, InvDescription, PayTerms, DueDate, HoldCode, PayControl, CMCo, CMAcct... (30 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure tadpGetBatch do?"
      },
      {
        "from": "gpt",
        "value": "This SP allocates and returns a unique batch ID for grouping unposted transactions in a specific company, fiscal month, source module (e.g., AP, AR), and subledger, while validating prerequisites like company existence, fiscal year setup, and open period status. It calls `bspHQBCInsert` to create the batch record in `bHQBC` and clears any `InUseBy` flag to make it available. Special handling for Payroll (`PRGroup='zzz'`) resets group/end date parameters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBLR view?"
      },
      {
        "from": "gpt",
        "value": "The JBLR view (Module: JB) contains: JBCo, Template, LaborCategory, Seq, RestrictByEarn, EarnType, RestrictByFactor, Factor, RestrictByShift, Shift, RateOpt, Rate, Notes, UniqueAttchID, NewRate... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ AU Super Schemes\n\nContext: Viewpoint Vista database, view HQAUSuperSchemes"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vHQAUSuperSchemes;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspudUpdatePCOAddOns do?"
      },
      {
        "from": "gpt",
        "value": "This SP recalculates and updates addon costs for a specific PCO (Potential Change Order) item in Vista's PM module by summing base estimate costs from PMOL lines, adding estimate-type addons (udAddOnType='E') from PMOA/PMPA, and computing base-type addons (udAddOnType='B') as a percentage of the total cost. It generates temporary tables (udPCOBaseAddons for base addons and udPCOCircularData for handling circular addon dependencies) to support accurate PCO costing, likely preventing recursive calculation issues in addon hierarchies."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRDLSubjectToArrearsPaybackVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates changes to the \"Subject to Arrears\" flag on a Payroll Deduction/Liability (DL) code. When enabling the flag ('Y'), it blocks the change if any employees use an override calculation method ('M' = rate of gross) for that DL code. When disabling it ('N'), it prevents the update if employees have the DL code marked eligible for arrears calculations or outstanding life-to-date arrears/payback balances."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSSurchargePost do?"
      },
      {
        "from": "gpt",
        "value": "Posts surcharge transactions from a Material Sales (MS) batch, calculating totals, taxes, revenues, and distributions for surcharges (e.g., fuel, haul, environmental fees) tied to sales tickets. Processes basis units, rates, job/phase allocations, hauler/vendor details, and generates entries for inventory (IN), job cost (JC), equipment (EM), and GL. Outputs success/error messages and uses transactions for atomic posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTBValProd do?"
      },
      {
        "from": "gpt",
        "value": "Validates a specific product/material line (by seq) in a Material Sales Ticket Batch, computing unit/total costs, ECM-adjusted values, and GL accounts based on cost methods (e.g., average, standard). Handles assemblies via BOM explosion, summing component costs/prices while respecting location-specific overrides. Sets @errmsg for validation failures (e.g., invalid material, cost mismatches) and adjusts units for adds/deletes (@oldnew flag)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRTrainClassSetupLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure loads essential setup data for HR Training Class configuration in Viewpoint Vista ERP, validating the input HR company and populating output parameters for vendor group, code type ('T' for training), and default country. It checks if the HR company exists in the HRCO table, retrieves the default country from the linked HQCO record, and calls bspAPVendorGrpGet to obtain the vendor group. Used to ensure valid company setup before initializing training class forms, it returns error codes and messages for invalid or missing inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMUsePostingRevRateUMDflt do?"
      },
      {
        "from": "gpt",
        "value": "This SP defaults the revenue rate, time unit of measure (UM), and work UM for posting equipment usage charges, pulling from revenue code setups (EMRC) or company defaults (EMCO). If a job is provided, it overrides with job-specific template rates (via EMJT/EMTH), prioritizing equipment-level matches (EMTE) over category-level (EMTC). It ensures consistent billing units and rates for equipment revenue posting, returning errors for missing setups."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPREH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPREH: PRCo (bCompany, not null); Employee (bEmployee, not null); LastName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the INPhyBatch form?"
      },
      {
        "from": "gpt",
        "value": "The INPhyBatch form includes these fields: Month, INCO.GLCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JBTempMatlOverrides form?"
      },
      {
        "from": "gpt",
        "value": "The JBTempMatlOverrides form includes these fields: Template, material group, Material, OverrideOpt, Rate, SpecificPrice, New Specific Price, CostOpt, visible note field, New Matl Rate Effective Date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAViewGenGetOutOfSyncViews do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a list of out-of-sync views from the DDSLShared table in Viewpoint Vista's View Generator system, optionally filtered by datatype. It returns distinct view names (derived from table names), underlying table names, descriptions from DDTH, and sync status for entries where ViewIsOutOfSync = 'Y', excluding 'bHQMA', ordered by view name. Primarily used to identify views requiring regeneration or synchronization; if no rows are found, it outputs an error message and sets a non-zero return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR AU ETP Processing Setup\n\nContext: Viewpoint Vista database, view PRAUETPProcessingSetup"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vPRAUETPProcessingSetup;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPPOItemTotalVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the total value (amount and units) for a specific PO item/line during AP invoice processing, comparing proposed invoice amounts/units against PO commitments, received quantities, freight allocations, and company totaling rules (e.g., PO total, item total, line total). It detects changes in unit costs or ECM (likely Equipment Cost Module) and enforces rules like invoice not exceeding received goods. Returns success code (0) or error message via @msg if validations fail (e.g., invalid source, missing PO)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQDXARCM view?"
      },
      {
        "from": "gpt",
        "value": "The HQDXARCM view (Module: HQ) contains: ErrorID, Co, CustGroup, Customer, TriggerName, ErrorDate, ErrorMessage"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvJCWIPCashFlow view?"
      },
      {
        "from": "gpt",
        "value": "The brvJCWIPCashFlow view (Module: JC) contains: JCCo, Contract, ContractStatus, Item, Mth, OrigContractAmt, OrigContractUnits, OrigUnitPrice, ContractAmt, ContractUnits, CurrentUnitPrice, BilledUnits, BilledAmt, ReceivedAmt, CurrentRetainAmt... (46 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPROSSSchedules view?"
      },
      {
        "from": "gpt",
        "value": "Provides formatted earning codes with descriptions for three schedule overtime levels (SOL1, SOL2, SOL3) assigned to each day of the week and holidays from payroll schedules. Transforms numeric codes into readable strings via CASE logic, blanking unused codes. Supports report validation by consolidating daily level-specific configurations per company."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUContributionHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUContributionHistory: PRCo (bCompany, not null); ClearingHouseID (varchar, not null); PRGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAddNotificationParameter do?"
      },
      {
        "from": "gpt",
        "value": "Adds a new parameter to a user-specific notification definition in Viewpoint Vista's notification system, enabling dynamic placeholders (e.g., job number, amount) in alerts or emails. Performs duplicate checks on UserNotificationID and ParameterID combinations before inserting into vDDNotificationParameter, and verifies successful addition post-insert. Returns success/error codes with messages for UI feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMAgreementServiceWorkSchedule view?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementServiceWorkSchedule view (Module: SM) contains: SMAgreementServiceWorkScheduleID, SMCo, Agreement, Version, Service, WorkScheduleSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Craft Capped Basis\n\nContext: Viewpoint Vista database, view PRCB"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRCB.*\nFROM dbo.bPRCB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSAR"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSAR: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMOA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMOA: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvAPRec_NonAPEntriesToGL view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from bGLDT, bAPPT."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCProjectionCodePhaseCT view?"
      },
      {
        "from": "gpt",
        "value": "JCProjectionCodePhaseCT"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_AU_PAYG08 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates Australian PAYG (Pay As You Go) income tax withholding for payroll based on gross pay (@subjamt), pay frequency (@ppds: weekly/52, fortnightly/26, monthly/12), tax scale (@scale: 1 or 2), and factors like additional exemptions (@addlexempts), non-resident alien status (@nonresalienyn), and FTB offset (@ftb_offset). Outputs the withholding amount (@amt) or an error message (@msg) if validations fail. Applies tiered tax rates and thresholds converted to equivalent weekly/fortnightly/monthly income bands."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDMAttachmentGridColumnOrder table?"
      },
      {
        "from": "gpt",
        "value": "The vDMAttachmentGridColumnOrder table (Module: DM) contains: VPUserName, ColumnName, ColumnOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join brvSLCT_DistinctSL with SLCD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join brvSLCT_DistinctSL with SLCD, use:\n\n```sql\nFROM brvSLCT_DistinctSL\nINNER JOIN SLCD\n  ON brvSLCT_DistinctSL.SLCo = SLCD.JCCo AND brvSLCT_DistinctSL.SL = SLCD.SL\n```\n\nThis pattern is used in the vrvPMVendorRegister view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure xSQLProcSearchByModule do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure identifies unreferenced stored procedures within a specified Viewpoint Vista module (e.g., 'JC' for Job Cost) by scanning sys.objects for procs matching '[b,v]sp<mod>%' patterns and excluding those called by other procs/triggers (via syscomments), Data Dictionary load/validation procs (vDDFH/vDDFI), or reports (vRPRF). It prints the names of orphaned procs and a total count, aiding in database cleanup by flagging unused code that could be safely removed or reviewed."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQRoleMemberOverride"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQRoleMemberOverride: Role (varchar, not null); UserName (bVPUserName, not null); Type (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkOrder form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkOrder form includes these fields: Work Order Status Filter, Filter By, CustGroup Filter, Customer Filter, JCCo Filter, Job Filter, Service Center Filter, Service Site Filter, Entered Date Start Filter, Entered Date End Filter"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMRequiredMaterial with HQMT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMRequiredMaterial with HQMT, use:\n\n```sql\nFROM SMRequiredMaterial\nINNER JOIN HQMT\n  ON SMRequiredMaterial.MatlGroup = HQMT.MatlGroup AND SMRequiredMaterial.Material = HQMT.Material\n```\n\nThis pattern is used in the vrvSMWorkOrderQuote view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DMAnnotations view?"
      },
      {
        "from": "gpt",
        "value": "DM Document Annotations"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCRevenueProjectionsTotals do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCRevenueProjectionsTotals computes the total current contract amount and total projected revenue for a specified contract up to a given month within a company, used for job costing revenue forecasting and reporting in Viewpoint Vista ERP. It calculates the current total by summing ContractAmt from the JCIP table where Mth <= input month. The projected total sums from JCIR records (joined with per-item JCIP contract amounts), prioritizing RevProjDollars if plugged ('Y') or non-zero, otherwise falling back to contract amounts.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the AP1099Edit form?"
      },
      {
        "from": "gpt",
        "value": "The AP1099Edit form includes these fields: YEMO, VendorGroup, Vendor, address label desc, city label desc, State, zip label desc, country label display, tax ID label desc, 1009 type label desc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view consolidates equipment management change batch data by Viewpoint database, table name, column name, and equipment company, deriving the minimum associated company code via aggregation.\n\nContext: Viewpoint Vista database, view EMChangeBatchList"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMChangeBatchEquipEMCoCol.ViewpointDB,\n    EMChangeBatchEquipEMCoCol.VPTableName,\n    EMChangeBatchEquipEMCoCol.VPColumnName,\n    EMChangeBatchEquipEMCoCol.VPEMCo,\n    Co=Min(EMChangeBatchCol.VPCo)\nFROM dbo.EMChangeBatchEquipEMCoCol\nINNER JOIN dbo.EMChangeBatchCol ON EMChangeBatchEquipEMCoCol.ViewpointDB=EMChangeBatchCol.ViewpointDB AND EMChangeBatchEquipEMCoCol.VPTableName=EMChangeBatchCol.VPTableName\nAND EMChangeBatchEquipEMCoCol.VPColumnName=EMChangeBatchCol.VPColumnName\nGROUP BY EMChangeBatchEquipEMCoCol.ViewpointDB,EMChangeBatchEquipEMCoCol.VPTableName,EMChangeBatchEquipEMCoCol.VPColumnName,EMChangeBatchEquipEMCoCol.VPEMCo;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PREAEmplMonths"
      },
      {
        "from": "gpt",
        "value": "Key columns in PREAEmplMonths: PRCo (bCompany, not null); Employee (bEmployee, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPU view?"
      },
      {
        "from": "gpt",
        "value": "The PMPU view (Module: PM) contains: PMCo, Project, PunchList, Description, PunchListDate, PrintOption, Notes, UniqueAttchID, KeyID, DocType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMPCOUploadVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPMPCOUploadVal validates inputs for uploading a Pending Change Order (PCO) in Viewpoint Vista's project management module by ensuring PM company, project, PCO type, and PCO number are provided. It then checks the PMOP table for an existing matching record using these parameters. If inputs are missing or the PCO already exists, it sets an error message and returns code 1; otherwise, it returns 0 to allow upload.\n\nbspPMPCOUploadVal validates inputs for uploading a Pending Change Order (PCO) in Viewpoint Vista's Project Management module by checking for missing PM Company, Project, PCO Type, or PCO parameters. It then queries the PMOP table to ensure no matching record already exists for the given combination. If valid and unique, it returns success code 0; otherwise, it sets an error message in the output parameter and returns code 1, preventing duplicate PCO uploads.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQContactInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJeremiah Barkley\n> Create date: 8/10/10\n> Description:\tHQ Contact load proc\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCIA"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCIA: JCCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQAD"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQAD: RecID (int, not null); ColumnName (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APURInvRevItemAdditionalInfo view?"
      },
      {
        "from": "gpt",
        "value": "Provides hierarchical approval status, rejection totals, pending approval levels, missing required coding information flags (e.g., GL, job, inventory, equipment, PO/SL details by line type), and PO/SL linkage counts for unapproved AP invoice line items."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDRelatedFormsShared view?"
      },
      {
        "from": "gpt",
        "value": "This view merges all standard related forms definitions with non-duplicative custom related forms, using a UNION operation keyed on Form and Tab to eliminate overlaps. It delivers a unified, complete dataset of related forms configurations for the DD module. The key transformation excludes custom records matching existing standard ones via NOT EXISTS."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Task Group\n\nContext: Viewpoint Vista database, view SMTaskGroup"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vSMTaskGroup;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMOICalc"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMOICalc: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APChkPrnt form?"
      },
      {
        "from": "gpt",
        "value": "The APChkPrnt form includes these fields: Batch Month, Batch Id, Group, virtual CMCo, AP CM Account (Virtual), CM Account, Date, Void or clear opt group, Void Memo, Begining Sort Name"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspColumnCount do?"
      },
      {
        "from": "gpt",
        "value": "The vspColumnCount stored procedure counts the number of columns in a specified user table within Viewpoint Vista ERP. It queries the sys.columns system view using the table's object ID to compute the count and outputs it via the @NumberOfColumns parameter, initializing it to 0 first. This is used for table structure validation, reporting, or dynamic SQL operations requiring column metadata.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCDL"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCDL: JCCo (bCompany, not null); Department (bDept, not null); LiabType (bLiabilityType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDFU.\n\nContext: Viewpoint Vista database, view DDFU"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vDDFU;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBSeqResequence do?"
      },
      {
        "from": "gpt",
        "value": "This SP resequences detail lines for a specific line item on a Job Billing (JB) invoice by marking existing records in billing detail tables (bJBID, bJBIJ) for purging (Purge='Y', AuditYN='N'), counting current details from JBID, and preparing a structured table variable (@DetailReseq) to rebuild lines with new sequence numbers based on sorting criteria like phase groups, cost types, or templates. It ensures consistent ordering of billing breakdowns (e.g., labor, materials, equipment) for accurate invoice presentation and totals recalculation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRKYT07 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates Kentucky (KY) state income tax withholding for payroll. It annualizes the subject pay amount by pay periods, applies a standard deduction ($2050), progressive tax brackets (2%-6%), per-exempt credit ($20), then per-periodizes and floors to zero. Returns the withholding amount or an error if pay periods are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Employee Accums Detail for Australia\n\nContext: Viewpoint Vista database, view PRAUEmployeeAccumsDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAUEmployeeAccumsDetail.*\nFROM dbo.vPRAUEmployeeAccumsDetail;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRRI view?"
      },
      {
        "from": "gpt",
        "value": "HR Rating Group Items"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMCA"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMCA: PMCo (bCompany, not null); Addon (int, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAWDLoadViewsCombo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a sorted list of database view names that start with the specified two-character module code (e.g., for populating combo boxes in Viewpoint Vista's VAWD interfaces). It queries INFORMATION_SCHEMA.VIEWS using a LIKE filter on TABLE_NAME and returns the results directly. If no matching views are found, it sets and returns a failure code of 1; otherwise, it returns 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMOC table?"
      },
      {
        "from": "gpt",
        "value": "The bPMOC table (Module: PM) contains: PMCo, Project, DocType, Document, Seq, VendorGroup, SentToFirm, SentToContact, Send, PrefMethod, CC, DateSent, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRPRT08 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRPRT08 calculates per-pay-period state income tax withholding for payroll processing in Viewpoint ERP. It annualizes the subject pay amount by multiplying by pay periods per year (ppds), subtracting status-based deductions (e.g., 1300 for single) and exemption allowances (1250/2500 per exempt, 500 per additional), then applies progressive tax brackets (7%-33% rates with subtractions) based on annualized wage and misc_factor. The output tax amount is derived as (annualized wage * rate - tax subtraction) / ppds, with input validation and error handling for missing ppds or invalid status.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_BCT19 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the per-pay-period British Columbia provincial income tax withholding (instalment) for Canadian payroll, based on annual taxable income (@A), pay periods per year (@ppds), and various tax credits (CPP, EI, basic personal amounts). It applies BC tax brackets, rates, abatements, and low-income credits to derive a net tax amount (@T2), then divides by pay periods to output the periodic withholding (@calcamt). Returns an error message if pay periods are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SLHD with JCCmtd in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SLHD with JCCmtd, use:\n\n```sql\nFROM SLHD\nINNER JOIN JCCmtd\n  ON SLHD.SLCo = JCCmtd.APCo AND SLHD.SL = JCCmtd.SL\n```\n\nThis pattern is used in the vrvJCCommittedCost view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFProcessProcessVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specified Workflow Process (and optionally a Document Type) by checking the WFProcess table for an exact match on Process, with flexible DocType handling (any or null if input DocType is null/empty). It ensures the process exists and is active ('Y'), setting an output error message and returning 1 for failures like missing, invalid, or inactive processes. Used to enforce valid workflow processes before further operations, preventing downstream errors in Viewpoint Vista ERP.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMTrip with SMTechnician in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMTrip with SMTechnician, use:\n\n```sql\nFROM SMTrip\nINNER JOIN SMTechnician\n  ON SMTrip.SMCo = SMTechnician.SMCo AND SMTrip.Technician = SMTechnician.Technician\n```\n\nThis pattern is used in the vrvSMWorkOrder view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCMP with bJCJM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCMP with bJCJM, use:\n\n```sql\nFROM JCMP\nINNER JOIN bJCJM\n  ON JCMP.JCCo = bJCJM.JCCo\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMDE view?"
      },
      {
        "from": "gpt",
        "value": "EM Dept Override by Earn Type"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMRequiredMaterial view?"
      },
      {
        "from": "gpt",
        "value": "SM Required Material"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvSLClaimTaxInvoice view?"
      },
      {
        "from": "gpt",
        "value": "The brvSLClaimTaxInvoice view (Module: SL) contains: SLCo, ClaimSL, ClaimNo, ClaimDescription, ClaimDate, ClaimInvoiceDate, ClaimInvoiceDueDate, ClaimInvoice, ClaimInvoiceDesc, ClaimItem, ClaimItemDescription, CLaimItemToDateAmount, ClaimItemApproveAmount, ClaimItemTaxAmount, ClaimItemApproveRetention... (36 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPF"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPF: PMCo (bCompany, not null); Project (bJob, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMTM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMTM: PMCo (bCompany, not null); Project (bJob, not null); Transmittal (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPMChangeOrders"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPMChangeOrders: Src (int, not null); PMCo (bCompany, not null); Project (bJob, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPMRequestForQuoteDetail table?"
      },
      {
        "from": "gpt",
        "value": "The vPMRequestForQuoteDetail table (Module: PM) contains: PMCo, Project, RFQ, RFQItem, Description, Scope, ScopeButtonText, Status, ROM, SentDate, ReceivedDate, VendorGroup, Firm, Vendor, Contact... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMStdMaintItemVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a standard maintenance item for specific equipment within a company and maintenance group in Viewpoint Vista's Equipment Management (EM) module. It retrieves the item's description, repair type, and cost code from the bEMSI table, defaulting the repair type to the company's WO default if null from bEMCO. It returns an error code and message if the item is invalid or missing required inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSIG"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSIG: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vVPCanvasGridColumnsUser.\n\nContext: Viewpoint Vista database, view VPCanvasGridColumnsUser"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vVPCanvasGridColumnsUser;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pDates"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pDates: DateID (int, not null); Name (varchar, not null); TableName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSRB table?"
      },
      {
        "from": "gpt",
        "value": "The bMSRB table (Module: MS) contains: MSCo, Mth, BatchId, EMCo, Equipment, EMGroup, RevCode, SaleType, RevBdownCode, BatchSeq, HaulLine, OldNew, Amount, GLCo, GLAcct"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspChangeUserPassword do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure changes a SQL Server login password for a Viewpoint Vista user by validating the username exists, the new password is non-empty, and executing `ALTER LOGIN` with the old password for verification. It provides error messaging via an output parameter for invalid inputs. In Vista's context, it supports secure user authentication to the ERP database."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARDeleteBatchLines do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes a specific line (identified by BatchSeq) from an unposted Accounts Receivable (AR) batch in the bARBL table, while also clearing related batch control, invoice, job, adjustment, and memo records (bARBC, bARBI, bARBJ, bARBA, bARBM) for the entire batch to force recalculation of summaries/totals upon re-entry or rebuild. It ensures the batch is valid, editable (not posted or interrupted), and exclusively locked by the current user before proceeding. This supports line-level corrections without reposting the batch."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vMailQueueArchive table?"
      },
      {
        "from": "gpt",
        "value": "The vMailQueueArchive table (Module: Other) contains: MailQueueID, SentTo, CC, BCC, SentFrom, Subject, Body, Attempts, FailureDate, FailureReason, Source, Sent, SentDate, AttachIDs, UniqueAttchID... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARPmtOnAcct form?"
      },
      {
        "from": "gpt",
        "value": "The ARPmtOnAcct form includes these fields: BatchMth Label, BatchId Label, BatchSeq Label, ARBLBatchSeq Bound, ARBL ARLine, TransType, Description, RecType, TaxGroup, TaxCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMChangeOrdersPCO form?"
      },
      {
        "from": "gpt",
        "value": "The PMChangeOrdersPCO form includes these fields: Project, PCOType, PMDT.Active, PCO, Description, Issue, PMCO.BeginStatus, IntExt, Date1, Date2"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the UDVersion view?"
      },
      {
        "from": "gpt",
        "value": "The UDVersion view (Module: UD) contains: TableName, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the CMAC form?"
      },
      {
        "from": "gpt",
        "value": "The CMAC form includes these fields: CMAcct, Description, GLCo, GLAcct, BankAcct, ImmedDest, ImmedOrig, Routine Id, ServiceClass, BankName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPOCO view?"
      },
      {
        "from": "gpt",
        "value": "The PMPOCO view (Module: PM) contains: PMCo, Project, POCo, PO, POCONum, Description, Details, Date, Status, Reference, DateSent, DateDueBack, DateReceived, DateApproved, Notes... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvDistinctEMCD"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvDistinctEMCD: EMCo (bCompany, not null); EMGroup (bGroup, not null); Equipment (bEquip, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_checkinobject_u do?"
      },
      {
        "from": "gpt",
        "value": "> 0 => AddFile, 1 => CheckIn\n> drop stream\n> There is a bug that if items are NULL they do not pass to OLE servers\n> create stream\n> grant stream\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_EMScheduledMaintenance"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_EMScheduledMaintenance: EMCo (bCompany, not null); EMCoID (bigint, not null); Equipment (bEquip, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspPortalDataGridColumnsGet do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNMT01 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNMT01 calculates Montana state income tax withholding per pay period in Viewpoint Vista payroll. It annualizes the subject pay amount minus exemptions (at $2800 each), selects progressive tax brackets and rates based on filing status ('S' for single or 'M' for married), and computes the annual tax (minimum $12) divided by pay periods per year. Used to accurately deduct MT state taxes during payroll processing, with validation for required pay periods.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMJCJMContractGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the contract number for a given company and project from the bJCJM table in Viewpoint Vista's job cost/contract management module. It validates input parameters (@pmco and @project), performs a lookup using JCCo and Job fields, and outputs the contract value via @msg if found, or an empty string otherwise. It is used to quickly obtain contract details for project-related operations, returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMSS"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMSS: PMCo (bCompany, not null); Project (bJob, not null); SLCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JBTMBillLines form?"
      },
      {
        "from": "gpt",
        "value": "The JBTMBillLines form includes these fields: BillMonth, BillMonth for Display, BillNumber, BillNumber for Display, Template for Display, JBTM LaborRateOpt TempVal, JBTM LaborOverrideYN TempVal, JBTM EquipRateOpt  TempVal, JBTM LaborCatYN TempVal, JBTM EquipCatYN TempVal"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSCDesc do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMSCDesc stored procedure retrieves the textual description for a given status code from the PMSC table and outputs it via the @msg parameter. It is used in Viewpoint ERP to fetch human-readable status descriptions, typically for displaying informative messages in project management contexts. Key operations include validating the non-empty @statuscode input, executing a NOLOCK SELECT query on PMSC, and returning a success code of 0 with an empty @msg if no match is found.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides sequenced W2 Box 12 data per company, tax year, and employee, including item details, descriptions, amounts, and a cumulative count of distinct prior items with valid W2 codes. Filters to onl\n\nContext: Viewpoint Vista database, view brvPRW2Box12"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRWA.PRCo,\n    PRWA.TaxYear,\n    Employee,\n    PRWA.Item,\n    PRWA.ItemID,\n    PRWA.Seq,\n    W2Code,\n    PRWI.Description,\n    Amount,\n    CountItem=(SELECT count(DISTINCT PRWA_1.Item)\nFROM dbo.PRWA AS PRWA_1\nJOIN dbo.PRWI AS PRWI_1 ON PRWI_1.TaxYear=PRWA_1.TaxYear AND PRWI_1.Item=PRWA_1.Item\nWHERE PRWA.PRCo=PRWA_1.PRCo\n    AND PRWA.TaxYear=PRWA_1.TaxYear AND PRWA.Employee=PRWA_1.Employee\n    AND PRWA_1.Item<=PRWA.Item AND (PRWI_1.W2Code IS NOT NULL AND PRWI_1.W2Code<>''))\nFROM PRWA\nJOIN PRWI ON PRWI.TaxYear=PRWA.TaxYear AND PRWI.Item=PRWA.Item\nWHERE (PRWI.W2Code IS NOT NULL AND PRWI.W2Code<>'');"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDUPCheckIfConnectsUserExists do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tKE,vspVADDUPCheckIfConnectsUserExists\n> Create date: 6/14/2012\n> Modified:\tAR 5/14/2014 - 84247 - removing exec as proc grants permission\n> Description:\tThis proc checks the database to see if a login exists\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Phase A: Object Validation?"
      },
      {
        "from": "gpt",
        "value": "- [ ] All views exist in columns.csv\n- [ ] All columns exist (exact case)\n- [ ] Primary keys identified from indexes.csv"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMDispatchBoardUserTechnician view?"
      },
      {
        "from": "gpt",
        "value": "The SMDispatchBoardUserTechnician view (Module: SM) contains: SMDispatchBoardUserTechnicianID, VPUserName, SMCo, SMBoardName, Technician, SortOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetReportsItemPath do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the full file path for a specific report item by concatenating the path from the RPRL table with the filename from the RPRTShared table. It is used in Viewpoint Vista ERP to efficiently locate and access report files based on a given ReportID. The key operation is a straightforward JOIN on Location between the two tables, filtered by the @reportid parameter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCD view?"
      },
      {
        "from": "gpt",
        "value": "The PRCD view (Module: PR) contains: PRCo, Craft, Class, DLCode, Factor, OldRate, NewRate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipValForWarranties do?"
      },
      {
        "from": "gpt",
        "value": "Validates an equipment record in the Equipment Management (EM) module for warranty processing by retrieving and outputting key attributes (description, in-service date, manufacturer, model, purchase date, VIN, odometer/hour readings) from the bEMEM table. Ensures the equipment exists, is active (not 'I' for Inactive), and has no ongoing changes (via sub-SP check). Returns error codes/messages for invalid inputs or conditions, preventing warranty actions on ineligible equipment."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDCL view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDCL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvJCEstCostItem"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvJCEstCostItem: Sort (varchar, not null); JCCo (bCompany, not null); Contract (bContract, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NBT162 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the per-pay-period New Brunswick (NB) provincial income tax withholding amount (`@calcamt`) for Canadian payroll, based on projected annual income (`@A`), tiered tax rates (9.68% to 19.60%), and credits/deductions including basic personal amounts (`@KP`), TCP credits (`@K1P`), CPP/EI contributions (`@K2P`), other provincial credits (`@K3P`), and a capped stock option deduction (`@LCP` up to $2000). It outputs the result and an error message if validation fails, enabling accurate tax installment calculations without database queries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ARTL view?"
      },
      {
        "from": "gpt",
        "value": "The ARTL view (Module: AR) contains: ARCo, Mth, ARTrans, ARLine, RecType, LineType, Description, GLCo, GLAcct, TaxGroup, TaxCode, Amount, TaxBasis, TaxAmount, RetgPct... (70 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUETPEmployeeAmountsCheck do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure verifies if a record exists in the PRAUEmployeeETPAmounts table for a specified company, tax year, and employee in Viewpoint Vista ERP's payroll module. It is used to check for pre-existing Employee Termination Payment (ETP) amounts before processing or reporting, preventing duplicates or errors. The key operation is a simple EXISTS query that sets the @Exists output parameter to 'Y' if found or 'N' otherwise, with no data modifications.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasGridSettings"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasGridSettings: KeyID (int, not null); QueryName (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMVMVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMVMVal stored procedure validates a given Document Tracking View name by querying the PMVM table. If the view name exists, it outputs the associated description and returns 0 (success); otherwise, it sets an error message like \"Invalid Document Tracking View\" and returns 1 (failure). It is used in Viewpoint Vista ERP to confirm valid view names before proceeding with related project management or document tracking operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSLClaimUpdateAPVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates key inputs and retrieves AP company configurations (e.g., tax basis, pay types, CM accounts) for updating an Accounts Payable (AP) transaction linked to a Service Ledger (SL) Claim, typically a subcontractor billing claim. It checks for missing parameters like company, subcontract, claim number, batch details, and process name, setting error messages if invalid. It initializes pay types and prepares data (e.g., AP references, vendor details) to ensure AP integrity before claim-to-AP transaction updates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUBASTaxYearVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a specified Tax Year for an employer's Australian Business Activity Statement (BAS) setup in Payroll, ensuring it's a properly formatted 4-digit year (e.g., 2024). It retrieves the authorized contact's details (name, phone, signature) from PRAUEmployerMaster and calculates the next sequence number by finding the MAX(Seq) in PRAUEmployerBAS for BAS record insertion. If validation fails or the Tax Year isn't configured, it returns an error message and code via output parameters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRTF with PREC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRTF with PREC, use:\n\n```sql\nFROM PRTF\nINNER JOIN PREC\n  ON PRTF.PRCo = PREC.PRCo AND PRTF.EarnCode = PREC.EarnCode\n```\n\nThis pattern is used in the vrvPRCraftClassHierarchy view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedDetailUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This SP dynamically updates records in a customizable Service Management (SM) Work Completed detail table (e.g., labor or material lines) by joining to a temporary updater table (#SMWorkCompletedUpdater) via a provided join clause. It selectively updates only non-identity columns that match those available in the temp table, either all eligible columns (if no @ColumnsUpdated specified) or only explicitly changed ones (via @ColumnsUpdated). The @Type parameter filters updates to specific record types present in the temp table, enabling efficient bulk/grid updates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRCO with HQCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRCO with HQCO, use:\n\n```sql\nFROM PRCO\nINNER JOIN HQCO\n  ON PRCO.PRCo = HQCO.HQCo\n```\n\nThis pattern is used in the vrvPRLocalEITWithholding view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROHT19 do?"
      },
      {
        "from": "gpt",
        "value": "bspPROHT19 calculates state income tax withholding for a pay period by annualizing the subject pay amount, subtracting exemption allowances ($650 each), and applying a progressive bracket-based tax rate structure. It determines the annual tax liability using predefined wage brackets, rates (0.5% to 5%), and fixed additions, then prorates the result by pay periods per year and multiplies by 1.075 for the final withholding amount. Used in Viewpoint Vista payroll to compute accurate per-paycheck withholdings simulating annual tax liability, with error handling for missing pay periods.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMRequestForQuoteDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMRequestForQuoteDetail: PMCo (bCompany, not null); Project (bProject, not null); RFQ (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDAL view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDAL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APVC view?"
      },
      {
        "from": "gpt",
        "value": "The APVC view (Module: AP) contains: APCo, VendorGroup, Vendor, CompCode, Verify, ExpDate, Complied, Memo, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetDDSGGroupsByType do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAL, vspVAGetDDSGGroupsByType\n> Create date: 7/25/08\n> Modified By:\tGF 03/24/2014 TFS-71948\n> AR 04/20/2015 - TFS 129464 - adding security checks for user\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRAL view?"
      },
      {
        "from": "gpt",
        "value": "The HRAL view (Module: HR) contains: HRCo, Accident, Seq, DaySeq, BeginDate, EndDate, Days, Type, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOClearEstimateAmounts do?"
      },
      {
        "from": "gpt",
        "value": "This SP clears estimated amounts (costs, hours, units) from Potential Change Order (PCO) lines in a project's PMOL records, resetting them to zero and setting the unit of measure to 'LS' (Lump Sum) in the bPMOL table. It supports a two-phase operation: first checking (if not pre-checked) for non-zero EstCost values and flagging them via output parameters; second, conditionally performing the update only if explicitly requested. This enables safe resetting of estimates without data loss risks."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMFourProjectsMapDocCategory"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMFourProjectsMapDocCategory: PMCo (bCompany, not null); Project (bProject, not null); DocCat (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDFormOptionsGet do?"
      },
      {
        "from": "gpt",
        "value": "The vspDDFormOptionsGet stored procedure retrieves form-specific options from the DDFU table based on the provided form name in a Viewpoint Vista ERP context. It validates that both @form and @username inputs are non-null, returning an error code and message if missing. If valid, it outputs the matching Options value; otherwise, it appends the procedure name to the error for diagnostics.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APPB with APTB in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APPB with APTB, use:\n\n```sql\nFROM APPB\nINNER JOIN JOIN APTB\n  ON APPB.Co = APTB.Co AND APPB.Mth = APTB.Mth AND APPB.BatchId = APTB.BatchId AND APPB.BatchSeq = APTB.BatchSeq\n```\n\nThis pattern is used in the vrvAPEFTRemReprint view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPPartFormChangedParameters view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPPartFormChangedParameters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Project Budget Header\n\nContext: Viewpoint Vista database, view PMEH"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMEH.*\nFROM dbo.bPMEH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMDocTrackPMSM form?"
      },
      {
        "from": "gpt",
        "value": "The PMDocTrackPMSM form includes these fields: Submittal Type, Submittal, Revision, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCAGlacctDfltForPO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure determines and returns the default GL account for Purchase Order (PO) lines charged to a specific Job Costing (JC) job, phase group, phase, and cost type, prioritizing open WIP or closed expense accounts based on job status. It first validates the phase structure via `bspJCVPHASE`, derives the department from job headers or items if needed, and matches against JC default options (bJCDO) using company-specific phase group mappings. Outputs include the GL account, an override flag, and a status message, supporting automated GL defaults while allowing overrides."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bGLBD table?"
      },
      {
        "from": "gpt",
        "value": "The bGLBD table (Module: GL) contains: GLCo, GLAcct, BudgetCode, Mth, BudgetAmt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPRFlash_PRRO"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPRFlash_PRRO: PRCo (bCompany, not null); Crew (varchar, not null); PostDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderGLUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates GL account mappings (e.g., CostWIPAccount, RevenueWIPAccount, CostAccount, RevenueAccount, GLCo) on Service Management (SM) work completed details, flat price revenue splits, and PO item lines for a specified Work Order and Scope. It derives these accounts dynamically using the `vfSMGetAccountingTreatment` function based on work type (e.g., 'E' for Equipment, 'L' for Labor, 'M' for Material), cost type, and tracking settings. The purpose is to ensure accurate WIP (Work-in-Progress) and revenue/cost GL postings for service work orders by refreshing accounting treatments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_JCJob view?"
      },
      {
        "from": "gpt",
        "value": "Dimension view supplying Job Costing job master data including identifiers, descriptions, contracts, transformed status labels (Open/Soft Closed/Closed/Pending), and company/location details. Concatenates job name with description for display and adds an 'Unassigned' placeholder row for null job handling in analytics models."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.Comment view?"
      },
      {
        "from": "gpt",
        "value": "The api.Comment view (Module: Other) contains: CommentId, CommentDate, CommentText, ParticipantId, DocumentId, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in WFTemplateSteps"
      },
      {
        "from": "gpt",
        "value": "Key columns in WFTemplateSteps: KeyID (int, not null); Step (int, not null); Task (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_QCT19 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates the QCT19 Quebec tax credit amount (@CalcAmt output) for an employee's payroll deductions in a Canadian (Quebec) context, using predefined thresholds (e.g., $11,700 deduction base, 6% rate, $15,269 limit), summed YTD earnings for a specific deduction line (@DLCode), and employee-specific source deductions from bPREH. Returns a message (@msg) for errors or status, initializing @CalcAmt to 0 if no qualifying earnings. Supports payroll tax credit computation under Quebec rules (QCT19 form)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMVGInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes default grid view configurations in the PMVG table for the 'Viewpoint' view across PM Document Tracking forms (e.g., Submittals, RFIs, RFQs, Change Orders). It checks for existing entries and inserts them with predefined GridTitle and Hide='N' if missing, then calls bspPMVCInitialize to set up column configurations. The @viewname parameter is validated but not used in logic, effectively hardcoding initialization for 'Viewpoint' view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMRulesVal do?"
      },
      {
        "from": "gpt",
        "value": "bspEMRulesVal validates a rules table for a specified company (EMCo) by querying the bEMUR table. If found, it outputs the JTDorPDFlag and Description; if not, it sets an error message ('Not a valid Rules Table') and return code 1. Used in Viewpoint Vista ERP's Equipment Management to confirm valid rules tables before further processing, ensuring data integrity with output parameters for flag, message, and error code.\n\nThe bspEMRulesVal stored procedure validates a rules table for a specified company (EMCo) by querying the bEMUR table in Viewpoint Vista's Equipment Management module. If a matching record exists, it outputs the JTDorPDFlag and Description; otherwise, it sets an error message ('Not a valid Rules Table') and return code 1. It is used to confirm rules table validity prior to EM rule applications, ensuring proper configuration with minimal error handling.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bIMTD table?"
      },
      {
        "from": "gpt",
        "value": "The bIMTD table (Module: IM) contains: ImportTemplate, RecordType, Seq, Identifier, DefaultValue, ColDesc, FormatInfo, Required, XRefName, RecColumn, BegPos, EndPos, BidtekDefault, Datatype, UserDefault... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRateTemplate table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRateTemplate table (Module: SM) contains: SMRateTemplateID, SMCo, RateTemplate, Description, Active, LaborRate, EquipmentMarkup, MaterialMarkupOrDiscount, MaterialBasis, MaterialPercent, UniqueAttchID, Notes, NonMaterialPercent, ApplyBreakPointsBy"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRILT002 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRILT002 calculates Illinois state income tax withholding per pay period from a subjob amount. It annualizes the gross by multiplying by pay periods per year (ppds), subtracts regular exemptions ($2000 each) and additional exemptions ($1000 each), applies a 3% rate to the taxable income (minimum zero), then divides by ppds for the per-period tax (also minimum zero). Used in payroll processing for accurate IL tax deductions; errors if ppds is missing and outputs the tax amount plus any message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vRPRQc"
      },
      {
        "from": "gpt",
        "value": "Key columns in vRPRQc: ReportID (int, not null); DataSetName (varchar, not null); QueryText (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.ComboTypeItem view?"
      },
      {
        "from": "gpt",
        "value": "The api.ComboTypeItem view (Module: Other) contains: Id, ComboTypeId, Order, Value, Key"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCContractOpenPOs view?"
      },
      {
        "from": "gpt",
        "value": "The JCContractOpenPOs view (Module: JC) contains: JCCo, Contract, Job, JobDescription, POCo, PO, PODescription, RemainingCost, TotalInvoiced, WorkExistsInOtherContracts, ExistsInBatchOrClosed"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Reviewer Profile\n\nContext: Viewpoint Vista database, view HQRP"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQRP.*\nFROM dbo.bHQRP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMImportUploadProjVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a project (job) for a given PM company during the Viewpoint Vista PM Import Upload process, ensuring it exists in JCJM and has a Pending (0) or Open (1) status. It retrieves key details like description, contract, liability template, PR state code, lock phases, and markup rate, while checking for existing change orders in JCCH to set warning flags. Outputs include existence status, validation flags, country default, and error messages to confirm the project is ready for upload or processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vfrl_seg_tree table?"
      },
      {
        "from": "gpt",
        "value": "The vfrl_seg_tree table (Module: Other) contains: entity_num, seg_num, parent_code, child_low, child_high, is_parent, last_updated"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRRD"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRRD: HRCo (bCompany, not null); HRRef (bHRRef, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMTT052 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMTT052 calculates Montana state income tax withholding per pay period based on subject gross pay, pay periods per year, and exemptions. It annualizes wages by multiplying subject amount by pay periods and deducting $1900 per exemption (capped at zero), then applies progressive brackets (1% to $7000; 4.4% over $7000 to $15k +$70; 6% to $90k +$422; 6.5% thereafter +$4922) to compute annual tax, rounding and dividing by pay periods for the output amount. Used in payroll processing for accurate employee withholding; returns error code and message if pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCTHLiabTypes form?"
      },
      {
        "from": "gpt",
        "value": "The JCTHLiabTypes form includes these fields: LiabType, Phase, CostType, CalcMethod, LiabilityRate, PhaseGroup, LiabTemplate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRCX view?"
      },
      {
        "from": "gpt",
        "value": "PR Craft Accum Rate Detail"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDUT.\n\nContext: Viewpoint Vista database, view DDUT"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vDDUT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTicMatlPhaseGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves default phase codes and cost types (material phase/cost type and haul phase/cost type) for material sales ticketing from the bMSJP table (likely MS Job/Quote Phase setup). It performs hierarchical lookups starting with exact matches (when quote, from-location, and material are specified) and falls back to broader criteria if no exact match is found. Required inputs are validated, with errors returned via @msg if missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMTrip view?"
      },
      {
        "from": "gpt",
        "value": "The SMTrip view (Module: SM) contains: SMTripID, SMCo, WorkOrder, Trip, Description, Details, Status, ScheduledDate, EstimatedDuration, Technician, Notes, UniqueAttchID, DispatchSequence, VersionStamp, VersionUserName... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedPurchaseTaxTypeDefault do?"
      },
      {
        "from": "gpt",
        "value": "Determines and outputs the default TaxType for Service Management (SM) work completed lines based on LineType: for miscellaneous costs (LineType=3) from linked AP transaction lines (bAPTL), or for purchases (LineType=5) from linked PO items (POIT) where AP actual cost is not yet posted. Uses a tax default function (vfSMWorkCompletedTaxDefault) factoring in cost type, material, tax group/code, and non-billable status to ensure accurate tax application on service work."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPHBAutoClosePO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure automatically identifies and closes eligible Purchase Orders (POs) in the AP module for a specified company, month, and batch, based on criteria from the vAPPOAutoClose view. It validates each PO using vspPOPurchaseOrderCloseVal, skips invalid ones while logging errors and incrementing a not-closed count, and proceeds with closure logic (e.g., checking item lines against cost types). Outputs track errors, closure counts, and issues for batch processing reconciliation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the UDVD view?"
      },
      {
        "from": "gpt",
        "value": "The UDVD view (Module: UD) contains: Seq, TypePC, Parameter, ValProc, TableName, AndOr, Operator, Type, ColumnName, Value, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DDVS form?"
      },
      {
        "from": "gpt",
        "value": "The DDVS form includes these fields: License Level, Version, Restrict Public Access, Max Lookup Rows, Max Form Rows, Days to Keep Log History, Log On Message, Log On Message Active, Enable Work Centers In Options, Send email via SMTP"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPCanvasGridGroupedColumnsUser"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPCanvasGridGroupedColumnsUser: KeyID (int, not null); VPUserName (varchar, not null); QueryName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBAR_ProgPostGL do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates General Ledger interface entries in bJBGL for progress billing invoices (PostGLtype='Invoice') from Job Billing/AR modules. It aggregates amounts by GL company/account based on AR company GL interface level (@glinterfacelvl 1-?), using configured journals, descriptions, and batch references. It supports summary or detail-level posting, deleting prior entries if level=0, and returns errors for invalid configs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPT_TableAndIndexPopulationScript do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure populates the `vUtilities.vPTTableInformation` table with comprehensive statistics on user tables in the Vista ERP database, including row counts, index details, read/update activity from `sys.dm_db_index_usage_stats`, and storage metrics (pages and MB usage). It focuses on primary/clustered indexes (index_id <=1), excluding system and dt% tables, to provide a snapshot of database size and usage. From a business perspective, it supports ERP performance monitoring by identifying high-activity tables (e.g., in JC/PM modules) for optimization, growth forecasting, and maintenance planning."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PO GL Expense Distributions\n\nContext: Viewpoint Vista database, view PORG"
      },
      {
        "from": "gpt",
        "value": "SELECT bPORG.*\nFROM dbo.bPORG;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUSuperClearingHouse view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vPRAUSuperClearingHouse."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMInvoiceBatchCreate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure creates an Accounts Receivable (AR) batch for Service Management (SM) invoices selected in a batching session. It identifies changed SM invoices from the invoice list detail, validates GL periods are open, detects any prior unposted AR batches for these invoices, and prepares for batch creation (setting @BatchId output) while enforcing cleanup/posting of previous batches. If validations fail, it returns an error message and exits."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetToolbarActions do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves customized toolbar actions (e.g., buttons for reports, edits, or custom scripts) grouped by record type in Viewpoint Vista's dynamic UI framework. It populates temp tables with action groups and their associated actions, optionally restricting to edit-only actions for security or workflow control. The result enables dynamic toolbar rendering tailored to modules like PM jobs or JC costs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINMOPurge do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure purges a closed Material Order (MO) from Viewpoint Vista's Inventory (IN) module by marking the header record (INMO) with a Purge flag and then deleting both detail lines (INMI) and the header. It enforces strict business rules to ensure only eligible historical orders are removed, preventing accidental deletion of active or in-process data. The operation is transactional, rolling back on any errors to maintain data integrity."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POII"
      },
      {
        "from": "gpt",
        "value": "Key columns in POII: POCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in INMO"
      },
      {
        "from": "gpt",
        "value": "Key columns in INMO: INCo (bCompany, not null); MO (varchar, not null); Description (bItemDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: VS Batch Detail\n\nContext: Viewpoint Vista database, view VSBD"
      },
      {
        "from": "gpt",
        "value": "SELECT bVSBD.*\nFROM dbo.bVSBD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOSM table?"
      },
      {
        "from": "gpt",
        "value": "The bPOSM table (Module: PO) contains: VendorGroup, Vendor, MatlGroup, Material, UM, VendMatId, Description, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBPG view?"
      },
      {
        "from": "gpt",
        "value": "The JBPG view (Module: JB) contains: JBCo, ProcessGroup, Description, ProgressFormat, TMFormat, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployees"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployees: KeyID (bigint, not null); PRCo (bCompany, not null); TaxYear (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Retrieves standard maintenance group notes linked to equipment or components on work orders via work instructions. Uses UNION ALL to provide notes separately for equipment (Type='E') and components (T\n\nContext: Viewpoint Vista database, view EMWHStdMaintGroupNotes"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT\n    EMWI.EMCo,\n    EMWI.WorkOrder,\n    EMWI.Equipment,\n    EquipOrComp=EMWI.Equipment,\n    EMEM.Type,\n    EMWI.StdMaintGroup,\n    Notes=CONVERT(varchar(max),EMSH.Notes)\nFROM dbo.EMWI WITH(nolock)\nINNER JOIN dbo.EMSH WITH(nolock)ON EMSH.EMCo=EMWI.EMCo AND EMSH.Equipment = EMWI.Equipment AND EMSH.StdMaintGroup=EMWI.StdMaintGroup\nINNER JOIN dbo.EMEM WITH(nolock)ON EMEM.EMCo=EMWI.EMCo AND EMEM.Equipment = EMWI.Equipment\nINNER JOIN dbo.EMWH WITH(nolock)ON EMWH.EMCo=EMWI.EMCo AND EMWH.WorkOrder = EMWI.WorkOrder AND EMWH.Equipment = EMWI.Equipment\nWHERE EMEM.Type = 'E'\nUNION ALL\nSELECT DISTINCT EMWI.EMCo,EMWI.WorkOrder,EMWI.Equipment,EquipOrComp=EMWI.Component,EMEM.Type,EMWI.StdMaintGroup,Notes=CONVERT(varchar(Max),EMSH.Notes)\nFROM dbo.EMWI WITH(nolock)\nINNER JOIN dbo.EMSH WITH(nolock)ON EMSH.EMCo=EMWI.EMCo AND EMSH.Equipment = EMWI.Component AND EMSH.StdMaintGroup=EMWI.StdMaintGroup\nINNER JOIN dbo.EMEM WITH(nolock)ON EMSH.EMCo=EMWI.EMCo AND EMSH.Equipment = EMWI.Component\nINNER JOIN dbo.EMWH WITH(nolock)ON EMWH.EMCo=EMWI.EMCo AND EMWH.WorkOrder = EMWI.WorkOrder AND EMWH.Equipment = EMWI.Equipment\nWHERE EMEM.Type = 'C';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join POHD with PMMF in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join POHD with PMMF, use:\n\n```sql\nFROM POHD\nINNER JOIN PMMF\n  ON POHD.POCo = PMMF.POCo AND POHD.PO = PMMF.PO\n```\n\nThis pattern is used in the vrvPMBuyOutReportDD view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Project Cost Types\n\nContext: Viewpoint Vista database, view PMPC"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMPC.*\nFROM dbo.bPMPC\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMPC.Project, bPMPC.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYT052 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNYT052 calculates New York State income tax withholding for a payroll period based on annualized wages. It computes annualized taxable wages by multiplying the subject gross amount by pay periods per year, then subtracting exemptions (at $1000 each) and a standard deduction ($6975 for Single, $7475 for Married), before applying progressive tax brackets with fixed additions and marginal rates specific to filing status. The procedure outputs the per-period tax amount and handles validation for required inputs like pay periods.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQPurgeMasterAudit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure supports purging or counting historical audit records from the HQ Master Audit table (bHQMA) for a specific company, targeting records older than or equal to a cutoff date. It allows filtering by all records ('A'), a specific table ('T'), or module ('M' using table prefix), while preventing purges of DD (data dictionary) entries. The 'count' mode previews the number of eligible records via an output message, enabling safe confirmation before actual deletion to manage database growth."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRCI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRCI: PRCo (bCompany, not null); Craft (bCraft, not null); EDLType (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptJCDashboardNCF do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a financial dashboard summary for Job Cost (JC) contract items in Viewpoint Vista, aggregating billed amounts (from JCIP), actual costs (from JCJP/JCCP), accounts receivable (billed minus received, plus retainage), unpaid AP invoices (from APTD/APTL), and net cash paid per item/department/contract. It focuses on profitability and cash flow metrics for a specified company and contract range. The \"Section = 1\" suggests it's one segment of a multi-section JC dashboard report (NCF likely denotes Non-Contract Funding or similar job type)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvARHighCredit view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view retrieves maximum highest credit amounts for AR customers per company, customer group, and customer from the monthly AR tracking table. It calculates peaks over the current month, past 3/6/12 months, and all time using subqueries on the Mth date field. DISTINCT ensures unique customer combinations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementTaskUpdate do?"
      },
      {
        "from": "gpt",
        "value": "> ========================================================================================== Author:\t\tJVH Create date: 9/11/14 Description:\tUpdates the tasks on an agreement by either removing them or adding them from a class maintenance task. Modified:\tMDB 99799 Update the parameter maintenance size from 15 to 30 JVH TFS-102253 10/14/14 Added removing non-task based requirements when the last task is removed and material substitution for required materials. ECV TFS-224775 08/12/15 Fixed duplicate\n> Used except when removing a specific task\n> Used when removing a specific task\n> Used when adding a specific task\n> A value of NULL indicates that at least one maintenance but not all maintenance for the ServiceItem are on the agreement when no specific maintenance is being referenced.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMViewpointDfltsAPUnappInv do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure sets default values for importing AP Unapplied Invoices (headers and items) in Viewpoint ERP during the import process. It retrieves the specific form type ('APUnappInv' or 'APUnappInvItems') from the IMTR table based on record type and import template, then calls the appropriate sub-procedure (vspIMViewpointDefaultsAPUI or vspIMViewpointDefaultsAPUL) to apply defaults. It outputs a completion message for AP Invoices and returns a status code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVAVPUsernameRenameArchive"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVAVPUsernameRenameArchive: RenameBatchID (int, nullable); NewUserName (bVPUserName, not null); OldUserName (bVPUserName, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMChangeOrderRequestDist form?"
      },
      {
        "from": "gpt",
        "value": "The PMChangeOrderRequestDist form includes these fields: Seq, Vendor Group, Sent To Firm, Sent To Contact, Send, Preferred Method, CC, Date Sent, Date Signed, Distribution Exists"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRGR"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRGR: PRCo (bCompany, not null); PRGroup (bGroup, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMCO view?"
      },
      {
        "from": "gpt",
        "value": "The EMCO view (Module: EM) contains: EMCo, EMGroup, INCo, JCCo, PRCo, GLCo, AdjstGLLvl, AdjstGLSumDesc, AdjstGLDetlDesc, AdjstGLJrnl, UseAutoGL, UseGLLvl, UseGLSumDesc, UseGLDetlDesc, UseGLJrnl... (69 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJBTM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJBTM: JBCo (bCompany, not null); Template (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDHDrawingRev view?"
      },
      {
        "from": "gpt",
        "value": "The PMDHDrawingRev view (Module: PM) contains: DrawingType, Drawing, PMCo, Project, DocType, Document, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName, OldValue, NewValue... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSLItemVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specific Service Ledger (SL) item linked to a Project Management (PM) sequence for editability or corrections. It checks prerequisites like interfacing status, SL header openness, and GL batch month availability (especially for change orders) to prevent invalid modifications that could disrupt accounting. Returns 0 on success or 1 with an error message in `@errmsg` on failure."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join MSTD with HQCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join MSTD with HQCO, use:\n\n```sql\nFROM MSTD\nINNER JOIN HQCO\n  ON MSTD.MSCo = HQCO.HQCo\n```\n\nThis pattern is used in the vrvMSTicketQuoteSalesDetail view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCIA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCIA: JCCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vAuditColumns table?"
      },
      {
        "from": "gpt",
        "value": "The vAuditColumns table (Module: Other) contains: KeyID, AuditTablesID, ColumnName, ColumnDesc, IsKey, IsInsertAudit, IsUpdateAudit, IsDeleteAudit, IsUD, IsCo, IsGroup, ConvertStyle, ConvertLength"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPLog.vHRPurgeLog table?"
      },
      {
        "from": "gpt",
        "value": "The VPLog.vHRPurgeLog table (Module: HR) contains: LogID, HRCo, LogMessage, IsError, LogDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspBuildViewDDL do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure dynamically generates executable DDL (SQL CREATE VIEW statement) for an API view by starting from a reference view's definition, injecting user-defined fields (UDFs) into the SELECT clause, and embedding a serialized XML representation of UDF properties/metadata. It enables flexible, customizable data views that incorporate company-specific custom fields without manual SQL editing. In Vista's API layer, this supports exposing extended data schemas for integrations, reports, or external apps."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspPortalStoredProceduresGet do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT03 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNDT03 calculates North Dakota state income tax withholding for payroll processing in Viewpoint Vista ERP. It annualizes subject gross pay by pay periods, subtracts exemptions allowance ($3050 each), and applies progressive tax brackets based on filing status ('S' single or 'M' married) with predefined rates and base taxes to compute annual tax liability, then divides by pay periods for per-period withholding. Key operations include input validation, taxable income calculation, bracket selection, and output of tax amount or error message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBBatchClear do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure clears an unposted Job Billing (JB) batch by deleting its associated records from billing master (bJBBM), job cost (bJBJC), GL (bJBGL), allocation (bJBAL), and AR (bJBAR) tables, but only if the batch is controlled by the 'JBAR' table. It validates batch existence, status, and exclusive user access before proceeding, then marks the batch as cleared (Status=6) in the batch control table (bHQBC). This allows users to discard and restart batch data without impacting posted financials."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAPOnCostWorkFileDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAPOnCostWorkFileDetail: KeyID (bigint, not null); APCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PCO Approve Item\n\nContext: Viewpoint Vista database, view PMPCOApproveItem"
      },
      {
        "from": "gpt",
        "value": "SELECT vPMPCOApproveItem.*\nFROM dbo.vPMPCOApproveItem;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMCrossRefVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a cross-reference entry in the Inventory Management (IM) import cross-reference table (IMXH) for a given import template, cross-reference name, and record type. If exactly one matching record exists, it outputs the associated PM (Project Management) cross-reference flag and template values, confirming validity. Otherwise, it returns an error message indicating an invalid cross-reference, enforcing data integrity during imports."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDMFShared view?"
      },
      {
        "from": "gpt",
        "value": "The DDMFShared view (Module: DD) contains: Mod, Form, Active"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAUserTempCopy form?"
      },
      {
        "from": "gpt",
        "value": "The VAUserTempCopy form includes these fields: Name of source., Name(s) of destination., Copy Option., Copy Result Notification."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join ARTH with ARCM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join ARTH with ARCM, use:\n\n```sql\nFROM ARTH\nINNER JOIN ARCM\n  ON ARTH.CustGroup = ARCM.CustGroup AND ARTH.Customer = ARCM.Customer\n```\n\nThis pattern is used in the vrvARInvoiceDetails view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedAgreementVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an SM Agreement (and optional Revision) against a specific Work Order in Service Management, ensuring it matches the Work Order's company, customer, and group, and is activated. It retrieves the agreement description, resolves the active/current revision based on the `@AgainstCur` flag, and outputs the tax type override. Returns success (0) with populated outputs or an error message (1) if invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvAPRec_APLineDetail view?"
      },
      {
        "from": "gpt",
        "value": "The vrvAPRec_APLineDetail view (Module: AP) contains: APCo, Mth, APTrans, APLine, LineGrossAmt, DetailSum"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRTP with PRCT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRTP with PRCT, use:\n\n```sql\nFROM PRTP\nINNER JOIN PRCT\n  ON PRTP.PRCo = PRCT.PRCo AND PRTP.Craft = PRCT.Craft AND PRTP.Template = PRCT.Template\n```\n\nThis pattern is used in the vrvPRCraftClassHierarchy view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPPVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a batch of Job Cost Progress Payment (JCPP) entries in the JC module, checking for valid jobs (in bJCJM), phase groups (in bHQGP), and non-zero units before processing. It updates batch control status, clears prior errors, and logs new validation errors to bHQBE via cursor-based row-by-row checks. The process ensures data integrity for progress payment posting, returning errors if issues are found."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasGridParameters"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasGridParameters: ParamterId (int, not null); GridConfigurationId (int, nullable); Name (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQATDoesDocNameExist do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspHQATDoesDocNameExist checks if a specified document name exists in the HQAT table by counting matching DocName entries. It outputs the count via @docNameCount (and an unused @errorMessage) to indicate existence (count > 0). Used in Viewpoint Vista ERP to validate document name uniqueness before insertion or updates, preventing duplicates.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAFormButtons form?"
      },
      {
        "from": "gpt",
        "value": "The VAFormButtons form includes these fields: Form, Button ID, Button Text, Action Type, Button Action, Form Refresh, Width, Height, Top, Left"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARRelease do?"
      },
      {
        "from": "gpt",
        "value": "This SP releases retainage from open AR invoices for a specific customer (and optional JC job/contract) within an AR batch, aggregating open retainage (including tax) via cursor and distributing release either by input percentage or fixed dollar amount across qualifying invoices up to a bill-thru date. It validates inputs, calculates distributable amounts per invoice, and prepares for posting retainage release transactions (excluding prior 'R' types from AR sources). Output includes error messages for invalid scenarios like missing batch/customer data or zero release inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRateOverrideBaseRate"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRateOverrideBaseRate: LaborRate (bUnitCost, nullable); EquipmentMarkup (bUnitCost, nullable); MaterialMarkupOrDiscount (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viFact_HRAccident"
      },
      {
        "from": "gpt",
        "value": "Key columns in viFact_HRAccident: AccidentID (bigint, not null); HRCoID (bigint, nullable); HRRefID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMSCOTotal view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates financial totals for subcontract change orders (SubCO) linked to sales ledger (SL) entries, including original SL item costs/taxes (item types 1/4, excluding retainage), prior SL change amounts before the current SubCO, and PM-specific header amounts split into current, previously approved, and pending categories. It computes cumulative previous totals (SL priors + PM prev approved) and original totals for each SL-SubCO combination. Key transformations use OUTER APPLY for SL original/prior sums and LEFT JOIN for PM amounts, casting all to NUMERIC(18,2)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOJC table?"
      },
      {
        "from": "gpt",
        "value": "The bPOJC table (Module: PO) contains: VendorGroup, Vendor, MatlGroup, Category, JCCo, Job, PriceDisc, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMTrip table?"
      },
      {
        "from": "gpt",
        "value": "The vSMTrip table (Module: SM) contains: SMTripID, SMCo, WorkOrder, Trip, Description, Details, Status, ScheduledDate, EstimatedDuration, Technician, Notes, UniqueAttchID, DispatchSequence, VersionStamp, VersionUserName... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APClear form?"
      },
      {
        "from": "gpt",
        "value": "The APClear form includes these fields: Month, Batch ID, GL Co, Month, Trans#, Vendor name label, AP Reference, Invoice Date, Description, Gross"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vrvSMServiceSiteCustomer with SMServiceItems in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vrvSMServiceSiteCustomer with SMServiceItems, use:\n\n```sql\nFROM vrvSMServiceSiteCustomer\nINNER JOIN SMServiceItems\n  ON vrvSMServiceSiteCustomer.SMCo = SMServiceItems.SMCo AND vrvSMServiceSiteCustomer.ServiceSite = SMServiceItems.ServiceSite\n```\n\nThis pattern is used in the vrvSMInvoiceList view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides details on cleared AP transactions (Status=4), including clearing date, amount, and GL accounts resolved via effective payment type. Effective pay type prioritizes transaction line pay type f\n\nContext: Viewpoint Vista database, view vrvAPRec_APClear"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bAPTD.APCo,\n    bAPTD.Mth,\n    bAPTD.APTrans,\n    bAPTD.APLine,\n    bAPTD.APSeq,\n    bAPTD.PaidMth,\n    bAPTD.PaidDate AS ClearDate,\n    bAPTD.Amount,\n    bAPPT.GLCo,\n    bAPPT.GLAcct,\n    bAPTD.PayType\nFROM dbo.bAPTD\nJOIN dbo.bAPTL\n    ON bAPTL.APCo = bAPTD.APCo\n    AND bAPTL.Mth = bAPTD.Mth\n    AND bAPTL.APTrans = bAPTD.APTrans\n    AND bAPTL.APLine = bAPTD.APLine\nCROSS APPLY (SELECT CASE WHEN bAPTD.ReleaseBatchMonth IS NOT NULL THEN bAPTL.PayType ELSE bAPTD.PayType END AS CurrentPayType) c\nJOIN dbo.bAPPT\n    ON bAPPT.APCo = bAPTD.APCo\n    AND bAPPT.PayType = c.CurrentPayType\nWHERE bAPTD.[Status] = 4;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCMClearGridFill do?"
      },
      {
        "from": "gpt",
        "value": "This SP populates a grid with uncleared/cleared bank transactions (checks, deposits, adjustments, transfers) from a specific bank account for reconciliation review. It dynamically filters by transaction type, date range (statement date through display-thru date), cleared status, and outstanding items, adjusting amounts for debit/credit display (negating checks) and flagging voids or payroll-paid checks. Output includes an error message if the statement date is invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY142 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates New York State resident personal income tax withholding for payroll. It annualizes subject wages (after allowances and standard deductions for single/married status), applies progressive tax brackets to determine the marginal rate and base tax addition, and outputs the withholding amount (@amt) or error message (@msg). Defaults to single status and validates pay periods per year."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Phase D: SQL Quality?"
      },
      {
        "from": "gpt",
        "value": "- [ ] WITH (NOLOCK) on all tables\n- [ ] Views not base tables (APTH not bAPTH)\n- [ ] No schema prefixes (APTH not dbo.APTH)\n- [ ] SQL syntax valid (no self-joins, etc.)\n```\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Meeting Distribution\n\nContext: Viewpoint Vista database, view PMMD"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMMD.*\nFROM dbo.bPMMD\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMMD.Project, bPMMD.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBIDGrid view?"
      },
      {
        "from": "gpt",
        "value": "The JBIDGrid view (Module: JB) contains: JBCo, BillMonth, BillNumber, Line, Seq, Source, CostType, Category, Description, UM, Units, UnitPrice, ECM, Hours, SubTotal... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGenerateAgreementPeriodicInvoice do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a periodic invoice for a specific Service Management (SM) agreement billing schedule, updating tax calculations and creating SMInvoice records (header, details, lines) linked to AR for customer billing. It handles agreement-specific billing amounts, taxes, customer bill-to details, and session tracking, producing a draft invoice ready for review or posting. Core logic automates recurring service contract invoicing based on predefined schedules."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDDTValShared do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves shared configuration for a specified datatype from the DDDTShared table in Viewpoint Vista ERP, outputting lookup table, setup form, report lookup, and input type values. It validates the input datatype, queries the table using NOLOCK, and sets an error message if the datatype is null or not found, returning a success code of 0 or 1. It supports standardized datatype handling for dropdowns, forms, and reports across the system.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRMyTimesheetReviewerVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Modified:  BH 12/16/2015 TFS-162123 Require\n> Create date: 8/5/09\n> Description:\tValidation for Reviewer field in PR My Timesheet Approval form\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPVH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPVH: APCo (bCompany, not null); VendorGroup (bGroup, not null); Vendor (bVendor, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspRPReportTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "> validates Report type pass in ReportType returns Description\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join e with DMAttachmentAuditLog in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join e with DMAttachmentAuditLog, use:\n\n```sql\nFROM e\nINNER JOIN DMAttachmentAuditLog\n  ON e.AttachmentID = DMAttachmentAuditLog.AttachmentID\n```\n\nThis pattern is used in the vrvDMAttachmentAuditLog view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join DDTF with DDTD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join DDTF with DDTD, use:\n\n```sql\nFROM DDTF\nINNER JOIN JOIN DDTD\n  ON DDTF.FolderTemplate = DDTD.FolderTemplate\n```\n\nThis pattern is used in the vrvDDTemplateDetail view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from EMMR.\n\nContext: Viewpoint Vista database, view brvEMMR"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMCo,\n    Mth,\n    EMTrans,\n    BatchId,\n    InUseBatchID,\n    Source,\n    Equipment,\n    PostingDate,\n    CAST(LEFT(CONVERT(CHAR(8), ReadingDate, 112), 6) + '01' AS datetime) AS ReadingDateMth,\n    ReadingDate,\n    PreviousHourMeter = CurrentHourMeter-[Hours],\n    CurrentHourMeter,\n    PreviousTotalHourMeter=CurrentTotalHourMeter-[Hours],\n    CurrentTotalHourMeter,\n    [Hours],\n    PreviousOdometer=CurrentOdometer-Miles,\n    CurrentOdometer,\n    PreviousTotalOdometer=CurrentTotalOdometer-Miles,\n    CurrentTotalOdometer,\n    Miles\nFROM dbo.EMMR WITH(nolock);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCPBCurrEstPlusIncl view?"
      },
      {
        "from": "gpt",
        "value": "The JCPBCurrEstPlusIncl view (Module: JC) contains: Co, Mth, BatchId, BatchSeq, CurrEstPlusInclCosts, CurrEstPlusInclUnits, CurrEstPlusInclHours"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAMemberRole form?"
      },
      {
        "from": "gpt",
        "value": "The VAMemberRole form includes these fields: User Name, Role, Active, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bGLRA table?"
      },
      {
        "from": "gpt",
        "value": "The bGLRA table (Module: GL) contains: Co, Mth, BatchId, Jrnl, GLRef, GLAcct, BatchSeq, OldNew, OrigMonth, OrigGLTrans, Description, Amount, ActDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRResourceMasterLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an input HR company code (@hrco) and loads configuration settings from HRCO and HQCO tables into output parameters. It retrieves flags controlling updates to resource master fields (e.g., name, address, hire/term dates, active status, timecard, W4, occupation, SSN) and defaults like payroll company and country. Used in HR resource master loading workflows to enforce company-specific update rules and ensure data integrity.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRWT view?"
      },
      {
        "from": "gpt",
        "value": "The PRWT view (Module: PR) contains: PRCo, TaxYear, State, LocalCode, DednCode, Description, Initialize, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSSRSGetSysAdminFormNames do?"
      },
      {
        "from": "gpt",
        "value": "> ==============================================================================\n> Author:   Chris Crewdson\n> Create date: 2012-05-18\n> Description: This is the list of forms that means the user given access\n> should be set as an SSRS Admin\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PO PM Header\n\nContext: Viewpoint Vista database, view POHDPM"
      },
      {
        "from": "gpt",
        "value": "SELECT POHD.JCCo AS [PMCo], POHD.Job AS [Project], POHD.*\nFROM dbo.POHD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployerFBT"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployerFBT: PRCo (bCompany, not null); TaxYear (char, not null); ContactSurname (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Allowances Locator\n\nContext: Viewpoint Vista database, view PRAllowanceType"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAllowanceType.*\nFROM dbo.vPRAllowanceType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCOwners"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCOwners: VendorGroup (bGroup, not null); Vendor (bVendor, not null); Seq (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJobAnalysisPhase view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates labor hours and direct costs for job phases, comparing original estimates, approved/pending changes, actuals, projections, and commitments to highlight variances like hours to complete, cost over/under, and efficiency rates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMTC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMTC: PMCo (bCompany, not null); Project (bJob, not null); Transmittal (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMImportAlter do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a temporary import table (likely for Inventory Management data) by checking if its last column contains unique, non-null, numeric values suitable as a key. If valid, it dynamically adds a `KeyCol` NUMERIC(18,0) column to the table to serve as a surrogate unique identifier. This enables safe processing of imports without primary key conflicts."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMPartsCopy do?"
      },
      {
        "from": "gpt",
        "value": "This SP copies the parts list (from bEMEP) from a source equipment (@mainequip) to a range of target equipment IDs (@begEquip to @endEquip when @ce='E') or all equipment in a category (@catagory when @ce≠'E'), within a company (@emco). It supports append mode (skips existing parts to avoid duplicates) or replace mode (@appendreplace='R', deletes non-source parts first). Returns error messages via @errmsg for invalid inputs like null @emco or @mainequip."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY152 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New York State (NYS) income tax withholding for payroll based on annualized wages, adjusted for filing status (single/married), exemptions, pay periods per year, and residency. It applies progressive tax brackets to determine the withholding rate, bracket base, and tax addition, outputting the per-pay-period tax amount (@amt) and any error messages (@msg). Returns 0 for no tax due or 1 for validation errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMServiceItemVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a serviceable item (equipment or asset) in Service Management by confirming its existence for a specific SM Company and Service Site, retrieving key attributes (Class, Type, Manufacturer, Model, SerialNumber, Active status), and optionally verifying compatibility with a service agreement entity based on class maintenance rules. It enforces setup requirements and returns error messages for invalid inputs or missing configurations. If valid, it populates OUTPUT parameters for use in downstream processes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYY16 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates New York State income tax withholding for payroll based on an employee's gross subject pay amount, annualized over pay periods, adjusted for filing status (single/married), exemptions, and residency. It applies a progressive tax bracket system with hardcoded 2016-era rates, deductions, and allowances to determine the per-pay-period tax amount output in `@amt`. Error handling includes validation for pay periods and zero/negative wages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRTE"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRTE: PRCo (bCompany, not null); Craft (bCraft, not null); Class (bClass, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPReportsByFormVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tGabriel Piltzer\n> Create date: 04/21/2014\n> Modified:\t05/15/2014 TFS-83749 Must be crystal report or publish fails building as pdf\n> 06/11/2014 TFS-78424 Changed out RPFRShared for function\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPOCONumVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a specific Purchase Order Change Order (POCO) number for a given company and PO in Viewpoint Vista's PM/PO modules. It confirms the POCO exists in PMPOCO and is not already approved (via sub-procedure check), setting @Approved='N' and success (rcode=0) if modifiable, or error message/rcode=1 otherwise. Enables safe modification of unapproved POCO records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvAPTL_DistinctPO view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from APTL."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vcpSMWForecast do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a pivoted forecast report for job costs on service/warranty contracts within a contract range, aggregating current estimated costs, actual costs through the current month, and projected costs across a 13-month window (-5 to +7 months relative to @CurrentMonth). It structures data by Job, PhaseGroup, Phase, and CostType from JCCD, with monthly projections likely from a detail table (e.g., forecast commitments), enriched with descriptions from job/phase/cost masters and company info. The @ThroughMth parameter likely extends actual cost calculations or filters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPR_AU_UnderPreservationAgeYN do?"
      },
      {
        "from": "gpt",
        "value": "> CREATED BY: EN 3/07/2013 TFS-39860\n> MODIFIED BY:\n> -- USAGE:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJCDashboardSubcontract view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJCDashboardSubcontract view (Module: JC) contains: JCCo, Job, PhaseGroup, Phase, CostType, BuyOutYN, Estimated, CommittedAmt, UnassignedAmt, RecType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APUI view?"
      },
      {
        "from": "gpt",
        "value": "AP Unapproved Invoice"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedTaxTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the appropriateness of a selected tax type (sales tax, use tax, or VAT) for a specific line item on a Service Management (SM) Work Completed transaction. It evaluates context like billable status, material/labor classification, cost type category, and tax overrides to enforce tax compliance rules, outputting an error message via @msg if the tax type is invalid (e.g., no sales tax on non-billable items). It supports accurate tax application during service work invoicing or completion entry."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVAVPUserRenameSSRS"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVAVPUserRenameSSRS: Id (int, not null); RenameBatchID (int, not null); NewUserName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMCustomerSiteAttchTypeHeader form?"
      },
      {
        "from": "gpt",
        "value": "The SMCustomerSiteAttchTypeHeader form includes these fields: Entity Sequence"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VASecurityByForm"
      },
      {
        "from": "gpt",
        "value": "Key columns in VASecurityByForm: Mod (char, nullable); ModTitle (varchar, nullable); Form (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPTYc"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPTYc: ReportType (varchar, not null); Description (varchar, nullable); Active (bYN, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedValidate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 9/27/2012\n> Description:\tValidates SM WorkCompleted changes.\n> Modified:\tJVH 9/4/13 - TFS-60406 Refactor capturing costs for SM\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Allocation Codes\n\nContext: Viewpoint Vista database, view JCAC"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCAC.*\nFROM dbo.bJCAC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvSMWorkOrderDispatchNoStatus view?"
      },
      {
        "from": "gpt",
        "value": "Provides service work orders with associated site details, a computed priority (maximum scope priority if exactly one scope exists, otherwise zero), and an on-hold indicator (Y if any scope is held with status 2). Supports dispatch reporting by excluding full status filtering while highlighting single-scope priorities and hold conditions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What's the difference between b-prefixed and non-prefixed tables?"
      },
      {
        "from": "gpt",
        "value": "In Viewpoint Vista:\n- b-prefixed tables (bAPTH) are base/physical tables used for data modification\n- Non-prefixed names (APTH) are views built on base tables\n- Always use views for SELECT queries (better performance, security)\n- Use base tables only when inserting/updating data"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCOO983 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRCOO983 calculates the eligible amount (@eligamt) or fixed deduction amount (@amt) for a payroll deduction based on cumulative eligible earnings against a configured limit for an employee in a specific pay group and period. It retrieves deduction details (type, rate, limit) and pay period limit months, sums prior eligible and deducted amounts from matching payroll detail records (skipping if prior deduction exists this period), adds the current subject amount (@subjamt), and applies logic to prorate eligibility if crossing the limit or set full rate if exceeded. Used in payroll processing to enforce earnings-based deduction limits over multiple periods defined by LimitMth, ensuring compliance with setup rules and outputting errors if data is missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMChangeOrdersACO form?"
      },
      {
        "from": "gpt",
        "value": "The PMChangeOrdersACO form includes these fields: PCO Revenue Total, PCOPhaseCost + PCOAddonCost, Pending Profit, Approved Reveune, Approved Cost, Approved Profit, ACO, Description, Issue, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Account Part Instances\n\nContext: Viewpoint Vista database, view GLPI"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLPI.*\nFROM dbo.bGLPI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCompanyValWithGLCoPhaseGroupGLOverride do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specified JC Company (JCCo) and retrieves its associated GL Company code, GL cost override flag, and phase group for use in Viewpoint Vista ERP job costing workflows. It first verifies the input JCCo is provided and valid by calling bspJCCompanyVal, then queries bJCCO for GLCo and GLCostOveride, and bHQCO for PhaseGroup, outputting any error messages via parameters. Primarily used to ensure JC Company integrity while fetching GL integration and phasing settings for downstream business processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NLT102 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_NLT102 calculates the per-pay-period tax amount (output as @calcamt) for Canadian (likely Quebec) payroll withholding based on annual income (@A) and parameters like pay periods (@ppds), CPP/EI contributions, and credits. It determines the applicable provincial tax rate (7.7%-13.3%) and base deduction (@KP) from income brackets, subtracts credits for TCP (@K1P), CPP/EI (@K2P), other (@K3P), and limited capital stock (@LCP up to 2000), yielding net tax (T2) divided by pay periods. Used in Viewpoint Vista ERP payroll to compute accurate periodic withholdings while handling maximums and defaults for compliance.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RQReviewerQuotes form?"
      },
      {
        "from": "gpt",
        "value": "The RQReviewerQuotes form includes these fields: Reviewer, Quote Header ID, Quote Line ID, Quote Review Status, Quote Status, Material, Description, ShipLoc, Vendor, VendorMatlId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vAuditFlagTables.\n\nContext: Viewpoint Vista database, view AuditFlagTables"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vAuditFlagTables;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBTandMGetEquipRate do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves equipment rental/usage rates for Time & Materials (T&M) billing from billing equipment rate overrides (bJBER), using a hierarchical fallback lookup prioritizing exact matches on company, template, EM company/group, category, equipment, and revenue code. Adjusts the rate to use a \"NewRate\" if the actual date meets or exceeds an effective date threshold, and fetches hours per time unit from equipment rate codes (bEMRC). Outputs the rate, rate option, hours per UM, or an error message if no matching rate is found."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMEM table?"
      },
      {
        "from": "gpt",
        "value": "The bEMEM table (Module: EM) contains: EMCo, Equipment, Location, Type, Department, Category, Manufacturer, Model, ModelYr, VINNumber, Description, Status, OdoReading, OdoDate, ReplacedOdoReading... (103 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSTX"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSTX: MSCo (bCompany, not null); Mth (bMonth, not null); MSTrans (bTrans, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSTH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSTH: MSCo (bCompany, not null); PriceTemplate (smallint, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Project Managers\n\nContext: Viewpoint Vista database, view JCMP"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCMP.*\nFROM dbo.bJCMP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_AU_RDOAccrualDaily do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates daily Rostered Day Off (RDO) accrual hours and amount for Australian payroll in Viewpoint Vista ERP. It identifies qualifying weekdays (non-weekends) where summed ordinary hours from subject earn codes exceed a configurable threshold per post date, counts such days, and outputs negative hours as (daily RDO hours * count) along with the monetary amount at the specified rate. Used during payroll processing to accrue RDO liabilities based on worked hours thresholds from bPRRM configuration.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in POCO: POCo (bCompany, not null); AutoPO (bYN, not null); LastPO (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMMOTotal"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMMOTotal: INCo (bCompany, not null); MO (varchar, not null); MOTotal (numeric, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGrantKeyStyleRoleAndPerms do?"
      },
      {
        "from": "gpt",
        "value": "This SP configures secure database permissions for the 'KDSServiceRole' used by KeyStyle integration in Viewpoint Vista ERP. It creates the role if missing, adds it to db_datareader for baseline read access, and dynamically grants targeted INSERT, UPDATE, DELETE, or EXECUTE permissions on objects listed in the vVPKeyStyleGrants view. This enables KeyStyle services to access specific Vista tables/views/procedures (likely for data synchronization or reporting) without broad privileges."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RPRTBIReport view?"
      },
      {
        "from": "gpt",
        "value": "This view lists BI-designated reports from the RPRT table, joined to DDMO for activity status where the module is 'BI', and filters to include only SQL Reporting Services, OLAPReport application types, or reports located in 'BI'. It transforms the data by hardcoding the module as 'BI' and flagging all results as BI reports."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMPartType view?"
      },
      {
        "from": "gpt",
        "value": "The SMPartType view (Module: SM) contains: SMPartTypeID, SMCo, SMPartType, Description, UniqueAttchID, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMSaveQuickReferenceSettings do?"
      },
      {
        "from": "gpt",
        "value": "> CREATED: Aaron Hampshire, 12/14/2017 DESCRIP: Saves settings from user's Quick Reference form settings.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMTLDesc do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMTLDesc stored procedure retrieves the description for a specific test code from the PMTL table in Viewpoint Vista ERP's project management module. It accepts company, project, test type, and test code parameters, outputting the matching Description to @msg only if test code is provided, otherwise setting @msg to empty. Used to fetch human-readable test or material line descriptions for reporting or validation in construction/project accounting workflows, it performs a simple conditional SELECT with NOLOCK and returns success code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMDHSubmittal view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from PMDH."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCProductionCalcs"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCProductionCalcs: JCCo (bCompany, not null); Job (bJob, not null); Phase (bPhase, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMDB view?"
      },
      {
        "from": "gpt",
        "value": "The EMDB view (Module: EM) contains: EMCo, Department, EMGroup, RevBdownCode, GLCo, GLAcct, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPRInsJob view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates payroll insurance data by job, phase, employee, pay period, and insurance code, pulling liability amounts from transaction lines, timecard earnings, straight-time equivalent (STE) earnings/hours via earnings code factors, and addon earnings with variable straight-time rates. Uses UNION ALL to handle cases with/without liability lines and direct insurance allocations. Supports job-level insurance cost reporting including state-specific codes and service management scopes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRILT18 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRILT18 calculates Illinois state income tax withholding for a 2018 pay period using an annualization method. It annualizes the subject pay amount by multiplying by pay periods per year, subtracts fixed allowances ($2000 per regular exemption, $1000 per additional), applies a flat 4.95% rate to the taxable income (floored at zero), and divides by pay periods to yield the per-period tax amount (also floored at zero). Used in payroll systems for accurate IL tax deductions, it returns an error message and code 1 if pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the IMPRGroup form?"
      },
      {
        "from": "gpt",
        "value": "The IMPRGroup form includes these fields: ImportId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRCL view?"
      },
      {
        "from": "gpt",
        "value": "The HRCL view (Module: HR) contains: HRCo, Accident, Seq, ContactSeq, Date, ClaimContact, ClaimSeq, Witness, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_EMScheduledMaintenance view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_EMScheduledMaintenance view (Module: EM) contains: EMCo, EMCoID, Equipment, EquipmentDescription, StdMaintGrp, StdMaintItem, AsOfMonthID, EquipStatusDesc, Department, Category, OdometerReading, VINNumber, JCCo, Job, HourReading... (30 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPMVendorRegister view?"
      },
      {
        "from": "gpt",
        "value": "Compiles subcontract ledger (SL) transactions into a vendor register for project management, unioning data from headers, pending PM entries, items, and SCO totals to track original amounts with tax, placeholders for changes/invoices, and compliance flags."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APVA view?"
      },
      {
        "from": "gpt",
        "value": "AP Vendor Activity By Month"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMRequiredEquipment view?"
      },
      {
        "from": "gpt",
        "value": "The SMRequiredEquipment view (Module: SM) contains: SMRequiredEquipmentID, SMCo, EntitySeq, Seq, Task, EMCo, EMGroup, Category, EquipQty, RevCode, RevQty, CostRate, UniqueAttchID, Notes, StandardTaskFlag... (25 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Monthly Revenue\n\nContext: Viewpoint Vista database, view EMAR"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMAR.*\nFROM dbo.bEMAR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMComponentTypes form?"
      },
      {
        "from": "gpt",
        "value": "The EMComponentTypes form includes these fields: EMGroup, EMComponentType, Description, CostCode, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMGroupGetAlloc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the EM Group from the HQCO table and GL Company from the EMCO table for a specified EM Company (@emco), outputting them via @EMGroup and @GLCo parameters. It validates the EM Company's existence in EMCO and HQCO, setting error messages in @msg and a non-zero return code if the company is missing, null, or not configured. Used in Viewpoint Vista ERP's Equipment Management module to fetch allocation configuration data for processing EM-related transactions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFGetNFGrouping do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tCC\n> Create date: 3/5/2008\n> Description:\tRetrieves grouping information for notifier jobs\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the MSDX view?"
      },
      {
        "from": "gpt",
        "value": "MS Discount Defaults"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSMA"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSMA: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in UDTC"
      },
      {
        "from": "gpt",
        "value": "Key columns in UDTC: TableName (varchar, not null); ColumnName (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCOverridesRevenue form?"
      },
      {
        "from": "gpt",
        "value": "The JCOverridesRevenue form includes these fields: Contract, Previous Override Projection, Future CO Amounts, Current Contract Amount, Adjustment Amount, New Override Projection, Other Costs, Revenue Override Notes, Revenue Projection Amount, Included CO Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMCallTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 7/14/10\n> Description:\tValidation for SM call types\n> Modified: 07/16/10 - Switched @SMCompanyID to @SMCo. Added @MustExist param.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMMC table?"
      },
      {
        "from": "gpt",
        "value": "The bEMMC table (Module: EM) contains: EMCo, Equipment, EMGroup, CostCode, CostType, Month, ActUnits, ActCost, EstUnits, EstCost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBLX view?"
      },
      {
        "from": "gpt",
        "value": "The JBLX view (Module: JB) contains: JBCo, LaborCategory, Seq, RestrictByCraft, Craft, RestrictByClass, Class, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPRInsert do?"
      },
      {
        "from": "gpt",
        "value": "This SP synchronizes employee deduction/withholding records between Payroll (PR) and HR modules by inserting or updating deduction details (e.g., filing status, exemptions, misc. amounts) in the target module. For `@source='PR'`, it copies from PR's PRED table to HR's HRWI table via HR employee mapping in bHRRM. For `@source='HR'`, it maps from HRRM (SQL truncated, implying reverse sync)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPOCT_DistinctPO"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPOCT_DistinctPO: POCo (bCompany, not null); PO (varchar, not null); Complied (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APOnCostGroupsForLookup view?"
      },
      {
        "from": "gpt",
        "value": "The APOnCostGroupsForLookup view (Module: AP) contains: APCo, GroupID, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_FWT_R10_16 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Canadian Federal Withholding Tax (FWT) for payroll employees under 2010-2016 tax rules (R10_16), annualizing pay (@ppds * @calcbasis minus deductions like @HD and @F1) to determine taxable income (@A output), applying progressive federal tax brackets (15%-33%), and subtracting credits for tax credits (@TC), CPP (@PP), EI (@EI), QPIP (@QPIP), and others to compute the final withholding amount (@calcamt output). It handles provincial variations (e.g., QC for QPIP) and special cases like non-resident aliens. Errors are returned via @msg if inputs like pay periods are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides queued payroll payment transactions including employee details, pay period information, earnings, deductions, SUI earnings, and check management references for batch tax liability reporting. \n\nContext: Viewpoint Vista database, view brvPRSQforTaxLiab"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRCo,\n    PRGroup,\n    PREndDate,\n    Employee,\n    PaySeq,\n    CMCo,\n    CMAcct,\n    PayMethod,\n    CMRef,\n    CMRefSeq,\n    EFTSeq,\n    ChkType,\n    PaidDate=CASE WHEN PayMethod='X' AND PaidDate IS NULL THEN PREndDate ELSE PaidDate END,\n    PaidMth,\n    Hours,\n    Earnings,\n    Dedns,\n    SUIEarnings,\n    PostToAll,\n    Processed,\n    CMInterface\nFROM PRSQ;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalControlButtons"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalControlButtons: PortalControlID (int, not null); ButtonID (int, not null); SuccessMessageID (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMAttachmentsPastRetentionTime do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJonathanP\n> Create date: 04/14/09\n> MOdified:  JayR 6/10/2019 VTFS-1161847 Change to local temp table from global temp\n> Description:\tThis procedure will return a result set containing all the IDs\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APFT view?"
      },
      {
        "from": "gpt",
        "value": "The APFT view (Module: AP) contains: APCo, VendorGroup, Vendor, YEMO, V1099Type, Box1Amt, Box2Amt, Box3Amt, Box4Amt, Box5Amt, Box6Amt, Box7Amt, Box8Amt, Box9Amt, Box10Amt... (38 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQFC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQFC: Frequency (bFreq, not null); Description (bDesc, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDGridGroupingColumn"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDGridGroupingColumn: Column (varchar, not null); Order (tinyint, not null); FormID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMServiceItemClassMaintenance"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMServiceItemClassMaintenance: ServiceItemClassMaintenanceID (int, not null); SMCo (bCompany, not null); ServiceSite (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPOMaxMatUC"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPOMaxMatUC: MatlGroup (bGroup, not null); Material (bMatl, nullable); MaxUnitCost (bUnitCost, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARJCCompanyValWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Job Cost Company (JCCo) and retrieves configuration settings for GL overrides, posting to closed/soft-closed jobs, and the associated GL company from the bJCCO table. It is used in Viewpoint Vista ERP's AR/JC modules to ensure company validity before posting or financial operations, providing essential flags via output parameters. Key operations include input validation, calling bspJCCompanyVal, querying bJCCO, and setting error messages/return codes.\n\nThis stored procedure validates a Job Cost Company (JC Company) and retrieves its configuration settings for GL overrides, posting options on closed/soft-closed jobs, and the associated GL company. It is used in Viewpoint Vista's AR module to ensure JC Company validity before AR-related operations reliant on these settings. Key operations include input validation, calling bspJCCompanyVal, and selecting values from the bJCCO table to populate output parameters.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Template Prices\n\nContext: Viewpoint Vista database, view MSTP"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSTP.*\nFROM dbo.bMSTP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bGLPD table?"
      },
      {
        "from": "gpt",
        "value": "The bGLPD table (Module: GL) contains: GLCo, PartNo, Description, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCRD table?"
      },
      {
        "from": "gpt",
        "value": "The bJCRD table (Module: JC) contains: JCCo, RateTemplate, Seq, PRCo, Craft, Class, Shift, EarnFactor, Employee, OldRate, NewRate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCHCContractVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspJCHCContractVal stored procedure validates a contract number for a given company (JCCo) in Viewpoint Vista ERP, ensuring it is not null and has not been previously purged. It checks for null input and existence in the bJCHC table (purged contracts), setting an error message in the output parameter and returning a non-zero code if validation fails. This is used prior to contract creation or related operations to maintain data integrity and prevent reuse of purged contracts.\n\nThe bspJCHCContractVal stored procedure validates a contract number for a given company (JCCo) prior to processing, such as purging. It checks if the contract is null or already exists in the bJCHC table (indicating prior purge), setting an output error message and return code 1 if invalid. If both checks pass, it returns success code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Document.vDocumentV6TableRow table?"
      },
      {
        "from": "gpt",
        "value": "The Document.vDocumentV6TableRow table (Module: Other) contains: DocumentV6TableRowId, DocumentId, TableName, TableKeyId, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Auto Usage Templ Category\n\nContext: Viewpoint Vista database, view EMUC"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMUC.*\nFROM dbo.bEMUC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Required Material\n\nContext: Viewpoint Vista database, view SMRequiredMaterial"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMRequiredMaterial.*\nFROM dbo.vSMRequiredMaterial;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides complete vendor personnel contact records with a computed full contact name from individual name fields and joined overridden mailing address details.\n\nContext: Viewpoint Vista database, view PMPMTest"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PMPM.*,\n    'FullContactName' = ltrim(rtrim(isnull(PMPM.FirstName,''))) + ' ' + ltrim(rtrim(isnull(PMPM.MiddleInit,''))) + ' ' + ltrim(rtrim(isnull(PMPM.LastName,''))),\n    PMPMOvrdAddr.OvrdMailAddress,\n    PMPMOvrdAddr.OvrdMailAddress2,\n    PMPMOvrdAddr.OvrdMailCity,\n    PMPMOvrdAddr.OvrdMailState,\n    PMPMOvrdAddr.OvrdMailZip,\n    PMPMOvrdAddr.OvrdMailCountry\nFROM dbo.PMPM\nJOIN dbo.PMPMOvrdAddr ON PMPMOvrdAddr.VendorGroup=PMPM.VendorGroup AND PMPMOvrdAddr.FirmNumber=PMPM.FirmNumber AND PMPMOvrdAddr.ContactCode=PMPM.ContactCode;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvPRPAYGEmployerATOSuperItems view?"
      },
      {
        "from": "gpt",
        "value": "The vrvPRPAYGEmployerATOSuperItems view (Module: PR) contains: RecID, PRCo, TaxYear, ItemCode, EDLType, EDLCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPCanvasGridSettingsTemplate table?"
      },
      {
        "from": "gpt",
        "value": "The vVPCanvasGridSettingsTemplate table (Module: VP) contains: KeyID, PartId, QueryName, GridLayout, Sort, MaximumNumberOfRows, ShowFilterBar, QueryId, GridType, ShowConfiguration"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides Equipment Management companies mapped to General Ledger companies with fiscal periods and years where the period month falls within the fiscal year's begin and end months. Enables alignment o\n\nContext: Viewpoint Vista database, view brvEMGLFiscalPeriods"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMCO.EMCo,\n    EMCO.GLCo,\n    GLMth=GLFP.Mth,\n    GLFP.FiscalPd,\n    GLFP.FiscalYr,\n    GLFY.BeginMth,\n    GLFY.FYEMO\nFROM EMCO\nJOIN GLFP ON GLFP.GLCo=EMCO.GLCo\nJOIN GLFY ON GLFY.GLCo=GLFP.GLCo AND GLFP.Mth BETWEEN GLFY.BeginMth AND GLFY.FYEMO;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMBC"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMBC: SMBCID (bigint, not null); SMCo (bCompany, not null); PostingCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkCompletedProvDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkCompletedProvDetail form includes these fields: Process, Line Type, Service Site, Customer, JCCo, Job, Work Order, Scope, Date, Post Month"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SL Inclusions/Exclusions\n\nContext: Viewpoint Vista database, view SLInExclusions"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vSLInExclusions.*\nFROM dbo.vSLInExclusions;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vReportSettings"
      },
      {
        "from": "gpt",
        "value": "Key columns in vReportSettings: CompanyID (tinyint, not null); ReportSection (varchar, nullable); FontStyle (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SLIT with JCCmtd in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SLIT with JCCmtd, use:\n\n```sql\nFROM SLIT\nINNER JOIN JCCmtd\n  ON SLIT.SLCo = JCCmtd.APCo AND SLIT.SL = JCCmtd.SL AND SLIT.SLItem = JCCmtd.SLItem\n```\n\nThis pattern is used in the vrvJCCommittedCost view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMDP"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMDP: EMCo (bCompany, not null); Equipment (bEquip, not null); Asset (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptJCUnitCostDrillDown do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a detailed drill-down report for Job Cost (JC) unit costs, aggregating original/current contract amounts/units/prices, billed/received amounts, original/current/projected/actual estimates (hours/units/costs), and transaction details by contract, item, phase, and cost type. It populates a temp table (#JCUnitCost) with summarized data from JC tables for analysis of cost variances at granular levels. The report supports unit-price tracking and performance metrics across job phases."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_isundersourcecontrol_u do?"
      },
      {
        "from": "gpt",
        "value": "> 0 => Just check project; 1 => get list of objs\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Notification Status Codes\n\nContext: Viewpoint Vista database, view WFStatusCodes"
      },
      {
        "from": "gpt",
        "value": "SELECT vWFStatusCodes.*\nFROM dbo.vWFStatusCodes;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in BITargetDDFILookup"
      },
      {
        "from": "gpt",
        "value": "Key columns in BITargetDDFILookup: Seq (int, nullable); ViewName (varchar, nullable); ColumnName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Intercompany Accounts\n\nContext: Viewpoint Vista database, view GLIA"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLIA.*\nFROM dbo.bGLIA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR W2 State Misc Emp Items\n\nContext: Viewpoint Vista database, view PRW2MiscDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRW2MiscDetail.*\nFROM dbo.bPRW2MiscDetail\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurityPayrollEmployee(bPRW2MiscDetail.Employee, bPRW2MiscDetail.PRCo))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRGL view?"
      },
      {
        "from": "gpt",
        "value": "The PRGL view (Module: PR) contains: PRCo, PRGroup, PREndDate, Mth, GLCo, GLAcct, Employee, PaySeq, Amt, OldAmt, Hours, OldHours"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEMTax view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view provides equipment management cost details enriched with hierarchical tax information, distinguishing base and local tax codes via links for multi-level taxes. It calculates the applicable tax company, GL account, and date-effective tax rate based on transaction actual date versus tax effective dates. Equipment, company, and transaction context supports detailed tax breakdown for reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPVC table?"
      },
      {
        "from": "gpt",
        "value": "The bAPVC table (Module: AP) contains: APCo, VendorGroup, Vendor, CompCode, Verify, ExpDate, Complied, Memo, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vHQBatchDistribution table?"
      },
      {
        "from": "gpt",
        "value": "The vHQBatchDistribution table (Module: HQ) contains: HQBatchDistributionID, Co, Mth, BatchId, InterfacingCo, IsReversing, DistributionXML, BatchSeq, Line, Posted"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCACOSeqVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the uniqueness of an ACO Sequence for a specific Job and Company in Viewpoint Vista's Job Cost (JC) and Project Management (PM) modules. It checks JCOH and PMOH tables to ensure the sequence does not already exist for the same Job/Project but a different ACO, preventing duplicate sequences that could cause accounting or cost allocation errors. If valid, it returns success (rcode=0); otherwise, it sets an error message and rcode=1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPhaseSelectCopy do?"
      },
      {
        "from": "gpt",
        "value": "This SP copies selected phases from a specified phase group to a project in the PM (Project Management) module, integrated with JC (Job Cost). It validates inputs like PM company, project, and phase group; fetches cost types, contract details, and ensures a contract item exists; then parses comma-separated phase lists (@phaselist1/2/3) to process and duplicate phase data (likely into tables like JCPM/JCPC for phase masters/costs)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCPPJCCD"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCPPJCCD: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMCheckRecordSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This SP verifies a user's security access to a specific record (identified by @keystring) in a Vista table (@hqattable) or its linked tables, returning an error if access is denied despite the record existing. It traverses a hierarchy of linked tables (via vDDLT) for attachments/documents, checking for records with UniqueAttchID where direct access fails. Ensures data security by blocking unauthorized views/edits of sensitive construction records like job documents or invoices."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PREmplTermPaymentHeader form?"
      },
      {
        "from": "gpt",
        "value": "The PREmplTermPaymentHeader form includes these fields: VP User Name, Separation Begin Date, Separation End Date, PR Group, Process All Employees YN, RedundancySetupYN, AnualLeaveSetupYN, LieuOfNoticeSetupYN, LongServiceSetupYN, PRCOGLCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQAFGet do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQAFGet stored procedure retrieves a specified chunk of binary attachment data from the HQAF table for a given AttachmentID, supporting partial reads via optional offset and length parameters. It defaults offset to 1 if null or zero, sets length to the full AttachmentData size if null or -1, and returns the substring of the VARBINARY(MAX) data plus a 'LastPacket' flag ('Y' if complete, 'N' otherwise). Used in Viewpoint Vista ERP to efficiently stream large attachments, avoiding memory overload when fetching files in applications like document management or reporting.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RQQL"
      },
      {
        "from": "gpt",
        "value": "Key columns in RQQL: RQCo (bCompany, not null); Quote (int, not null); QuoteLine (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMMeterReadingAdjPreviousNextGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves the immediately preceding (\"previous\") and following (\"next\") meter readings for a specific equipment item and meter type (Hours 'H' or Odometer 'O') relative to a provided start/end date range and transaction. It outputs key details like dates, meter values, replaced/total meters, and next difference to support accurate adjustments, ensuring continuity in equipment usage tracking. Used to contextualize adjustments by identifying adjacent historical readings from the EMMR table."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pContacts"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pContacts: ContactID (int, not null); SiteID (int, not null); Site (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPMenuGetModuleForms do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a curated list of active, licensed, and user-accessible forms (screens/windows) for a specified Viewpoint Vista module, including localized titles, icons, form types (e.g., Setup, Posting), last access dates, and assembly details for menu rendering. It filters by company, module, culture, country restrictions, and hides admin support forms unless the user has Viewpoint privileges. Output is prepared via a cursor for client-side menu population."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGrantAll do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure automates the granting of EXECUTE permissions on all Viewpoint Vista stored procedures, functions, and select security objects (e.g., to the 'vcsFSAPI' service account for API access). It conditionally re-grants key style role permissions and reapplies application role security based on Vista Admin (VA) settings from `vDDVS` (e.g., RestrictPublicAccess and SecureView flags). Overall, it ensures comprehensive database-level security alignment for Vista ERP modules post-setup, upgrade, or config changes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPGridQueryAssociation"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPGridQueryAssociation: QueryName (varchar, not null); TemplateName (varchar, not null); IsStandard (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQRoleVal do?"
      },
      {
        "from": "gpt",
        "value": "vspHQRoleVal validates an HQ role by querying the HQRoles table for its existence and active status. It retrieves the role's description into an output message and checks if the role exists; if not, or if inactive (unless @ignoreActive is specified), it sets an error message and returns a non-zero code. Primarily used to enforce valid role usage in HQ-related business processes before assignments or operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMLocationHistoryAttach view?"
      },
      {
        "from": "gpt",
        "value": "The EMLocationHistoryAttach view (Module: EM) contains: AttachedKeyId, LocationHistoryId, EMCo, Equipment, Sequence, AttachedEquipment, AttachedSequence, Memo, OverrideDateTime, DateIn, TimeIn, CreatedBy, CreatedDate, ModifiedBy, ModifiedDate... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCXBPost do?"
      },
      {
        "from": "gpt",
        "value": "Posts Job Cost (JC) closing batches from the JCXB table for a specified company and month, generating General Ledger (GL) entries for job close transactions. Handles WIP (Work In Progress) postings for Service Management (SM) jobs, Subledger Purchase Order (SLPO) close lists, and related reversals/summaries based on JC company GL close settings. Validates batch status and company setup, outputting errors if prerequisites fail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCraftMasterVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a craft within a specified project company (PRCo) and outputs the count of associated craft templates if valid. It invokes bspPRCraftVal for initial validation and error messaging, then joins PRCM and PRCT tables to count PRCT records matching the PRCo and craft. Used in Viewpoint Vista ERP to ensure craft data integrity before template-related operations in payroll or construction management.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RFCommandPerformanceCategories view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vRFCommandPerformanceCategories."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPTP view?"
      },
      {
        "from": "gpt",
        "value": "The RPTP view (Module: RP) contains: ReportID, ViewName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vSMDepartmentCostTypes.\n\nContext: Viewpoint Vista database, view SMDepartmentCostTypes"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMDepartmentCostTypes.*\nFROM dbo.vSMDepartmentCostTypes;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPOIA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPOIA: POCo (bCompany, nullable); Mth (bMonth, nullable); BatchId (bBatchID, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This batch report view consolidates job billing template data by unioning core template records from JBTC—with details like phase groups, cost types, billing flags (AP/EM/IN/JC/MS/PR), categories, lia\n\nContext: Viewpoint Vista database, view brvJBTemplateInfo"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    JBTC.JBCo,\n    JBTC.Template,\n    JBTC.Seq,\n    JBTC.PhaseGroup,\n    JBTC.CostType,\n    JBTC.APYN,\n    JBTC.EMYN,\n    JBTC.INYN,\n    JBTC.JCYN,\n    JBTC.MSYN,\n    JBTC.PRYN,\n    JBTC.Category,\n    JBTC.LiabilityType,\n    JBTC.EarnType,\n    AddonSeq=NULL,\n    SortType='CT'\nFROM JBTC\n    UNION ALL\n    SELECT JBTA.JBCo, JBTA.Template, JBTA.Seq,NULL, NULL,NULL,NULL,NULL,NULL,NULL,NULL,\n    NULL,NULL,NULL,JBTA.AddonSeq, SortType='TA'\nFROM JBTA\n    UNION ALL\n    SELECT JBTA.JBCo, JBTA.Template, JBTA.AddonSeq,NULL, NULL,NULL,NULL,NULL,NULL,NULL,NULL,\n    NULL,NULL,NULL,JBTA.Seq, SortType='TS'\nFROM JBTA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementExistsVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 11/18/18\n> Description:\tValidation for SM Agreements for any revision\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POVMSubs form?"
      },
      {
        "from": "gpt",
        "value": "The POVMSubs form includes these fields: POVM Sub Material, POVM Sub Material, POVM Sub Material, POVM Sub Material, POVM Sub Material, VendMatId, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQUMValForRQEntry do?"
      },
      {
        "from": "gpt",
        "value": "Validates the unit of measure (UM) for a material during requisition entry, ensuring it matches the standard UM or is properly configured for the material. If vendor details are provided, retrieves vendor-specific unit cost and equipment cost markup (ECM) from PO vendor-material setup (POVM), applying business rules based on CostOpt (e.g., standard cost, unit cost, discounted price, or book price). Returns an error message and code if UM validation fails."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvARBH_CMDist view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view combines current and historical AR batch header records for cash management (CM) distributions, marking current data (excluding deletes) with OldNew=1 and positive CreditAmt, while historical data (excluding adjustments) uses OldNew=0 with negated CreditAmt for delta calculations. It captures company, batch, customer, transaction, check, date, and CM deposit details from both states."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPCForecastRevPctVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates forecast revenue or cost percentages for a potential project in Viewpoint Vista ERP, ensuring they do not decrease from the previous month. It retrieves the prior month's percentage from the PCForecastMonth table using the provided company, project, forecast month, and type (Revenue or Cost), then compares it to the input percentage. If the new percentage is lower, it sets an error message and returns code 1; otherwise, it returns code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRHI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRHI: HRCo (bCompany, not null); Hospital (varchar, not null); Address (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMRequestForQuoteCO form?"
      },
      {
        "from": "gpt",
        "value": "The PMRequestForQuoteCO form includes these fields: Project, RFQ, Seq, Change Order Type, Document Type, Document, Description, Status, Status Description, Date Created"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvSMWorkOrderProfitReports view?"
      },
      {
        "from": "gpt",
        "value": "The vrvSMWorkOrderProfitReports view (Module: SM) contains: HQCo, CompanyName, CustomerName, SMCo, WorkOrder, WorkOrderDescription, ServiceSite, ServiceCenter, EnteredDateTime, LastCostDate, LastBilledDate, ServiceSiteType, ServiceSiteDescription, ServiceSiteCustomer, WorkCompleted... (62 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RFSceneUsage view?"
      },
      {
        "from": "gpt",
        "value": "The RFSceneUsage view (Module: Other) contains: SceneID, EpisodeID, Module, SceneName, ActivationCount, ShownSeconds, ActiveSeconds, IdleSeconds, AllStartupSeconds, MaxStartupSeconds"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPDisplayTreeItems view?"
      },
      {
        "from": "gpt",
        "value": "The VPDisplayTreeItems view (Module: VP) contains: KeyID, TabNavigationID, TreeItemTemplateID, ShowItem, ItemOrder, ItemTitle, ParentID, ItemType, Item, IsCustom, GridConfigurationID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMDepartmentBurdenOverride view?"
      },
      {
        "from": "gpt",
        "value": "SM Departmen tBurdenOverride"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMDT04 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMDT04 calculates per-pay-period tax withholding (likely Maryland state income tax) in Viewpoint Vista ERP payroll processing, using a subjob gross amount annualized by pay periods per year. It applies standard deductions (15% of annualized wage, clamped between $1500-$2000) plus $2400 per exemption, then computes tax at 4.75% plus a miscellaneous factor on the adjusted annualized wage, outputting the result if over $5000 annually. Returns zero for low wages or error codes for missing pay periods, ensuring accurate withholding computations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLRA view?"
      },
      {
        "from": "gpt",
        "value": "The GLRA view (Module: GL) contains: Co, Mth, BatchId, Jrnl, GLRef, GLAcct, BatchSeq, OldNew, OrigMonth, OrigGLTrans, Description, Amount, ActDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRRC view?"
      },
      {
        "from": "gpt",
        "value": "The HRRC view (Module: HR) contains: HRCo, HRRef, DependSeq, CoverageTermDate, EligibleDate, QualEvent, QualEventDate, NoticeDate, EnrollDate, Coverage, ComplyDate, COBRAStart, COBRAEnd, DiscontinueDate, CompanyPay... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bINTG"
      },
      {
        "from": "gpt",
        "value": "Key columns in bINTG: INCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPPartSettings view?"
      },
      {
        "from": "gpt",
        "value": "The VPPartSettings view (Module: VP) contains: KeyID, VPUserName, PartName, ColumnNumber, RowNumber, Height, Width, ConfigurationSettings, CollapseDirection, ShowConfiguration, CanCollapse, IsCollapsed, CanvasId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCrewTSGetStatus do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the status of a specific crew time sheet from the PRRH table using inputs for PR company, crew, post date, and sheet number. It validates required inputs and outputs the status value or an error message with a return code indicating success (0) or failure (1). Primarily used in Viewpoint Vista payroll/crew time tracking to verify time sheet status prior to processing or approval.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRJCCostTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the job cost cost type linked to a payroll earning code against a specific job and phase in Viewpoint Vista ERP's job costing system. It retrieves the cost type from the payroll earnings table (bPREC), fetches the phase group from headquarters company setup (bHQCO), and invokes bspJCVCOSTTYPE for final validation, outputting an error message if invalid. It ensures payroll costs post to appropriate job cost categories, maintaining accounting integrity during payroll-to-job-cost integration.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMIN view?"
      },
      {
        "from": "gpt",
        "value": "EM Inventory Distributions"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSIN view?"
      },
      {
        "from": "gpt",
        "value": "The MSIN view (Module: MS) contains: MSCo, Mth, BatchId, INCo, Loc, MatlGroup, Material, INTransType, BatchSeq, HaulLine, OldNew, MSTrans, SaleDate, CustGroup, Customer... (40 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_EMEquipment view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_EMEquipment view (Module: EM) contains: EquipmentID, EMCoID, Equipment, EquipmentDescription, EquipmentAndDescription, Type, EquipmentStatus, CurrentJobID, CurrentJobAndDescription, OwnershipStatus, HourReading, OdoReading, FuelUsed, HourDate, OdoDate... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Grid view of material sales invoice transactions, pulling batch headers, invoice details, company defaults, and transaction totals. Calculates adjusted invoice totals for AU/CA countries with intercom\n\nContext: Viewpoint Vista database, view MSIDGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent MSID.Co,\n    MSID.Mth,\n    MSID.BatchId,\n    MSID.BatchSeq,\n    MSID.MSTrans,\n    MSID.Ticket,\n    MSID.CustJob,\n    MSID.CustPO,\n    MSID.SaleDate,\n    'Date' = MSTD.SaleDate,\n    MSID.FromLoc,\n    'Location' = MSTD.FromLoc,\n    MSID.MatlGroup,\n    MSID.Material,\n    MSID.UM,\n    MSTD.MatlUnits,\n    MSID.UnitPrice,\n    MSTD.ECM,\n    MSTD.HaulTotal,\n    MSTD.TaxTotal,\n    'Total' = CASE WHEN HQCO.DefaultCountry IN ('AU','CA') AND MSIB.InterCoInv = 'Y'\n    THEN isnull(MSTD.MatlTotal,0) + isnull(MSTD.HaulTotal,0) + isnull(MSTD.TaxTotal,0) + ISNULL(MSTD.HaulPayTaxAmt,0)\n    ELSE isnull(MSTD.MatlTotal,0) + isnull(MSTD.HaulTotal,0) + isnull(MSTD.TaxTotal,0)\n    END,\n    'Discount' = isnull(MSTD.DiscOff,0) + isnull(MSTD.TaxDisc,0),\n    MSTD.HaulPayTaxAmt\nFROM dbo.MSID WITH (nolock)\nJOIN dbo.MSIB WITH (NOLOCK) ON MSIB.Co = MSID.Co AND MSIB.Mth = MSID.Mth AND MSIB.BatchId = MSID.BatchId AND MSIB.BatchSeq = MSID.BatchSeq\nJOIN dbo.HQCO WITH (NOLOCK) ON HQCO.HQCo = MSID.Co\nJOIN dbo.MSTD WITH (nolock) ON MSTD.MSCo = MSID.Co AND MSTD.Mth = MSID.Mth AND MSTD.MSTrans = MSID.MSTrans\nORDER BY MSID.Co, MSID.Mth, MSID.BatchId, MSID.BatchSeq, MSID.MSTrans;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_QCT17 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates a Quebec-specific payroll deduction amount (likely related to QCT-17 tax credit or employment income deduction under QST rules), factoring in annual pay periods, employee earnings, source deductions, and hardcoded tax constants like $1,140 annual deduction and 6% rate. It aggregates YTD earnings from PRPE/PRDB for a specific deduction line (DLCode), applies per-period caps and floors the result to zero if negative, then outputs the final @CalcAmt (adjusted basis minus deductions) for use in payroll withholding or reporting. Hardcoded values and rounding (@E to nearest $5) enforce CRA/Quebec tax compliance rules."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vDDCI with CMCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vDDCI with CMCO, use:\n\n```sql\nFROM vDDCI\nINNER JOIN CMCO\n  ON vDDCI.DatabaseValue = CMCO.GLInterfaceLvl\n```\n\nThis pattern is used in the vrvCompanySettings view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDFSForm view?"
      },
      {
        "from": "gpt",
        "value": "The DDFSForm view (Module: DD) contains: Co, Form, SecurityGroup, Groups, VPUserName, Full Name, Access, RecAdd, RecDelete, RecUpdate, Mod"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JBTC view?"
      },
      {
        "from": "gpt",
        "value": "JB Template Cost Types"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvSMAgreementQuoteServiceDetails"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvSMAgreementQuoteServiceDetails: ServiceItemLevel (varchar, not null); SMCo (bCompany, not null); Agreement (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRateOverrideCatMatlBP"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRateOverrideCatMatlBP: SMRateOverrideMatlBPID (bigint, not null); Seq (int, nullable); BreakPoint (bUnitCost, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHRBenefitCodeOptionVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the existence of a specific benefit option within a company's HR benefit code configuration by checking the HRBenefitCodeOption table. If the combination of HRCo, BenefitCode, and BenefitOption exists, it retrieves and outputs the option's Description via @ErrorMsg (reused as a success output); otherwise, it raises a custom error. It enforces data integrity for HR benefit setups, returning a success code (0) or error code (1)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCContractCloseSL do?"
      },
      {
        "from": "gpt",
        "value": "This SP closes eligible open subcontracts (SL) tied to a specific JC contract and job by validating no pending work or batches exist elsewhere, then aggregating current/invoiced costs and taxes per subcontract. It sets up a cursor to generate closing batch entries (SLXB) for finalizing subcontract commitments. The process outputs an error message if prerequisites fail, ensuring clean contract closeout."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AR Auto Apply Processing\n\nContext: Viewpoint Vista database, view ARAA"
      },
      {
        "from": "gpt",
        "value": "SELECT bARAA.*\nFROM dbo.bARAA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQTaxCodeSubgridInfo do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves description, old rate, and new rate for a specific tax group and tax code from the HQTX table, populating output parameters for use in subgrids. It validates inputs to ensure tax group and tax code are provided, returning an error code and message if missing or not found on file. Used in Viewpoint Vista ERP for displaying or editing headquarters tax code details efficiently.\n\nbspHQTaxCodeSubgridInfo retrieves tax code details from the HQTX table for a specified tax group and code, populating output parameters with description, old rate, new rate, and a status message, primarily for subgrid displays in Viewpoint Vista ERP's tax maintenance screens.\n\nIt validates input parameters, queries the table by TaxGroup and TaxCode, and returns a success code (0) with data or an error code (1) with messages like \"Missing Tax Group\" or \"Tax Code not on file!\" if issues arise.\n\nThis supports efficient UI lookups for tax configuration in construction ERP workflows, ensuring accurate tax rate info for jobs and invoicing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQCOInfoGetVal do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves headquarters company (HQCO) master data such as name, address, federal tax ID, phone, and country for a specified tax year and HQ company code, populating output parameters. Performs strict validation on the tax year input (must be exactly 4 digits, numeric, no leading zero). Returns error messages via @msg and a return code if validation fails or data is missing; processes ABN (Australian Business Number) by stripping spaces from FedTaxId."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEstCostPayItem view?"
      },
      {
        "from": "gpt",
        "value": "Provides original and current contract quantities, amounts, and unit prices for pay items linked to job phases, alongside estimated and actual cost details including units, hours, costs, and transaction metadata by cost type."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bCMAC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bCMAC: CMCo (bCompany, not null); CMAcct (bCMAcct, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectNotes form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectNotes form includes these fields: Project Filter, Default Vendor Group, Project Our Firm, Document Category, Document Category Active, Project, JCJM.JobStatus, NoteSeq, AddedDate, Issue"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRDLEmpBasedVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates HR deduction/liability configurations by ensuring that when an employee-based flag (`@emplbasedyn = 'Y'`) is set for an HR record (HRRM), the associated payroll deduction/liability code (PRDL) has a Calculation Category of 'E' (Employee) or 'A' (Any). It returns a success code (0) or error code (1) with a descriptive message for invalid setups, enforcing data integrity between HR and Payroll modules. Null input parameters trigger immediate validation errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in apireference.RfiReply"
      },
      {
        "from": "gpt",
        "value": "Key columns in apireference.RfiReply: RfiReplyId (bigint, not null); RfiDocumentId (bigint, not null); Reply (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMImportErrorsSubContracts do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specific subcontract import line (identified by `@importid` and `@seq`) from the staging table `bPMWS` in the Project Management (PM) module, checking for errors like missing or invalid Item, Phase, and other attributes. It builds an error message string (`@errors`) for issues such as non-existent Items in `bPMWI` or invalid Phase formats (via sub-SP `bspJCPMValUseValidChars`), and prepares updates to flag the record. The process supports error reporting during subcontract data imports, ensuring data quality before committing to job cost or commitment tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PREC view?"
      },
      {
        "from": "gpt",
        "value": "The PREC view (Module: PR) contains: PRCo, EarnCode, Description, Method, Factor, SubjToAddOns, CertRpt, TrueEarns, OTCalcs, EarnType, JCCostType, Notes, StandardLimit, UniqueAttchID, SubjToAutoEarns... (50 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetFormSecondaryIdentifiers do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspGetFormSecondaryIdentifiers retrieves secondary identifier configurations for a specified form from the VDocIntegration.DocumentSecondaryIdentifierForm table. It returns the sequence number, usage description, and DocumentSecondaryIdentifierTypeId for all matching records. This supports document integration in Viewpoint Vista ERP by providing form-specific secondary identifier details for validation or processing workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VCControlReportParameterDetail form?"
      },
      {
        "from": "gpt",
        "value": "The VCControlReportParameterDetail form includes these fields: Parameter Name, Current Default Value, Current Default Desc, Default Value, Current Access, Access, Status, Report ID from Header, Portal Control ID from Header, User Is VCS Account"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOItemDetailPullDetails do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves detailed item-level data (phase, cost type, vendor, PO/SL reference, item, U/M, and original unit cost) from Purchase Orders (POITPM/POHDPM) and Subcontract Ledgers (SLITPM/SLHDPM) for a specific PM company and project/job. It supports optional filtering by phase, cost type, vendor, PO/SL, or item to pull matching committed costs, likely for validation, auto-population, or reporting of job cost commitments. Results are staged in a table variable and output parameters are set (e.g., first match for vendor/PO/SL/etc.), enabling integration with PM/PO/JC commitment processes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvAPHoldCodesByTransPayType view?"
      },
      {
        "from": "gpt",
        "value": "The vrvAPHoldCodesByTransPayType view (Module: AP) contains: APCo, Mth, APTrans, PayType, csv"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJBID"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJBID: JBCo (bCompany, not null); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPD"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPD: PMCo (bCompany, nullable); Project (bJob, not null); PunchList (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HREC view?"
      },
      {
        "from": "gpt",
        "value": "HR Resource Contacts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPCanvasGridSettings view?"
      },
      {
        "from": "gpt",
        "value": "The VPCanvasGridSettings view (Module: VP) contains: KeyID, QueryName, Seq, CustomName, GridLayout, Sort, MaximumNumberOfRows, ShowFilterBar, PartId, QueryId, GridType, ShowConfiguration, ShowTotals, IsDrillThrough, SelectedRow"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspVendors do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCOT13 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRCOT13 calculates per-pay-period tax on wages exceeding annual limits, adjusted for filing status (single or married) and exemptions, using hardcoded values like $3,900 exemption, $2,200 single limit, $8,300 married limit, and 4.63% rate. It annualizes the input subject amount by multiplying by pay periods per year, subtracts exemptions, applies the rate to any excess over the status limit, and prorates the result back to per period via output parameter @amt. Used in payroll processing for compliant withholding calculations, returning an error message if pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMPS view?"
      },
      {
        "from": "gpt",
        "value": "PM Standard Phase Submittals"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMWOItemStatusWarning do?"
      },
      {
        "from": "gpt",
        "value": "bspEMWOItemStatusWarning validates input parameters (EM company, work order, WO item, and EM group) in Viewpoint Vista ERP's Equipment Management module, returning error code 2 and a message if any are missing. It retrieves the WO item's status code from EMWI, its type from EMWS, and the company's final posting flag from EMCO, then sets warning code 1 if the status is final ('F') and posting is enabled ('Y'), or 0 otherwise. Used to flag potential issues before operations on finalized work order items, preventing unintended changes in maintenance workflows.\n\nThe bspEMWOItemStatusWarning stored procedure validates required inputs (EM company, work order, WO item, and EM group), returning an error code (2) and message if any are missing. It retrieves the WO item's status code from EMWI, its status type from EMWS, and the company's final posting flag from EMCO. It returns a warning code (1) if the status is final ('F') and final posting is enabled ('Y'), otherwise 0, to alert on operations involving finalized work order items.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bSLCD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bSLCD: SLCo (bCompany, not null); Mth (bMonth, not null); SLTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINPhyCountInit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes physical inventory count records for a selected set of materials in specified inventory locations within the IN (Inventory) module. It verifies IN company exists and uses valid cost method (1=Avg, 2=Last, 3=Std). It retrieves current on-hand quantities, costing details (avg/last/std costs and ECMs), and unit measures from master tables, filtering active materials only; range-based selection (@begcat/endcat, @begmatl/endmatl) with NULL defaults for full range. Handles NULL @PhyLoc gracefully. Using a cursor, it processes these items to populate initial count data (inserting into bINCW physical count worksheet table), preparing count sheets with expected quantities for warehouse staff to perform actual counts. Invalid company or cost method → sets @msg and @rcode=1, exits early. No rows processed if filters yield empty set (cursor opens but loop may skip). Cost methods from location/material defaults (ISNULL(bINLM.CostMethod,0), bINLO)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvEMLocationHistoryWithAttach view?"
      },
      {
        "from": "gpt",
        "value": "Consolidates equipment location history by unioning direct location records with attachment records, calculating entry month from date-in and combining date/time into a single datetime field using a function. Handles overrides for attachment date/times when specified, enriching with equipment, job, and location descriptions plus memos, estimated outs, and notes. Filters to only valid datetime entries for reporting last known locations per equipment."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMContractCODist form?"
      },
      {
        "from": "gpt",
        "value": "The PMContractCODist form includes these fields: Seq, Vendor Group, Sent To Firm, Sent To Contact, Send, Preferred Method, CC, Date Sent, Date Signed, Distribution Exists"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspGetMonthOldScenarios do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves scenarios from the RFScenarios table that are older than 30 days, based on the RecordingDateTime compared to the current date using DATEDIFF. It returns the ScenarioID, RecordingDateTime, and ScenarioFileName, ordered by RecordingDateTime in descending order. It is used in Viewpoint Vista ERP for identifying aged scenario data for maintenance tasks like cleanup, archiving, or deletion.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Calculates aggregated maximum retainage amounts by applying SL header batch retainage percentages to summed original or current costs from SL invoice transactions, distinguishing between unused items \n\nContext: Viewpoint Vista database, view SLITMaxRetgAmt"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    sum(MaxRetgByPct) AS [MaxRetgByPct],\n    SLCo,\n    Mth,\n    BatchId,\n    BatchSeq\nFROM (SELECT TOP 100 percent\n    'MaxRetgByPct' = CASE WHEN bSLHB.InclACOinMaxYN = 'Y' THEN (bSLHB.MaxRetgPct * sum(isnull(bSLIT.CurCost, 0)))\n    ELSE (bSLHB.MaxRetgPct * sum(isnull(bSLIT.OrigCost, 0))) END,\n    bSLHB.Co AS SLCo,\n    bSLHB.Mth,\n    bSLHB.BatchId,\n    bSLHB.BatchSeq\nFROM dbo.bSLHB WITH (nolock)\nLEFT JOIN dbo.bSLIT WITH (nolock) ON bSLHB.Co = bSLIT.SLCo AND bSLHB.SL = bSLIT.SL\n    AND bSLIT.InUseMth IS NULL AND bSLIT.InUseBatchId IS NULL AND WCRetPct <> 0\n    AND bSLIT.ItemType IN (1,2)\nGROUP BY bSLHB.Co, bSLHB.Mth, bSLHB.BatchId, bSLHB.BatchSeq, bSLHB.InclACOinMaxYN, bSLHB.MaxRetgPct\nUNION ALL\nSELECT TOP 100 percent\n    'MaxRetgByPct' = CASE WHEN bSLHB.InclACOinMaxYN = 'Y' THEN bSLHB.MaxRetgPct * ((sum(isnull(bSLIT.CurCost, 0)) - sum(isnull(bSLIB.OldOrigCost, 0))) + sum(isnull(bSLIB.OrigCost,0)))\n    ELSE (bSLHB.MaxRetgPct * sum(isnull(bSLIB.OrigCost, 0))) END,\n    bSLHB.Co AS SLCo,\n    bSLHB.Mth,\n    bSLHB.BatchId,\n    bSLHB.BatchSeq\nFROM dbo.bSLHB WITH (nolock)\nLEFT JOIN dbo.bSLIB WITH (nolock) ON bSLHB.Co = bSLIB.Co AND bSLHB.Mth = bSLIB.Mth AND bSLHB.BatchId = bSLIB.BatchId\n    AND bSLHB.BatchSeq = bSLIB.BatchSeq AND bSLIB.BatchTransType IN ('A','C') AND bSLIB.WCRetPct <> 0\n    AND bSLIB.ItemType IN (1,2)\nLEFT JOIN dbo.bSLIT WITH (nolock) ON bSLHB.Co = bSLIT.SLCo AND bSLHB.SL = bSLIT.SL AND bSLIB.SLItem = bSLIT.SLItem\n    AND bSLIT.InUseMth IS NOT NULL AND bSLIT.InUseBatchId IS NOT NULL AND bSLIT.WCRetPct <> 0\n    AND bSLIT.ItemType IN (1,2)\nGROUP BY bSLHB.Co, bSLHB.Mth, bSLHB.BatchId, bSLHB.BatchSeq, bSLHB.InclACOinMaxYN, bSLHB.MaxRetgPct)\nAS MyTable\nGROUP BY SLCo, Mth, BatchId, BatchSeq;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQMC"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQMC: MatlGroup (bGroup, not null); Category (varchar, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUSuperClearingHouse table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUSuperClearingHouse table (Module: PR) contains: KeyID, PRCo, ClearingHouseID, EmployerID, Contact, ContactPhone, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPRFlash_PRRE"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPRFlash_PRRE: PRCo (bCompany, nullable); Crew (varchar, nullable); PostDate (bDate, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPGetReportID do?"
      },
      {
        "from": "gpt",
        "value": "vspRPGetReportID retrieves the ReportID for a given filename from the RPRT table in Viewpoint Vista's reporting module. It is used to quickly identify and reference a report by its filename, supporting report management and execution workflows. The procedure performs a single SELECT query to match the input filename and outputs the corresponding ReportID.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NUT16 do?"
      },
      {
        "from": "gpt",
        "value": "The bspPR_CA_NUT16 stored procedure calculates per-pay-period Nunavut provincial income tax withholding for Canadian payroll in Viewpoint Vista ERP, based on annualized income. It applies tiered tax rates (4%-11.5%) and basic credits per income brackets, subtracts additional credits for TCP (default $12,947 at 4%), capped CPP and EI premiums (at 4%), and user-provided K3P from gross tax, then divides the positive result by pay periods per year. It validates inputs like pay periods and returns the amount or an error message for payroll deduction accuracy.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCOT11 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRCOT11 calculates per-pay-period tax on overtime or premium pay by annualizing the input subject amount (@subjamt * @ppds), subtracting exemptions (3700 * @exempts), and applying a 4.63% rate to the excess over status-based limits (2100 for 'S'/single, 7900 for 'M'/married). It outputs the rounded tax amount (@amt) or an error message if inputs like pay periods are invalid. Used in Viewpoint Vista payroll to compute accurate withholding tax for overtime compensation.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PREA view?"
      },
      {
        "from": "gpt",
        "value": "The PREA view (Module: PR) contains: PRCo, Employee, Mth, EDLType, EDLCode, Hours, Amount, SubjectAmt, EligibleAmt, AuditYN, UniqueAttchID, KeyID, RollupRow, PurgeYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQDR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQDR: UserName (bVPUserName, not null); AttachmentID (int, not null); DateAdded (smalldatetime, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEnableChangeTracking do?"
      },
      {
        "from": "gpt",
        "value": "Enables SQL Server Change Tracking on a comma-separated list of tables specified in @FullNameList, capturing inserts, updates, and deletes for auditing or synchronization. In Viewpoint Vista's Analytics module, this supports data lineage, BI reporting, and ETL processes by tracking changes in ERP tables (e.g., job costs, billing, payroll) without full CDC overhead. It skips tables already tracked and logs errors for invalid/missing tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMTechnician with SMWorkCompleted in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMTechnician with SMWorkCompleted, use:\n\n```sql\nFROM SMTechnician\nINNER JOIN JOIN SMWorkCompleted\n  ON SMTechnician.SMCo = SMWorkCompleted.SMCo AND SMTechnician.Technician = SMWorkCompleted.Technician\n```\n\nThis pattern is used in the vrvSMWorkOrderCountByTechnician view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMRC"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMRC: EMGroup (bGroup, not null); RevCode (bRevCode, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVCUserInsert do?"
      },
      {
        "from": "gpt",
        "value": "The vspVCUserInsert stored procedure in Viewpoint Vista ERP inserts email contact information for a specified user and assigns them a default role (ID 3) at a given site, facilitating user-site associations in vendor or contact management. It first validates required inputs (userID, siteID, emailAddress), setting an error message and returning code 1 if any are missing. On success, it inserts a record into VCUserContactInfo (ContactTypeID 6 for email) and VCUserSites, then returns code 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT02 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNDT02 calculates per-pay-period North Dakota state income tax withholding based on subject gross amount, pay periods per year, filing status ('S' for Single or 'M' for Married), and exemptions. It annualizes taxable income by multiplying gross by pay periods and subtracting a $3000 per exemption allowance, then applies progressive tax brackets with predefined base taxes, limits, and rates (2.1% to 5.54%) to compute annual tax before dividing by pay periods. Used in Viewpoint Vista payroll to ensure accurate ND state tax deductions compliant with state withholding tables.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQFC"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQFC: Frequency (bFreq, not null); Description (bDesc, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RFScenePerformanceCategories"
      },
      {
        "from": "gpt",
        "value": "Key columns in RFScenePerformanceCategories: CategoryID (bigint, not null); EpisodeID (bigint, not null); Seconds (decimal, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRTA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRTA: HRCo (bCompany, not null); HRRef (bHRRef, not null); DateOut (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARInvoiceVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspARInvoiceVal stored procedure validates the existence of an Accounts Receivable (AR) invoice for a specified company (@arco), invoice number (@invoice), and optional customer (@customer). It performs initial checks for required parameters, then queries the ARTH table to confirm a matching record exists (using trimmed invoice values), setting an output error message (@msg) and return code (0 for success, 1 for failures like missing inputs or invoice not found). This ensures invoice validity before AR-related business operations, such as posting or updates.\n\nThe bspARInvoiceVal stored procedure validates the existence of an Accounts Receivable (AR) invoice by checking required parameters for AR company and invoice number, then querying the ARTH table for a matching record based on trimmed invoice number and customer. It sets an output message and returns a success code (0) if found or an error code (1) with details like \"Missing AR Company!\", \"Missing Invoice Number!\", or \"Invoice not on file!\" if validation fails. This ensures AR operations reference valid invoices, preventing downstream errors in business processes like posting or updates.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQDetailDistribution"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQDetailDistribution: HQDetailDistributionID (bigint, not null); Source (bSource, not null); TableName (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vWFNFGrouping"
      },
      {
        "from": "gpt",
        "value": "Key columns in vWFNFGrouping: KeyID (int, not null); JobName (varchar, not null); GroupBy (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCreateExtract do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure creates a data extract from a specified Vista table for analytics reporting, supporting both full extracts and incremental updates via SQL Server Change Tracking. It dynamically builds SQL to select user-specified columns, validates table/column existence, enterprise context from vDDVS, and ensures incremental runs use valid change versions. The result populates an Analytics extract table tied to an ExtractRunId for downstream BI/ETL processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC History by Contract\n\nContext: Viewpoint Vista database, view JCHC"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCHC.*\nFROM dbo.bJCHC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: DEBUGGING AR AGING Query - Step by Step Analysis\n\nModule: AR"
      },
      {
        "from": "gpt",
        "value": "Select 'ARTH Total Records' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH;\n\nSelect 'ARTH Outstanding Records' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH \nWHERE AmountDue > 0;\n\nSelect \n    'ARTH Date Range' AS TestName,\n    Min(TransDate) AS EarliestTransaction,\n    MAX(TransDate) AS LatestTransaction,\n    COUNT(*) AS TotalRecords\nFrom ARTH;\n\nSelect 'Company Check' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH \nWHERE ARCo = 1;\n\nSelect \n    ARCo AS Company,\n    COUNT(*) AS RecordCount,\n    Min(TransDate) AS EarliestDate,\n    MAX(TransDate) AS LatestDate\nFrom ARTH \nGROUP BY ARCo\nOrder BY ARCo;\n\nSelect 'Records Near 2021-12-31' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH \nWHERE TransDate BETWEEN '2021-01-01' AND '2021-12-31';\n\nSelect 'ARTH Only Test' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH \nWHERE AmountDue > 0 \n  AND TransDate <= '2021-12-31'\n  AND ARCo = 1;\n\nSelect 'ARTH + ARCM Join Test' AS TestName, COUNT(*) AS RecordCount\nFrom ARTH\n    INNER JOIN ARCM ON ARTH.CustGroup = ARCM.CustGroup \n                   AND ARTH.Customer = ARCM.Customer\nWHERE ARTH.AmountDue > 0 \n  AND ARTH.TransDate <= '2021-12-31'\n  AND ARTH.ARCo = 1;\n\nFrom ARTH\n    INNER JOIN ARRT ON ARTH.ARCo = ARRT.ARCo \n                   AND ARTH.RecType = ARRT.RecType\nWHERE ARTH.AmountDue > 0 \n  AND ARTH.TransDate <= '2021-12-31'\n  AND ARTH.ARCo = 1;\n\nFrom ARTH\n    INNER JOIN HQCO ON ARTH.ARCo = HQCO.HQCo\nWHERE ARTH.AmountDue > 0 \n  AND ARTH.TransDate <= '2021-12-31'\n  AND ARTH.ARCo = 1;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMMOTotalGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the total monetary value of a specific Manufacturing Order (MO) in the Inventory (IN) module, summing the `TotalPrice` from issued MO lines (`bINMI`), and adds pending, uninterfaced amounts from PM Manufacturing Feed records (`bPMMF`) linked to a PM project. It ensures the total reflects committed inventory costs plus open/committed PM feeds not yet posted (where `InterfaceDate IS NULL` and specific `RecordType`/`ACO` conditions apply). The result is returned via `@amount` for use in PM costing or interface validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_EMEquipment view?"
      },
      {
        "from": "gpt",
        "value": "Provides dimension data for Equipment Management equipment and components, including identifiers, combined descriptions, type/status/ownership labels, current job assignments, and meter readings (hours, odometer, fuel) with associated dates. Transforms coded values into readable text via CASE statements and concatenates names with ISNULL handling; appends an 'Unassigned' row via UNION ALL for complete dimension coverage in analytics."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JCCostProjectionInUseBy\n\nContext: Viewpoint Vista database, view JCCostProjectionInUseBy"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCCostProjectionInUseBy.*\nFROM dbo.vJCCostProjectionInUseBy;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INLC view?"
      },
      {
        "from": "gpt",
        "value": "The INLC view (Module: IN) contains: INCo, Loc, Co, MatlGroup, Category, GLCo, JobSalesGLAcct, InvSalesGLAcct, EquipSalesGLAcct, JobQtyGLAcct, InvQtyGLAcct, JobHaulRevEquipGLAcct, InvHaulRevEquipGLAcct, JobHaulRevOutGLAcct, InvHaulRevOutGLAcct... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Change Order Item\n\nContext: Viewpoint Vista database, view PMOI"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMOI.*\nFROM dbo.bPMOI\nWHERE ( (\n    EXISTS (SELECT 1\nFROM dbo.vfDataTypeSecurity(bPMOI.Project, bPMOI.PMCo, 'bJob'))\n    )) OR (EXISTS (SELECT 1\nFROM dbo.vfIsSystemUser()\nWHERE IsSystemUser = 1) );"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.DocumentCategory"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.DocumentCategory: DocumentCategoryId (bigint, not null); DocumentCategoryCode (varchar, not null); DocumentCategoryDescription (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBProgItemDisplay do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates and returns key progress billing metrics for a specific contract and contract item, including total contract value (base + change orders), previously billed amounts (work completed and stored materials), current invoice amounts, cumulative to-date totals, and percentage complete (clamped at ±99.9999% to avoid overflow). It supports display of billing progress in the Job Billing module, distinguishing between contract-level and item-level figures from invoice data in JBIN. All monetary values default to 0 via ISNULL for null handling."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates PMMF records by KeyID and tax attributes to compute TotalAmount as the base Amount plus calculated TaxAmount, where TaxAmount is the rounded product of summed Amounts and the curr\n\nContext: Viewpoint Vista database, view vrvPMPOCO_DetailLine_Total"
      },
      {
        "from": "gpt",
        "value": "SELECT PMMF.KeyID, CAST(ISNULL(PMMF.Amount,0) +\n    CASE\n    WHEN PMMF.TaxCode IS NULL THEN 0\n    ELSE ISNULL(ROUND(ISNULL(SUM(PMMF.Amount), 0) * ISNULL(dbo.vfHQTaxRate(PMMF.TaxGroup, PMMF.TaxCode, GetDate()),0),2),0)\n    END AS NUMERIC(18,2)) AS TotalAmount, CAST(CASE\n    WHEN PMMF.TaxCode IS NULL THEN 0\n    ELSE ISNULL(ROUND(ISNULL(SUM(PMMF.Amount), 0) * ISNULL(dbo.vfHQTaxRate(PMMF.TaxGroup, PMMF.TaxCode, GetDate()),0),2),0)\n    END AS NUMERIC(18,2)) AS TaxAmount\nFROM dbo.PMMF\nGROUP BY PMMF.KeyID,\n    PMMF.Amount,\n    PMMF.TaxGroup,\n    PMMF.TaxCode,\n    PMMF.TaxType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the CMDT view?"
      },
      {
        "from": "gpt",
        "value": "The CMDT view (Module: CM) contains: CMCo, Mth, CMTrans, CMAcct, StmtDate, CMTransType, SourceCo, Source, ActDate, PostedDate, Description, Amount, ClearedAmt, BatchId, CMRef... (28 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCOT19 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRCOT19 calculates the per-pay-period tax withholding on annualized wages exceeding a personal exemption limit, based on filing status (single or married) and exemptions (capped at 6). It annualizes the subject amount by multiplying by pay periods per year, subtracts $4200 per exemption, applies a $3800 limit for single or $11800 for married filers, and if exceeded, taxes the excess at 4.63% before prorating back to the pay period. Used in payroll processing for precise state income tax deductions under formula-driven rules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCrewInit do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes payroll processing for a specific crew within a payroll batch, pulling employee details (e.g., standard hours, equipment, revenue codes) from temporary crew worksheets (bPRCW) and validating against company payroll options, job/phase allocations, and tax settings. It sets up cursors and variables for further processing like hour calculations, state tax determinations, and error messaging via @errmsg. The output prepares data for crew time entry or posting to Job Cost (JC) and General Ledger (GL)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRRO with PREC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRRO with PREC, use:\n\n```sql\nFROM PRRO\nINNER JOIN PREC\n  ON PRRO.PRCo = PREC.PRCo AND PRRO.EarnCode = PREC.EarnCode\n```\n\nThis pattern is used in the vrvPRCrewOtherJob view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMGetAttachmentsWithPath do?"
      },
      {
        "from": "gpt",
        "value": "> Created: 06/21/07 JonathanP - Returns a result set of all the AttachmentIDs in HQAT with the given path (includes those with subfolders) History: Inputs: @copyfrompath - The path of the attachments to return. Examples: 'C:\\SomeRepository\\SomeFolder' or '\\\\Devel\\ScannedDocs'\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join brvPOCT_DistinctPO with vrvPMPOCOTotal in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join brvPOCT_DistinctPO with vrvPMPOCOTotal, use:\n\n```sql\nFROM brvPOCT_DistinctPO\nINNER JOIN vrvPMPOCOTotal\n  ON brvPOCT_DistinctPO.POCo = vrvPMPOCOTotal.POCo AND brvPOCT_DistinctPO.PO = vrvPMPOCOTotal.PO\n```\n\nThis pattern is used in the vrvPMVendorRegister view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCostProjectionApplyOptions do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves and applies user-specific options for customizing Job Cost (JC) cost projections, including filters for changed items, units/costs, cost types, projection codes, methods (e.g., thru prior month), and inactive phases from JCUO and option tables. It builds filtered lists (e.g., cost types, user roles) and validates setup like minimum projection percentages from PMCO, preparing data for projecting remaining or future job costs as of a specified date for a job/phase group. Outputs an error message if user options are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pMenuTemplateLinks"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pMenuTemplateLinks: MenuTemplateLinkID (int, not null); MenuTemplateID (int, not null); RoleID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMGeneratePMWOSummary view?"
      },
      {
        "from": "gpt",
        "value": "The SMGeneratePMWOSummary view (Module: SM) contains: KeyID, SMCo, BatchSeqID, Status, ProcStart, ProcFinish, WOGenerated, TotalWOGenerated, Login, WOSkipped, TotalWOSkipped, WOUnSkipped, HasErrors, Error, Removed... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMWP view?"
      },
      {
        "from": "gpt",
        "value": "PM Import Work Phases"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCUOInitGet do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCUOInitGet retrieves user-specific initialization options (project method, write-over flag, and init option) from the bJCUO table for a specified company, form, and username. It is used to fetch personalized Job Cost User Options (JCUO) at form initialization in Viewpoint Vista ERP, ensuring user preferences are applied correctly. Key operations include a single SELECT query with NOLOCK, validation for exactly one matching row, and returning an error code/message if options are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployeeMiscItemAmounts_archive"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployeeMiscItemAmounts_archive: KeyID (bigint, not null); PRCo (bCompany, not null); TaxYear (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRINT23 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRINT23 calculates per-pay-period federal income tax withholding for payroll check printing in Viewpoint Vista ERP. It annualizes the subject pay amount by multiplying by pay periods per year, subtracts fixed allowances for regular ($1,000), additional ($1,500), and adoption ($3,000) exemptions, applies a 3.15% tax rate to the resulting taxable income (minimum zero), and de-annualizes by dividing by pay periods to output the withholding amount (also minimum zero). It validates pay periods input and returns an error message if missing, ensuring accurate tax deductions in payroll processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPMChangeOrderCostDetail view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view provides detailed change order cost data by item, phase, and cost type, combining pending change order (PCO) and approved change order (ACO) items with line-level estimates, units, and addon phases for unapproved or pending approvals. It coalesces keys across items and lines, flags PCO vs ACO, and pulls addon cost types only for items where approval is pending or addon status is not finalized. Key transformations include ISNULL coalescing for matching, CASE logic for PCOACO distinction, and grouping addon phases from filtered joins."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARCustomerVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a customer in the AR module by CustGroup and either a numeric Customer ID or SortName (with exact match first, then prefix wildcard fuzzy match). It outputs the valid Customer ID, customer Name (as @msg), and performs status checks (active/inactive/hold) based on @Option ('A'=require active, 'H'=require not on hold, 'X'=strictest). Returns error codes/messages for invalid/missing/ineligible customers to prevent bad data entry."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMJCCostTypeDefaultVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure determines and returns a default Job Cost (JC) Cost Type for Service Management (SM) transactions linked to a job, based on a prioritized lookup using inputs like Labor Code, SM Cost Type, Pay Type, Equipment, or Material/Group. It bridges SM data to JC by mapping service line details (e.g., labor from SMLaborCode, payroll earnings via PayType, equipment usage) to the appropriate JC cost category (e.g., Labor, Equipment, Subcontract). The first valid match sets the output @JCCostType; no value is set if none found."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRFWT06 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates U.S. federal income tax withholding (FWT) for payroll by annualizing the subject's pay amount (adjusted for exemptions at $3,300 each), applying IRS progressive tax brackets based on filing status ('S' for Single or 'M' for Married), and prorating the annual tax back to the per-pay-period amount. It outputs the withholding amount (@amt) and handles edge cases like low income (zero tax). The brackets reflect older IRS tables (e.g., pre-2018 rates up to 35%)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Summarizes job contract revenue including original/current amounts, billed/received payments, actual/estimated/committed costs, profit, and GMP with categorical profit levels (loss, 0-3%, 3-6%, >6%) d\n\nContext: Viewpoint Vista database, view brvJCCostRevenueCustom2"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    brvJCCostRevenueCustom.JCCo,\n    JCCM.Department,\n    JCJM.Job AS [Contract],\n    JCJM.ProjectMgr,\n    brvJCCostRevenueCustom.OrigContractAmt,\n    brvJCCostRevenueCustom.ContractAmt,\n    brvJCCostRevenueCustom.BilledAmt,\n    brvJCCostRevenueCustom.ReceivedAmt,\n    brvJCCostRevenueCustom.ActualCost,\n    brvJCCostRevenueCustom.OrigEstCost,\n    brvJCCostRevenueCustom.CurrEstCost,\n    brvJCCostRevenueCustom.TotalCmtdCost,\n    brvJCCostRevenueCustom.RemainCmtdCost,\n    brvJCCostRevenueCustom.Profit,\n    brvJCCostRevenueCustom.GMP,\n    CASE WHEN GMP < 0 THEN 'GPM Loss '\nWHEN GMP >= 0 AND GMP < 3 THEN 'GPM 0-3%'\nWHEN GMP >= 3 AND GMP < 6 THEN 'GPM 3-6%'\nWHEN GMP >= 6 THEN 'GPM > 6%'\nEND AS [Profitlevel]\nFROM brvJCCostRevenueCustom\nLEFT OUTER JOIN JCCM ON JCCM.JCCo=brvJCCostRevenueCustom.JCCo AND JCCM.Contract=brvJCCostRevenueCustom.Contract\nLEFT OUTER JOIN JCJM ON JCJM.JCCo=brvJCCostRevenueCustom.JCCo AND JCJM.Contract=brvJCCostRevenueCustom.Contract\nLEFT OUTER JOIN JCMP ON JCMP.JCCo=JCJM.JCCo AND JCMP.ProjectMgr=JCJM.ProjectMgr;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPInvoiceAttachmentsDelete do?"
      },
      {
        "from": "gpt",
        "value": "The vspAPInvoiceAttachmentsDelete stored procedure removes a specific queued attachment record from the vAPAttachmentSendQueue table using the provided KeyID. It is used in the Viewpoint Vista AP module to cancel or clean up attachments for invoices that are no longer scheduled for sending. The sole key operation is a DELETE statement executed under READ UNCOMMITTED isolation for performance.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPDisplayInitializeTreeItems do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes tree items for a specific TabNavigationID in Viewpoint Vista's VP Display by copying a hierarchical structure from a named template in VPCanvasTreeItemsTemplate into VPDisplayTreeItems. It deletes existing items for the tab, inserts template data (preserving template IDs, show flags, order, and initial parent refs), then updates ParentIDs to link correctly within the new instance via self-join. Used to reset and populate UI tree views for tabs, ensuring accurate hierarchy for display rendering.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMOD view?"
      },
      {
        "from": "gpt",
        "value": "The PMOD view (Module: PM) contains: PMCo, Project, DocType, Document, Description, Location, VendorGroup, RelatedFirm, Issue, Status, ResponsibleFirm, ResponsiblePerson, DateDue, DateRecd, DateSent... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRDD table?"
      },
      {
        "from": "gpt",
        "value": "The bPRDD table (Module: PR) contains: PRCo, Employee, Seq, RoutingId, BankAcct, Type, Status, Frequency, Method, Pct, Amount, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRUnemplHdr form?"
      },
      {
        "from": "gpt",
        "value": "The PRUnemplHdr form includes these fields: State, Quarter Ending, Company Name, Mailing Address, Location Address, City, State, Zip, Zip Ext, Federal Tax ID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMProjectLocationVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the existence of a project location for a specified company and project in Viewpoint Vista's PM module by querying the bPMPL table. It first checks for a null company parameter, then retrieves the location's description if found, or sets an error message if the location is missing or invalid. Returns 0 on success (with description in @msg) or 1 on failure (with error in @msg), ensuring data integrity before PM-related operations like inserts or updates.\n\nThis stored procedure validates the existence of a project location for a specified company and project in Viewpoint Vista's PM module. It checks for a missing company parameter, then queries the bPMPL table to retrieve the location's description if valid, or sets an error message if the location is not on file, returning 0 for success or 1 for failure. It ensures data integrity prior to project transactions or setups requiring valid locations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMWS view?"
      },
      {
        "from": "gpt",
        "value": "EM Work Order Status Codes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.Participant view?"
      },
      {
        "from": "gpt",
        "value": "The api.Participant view (Module: Other) contains: ParticipantId, FirstName, LastName, Email, DisplayName, Title, CompanyName, CompanyNumber, DocumentId, Status, RoleId, RoleName, CreatedByUser, DBCreatedDate, UpdatedByUser... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMRevCodeValEquip do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a revenue code (RevCode) setup for specific equipment in the Equipment Management (EM) module, retrieving billing-related settings like standard rates, hour meter updates, work units, units of measure (UM), override permissions, and billing basis. It ensures the RevCode is properly configured for the equipment's category before allowing usage in transactions. Outputs flags and values for downstream processing, or an error message if validation fails."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the Comment view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from Document."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMEquipPartVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a part number for a specific equipment item within an Equipment Management (EM) company context, cross-referencing it against Equipment Parts (EMEP), HQ Materials (HQMT), and Inventory Masters (INMT/INLM). It retrieves and outputs key attributes like the linked HQ material code, unit of measure, unit cost, stocked status, category, and tax codes, while setting an error message if validations fail. The core goal is to ensure the part is properly defined and mappable for equipment maintenance, usage, or inventory transactions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDFSUsers view?"
      },
      {
        "from": "gpt",
        "value": "This view lists Viewpoint user permissions for Data Dictionary (DD) forms, including overall access and specific record add/delete/update rights, filtered exclusively to the default security group (-1). It joins form security records with form header details and orders results by username for sequential review. No calculations or transformations are applied beyond the join and filter."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvPRCrewEquipSub view?"
      },
      {
        "from": "gpt",
        "value": "The vrvPRCrewEquipSub view (Module: PR) contains: Employee, Description, EMCo, Equipment, PRCo, Crew, PostDatePRRQ, SheetNum, Phase1Usage, Phase2Usage, Phase3Usage, Phase4Usage, Phase5Usage, Phase6Usage, Phase7Usage... (41 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCHC table?"
      },
      {
        "from": "gpt",
        "value": "The bJCHC table (Module: JC) contains: JCCo, Contract, Item, MthClosed, ContractDesc, ItemDesc, UM, SIRegion, SICode, Department, OrigContractAmt, OrigContractUnits, OrigUnitPrice, FinalContractAmt, FinalContractUnits... (30 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from APPH.\n\nContext: Viewpoint Vista database, view APPHTestA"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    APCo,\n    CMCo,\n    CMAcct,\n    PayMethod,\n    CMRef,\n    aRS=CMRefSeq,\n    aAmt=Amount\nFROM APPH\nWHERE CMRefSeq>'0';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viDim_PMCompany view?"
      },
      {
        "from": "gpt",
        "value": "Dimension view for Project Management (PM) companies, linking PM company IDs and codes to headquarters company names for only those companies recognized in the BI company list. Appends a default unknown row (ID 0) via UNION ALL to support handling of unmapped PM company references in analytics models."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vUtilities.vPTQueryCache"
      },
      {
        "from": "gpt",
        "value": "Key columns in vUtilities.vPTQueryCache: vPTQueryCache_ID (bigint, not null); DBName (sysname, not null); ExecutionCount (bigint, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Dimension view for Project Management (PM) companies, linking PM company IDs and codes to headquarters company names for only those companies recognized in the BI company list. Appends a default unkno\n\nContext: Viewpoint Vista database, view viDim_PMCompany"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMCO.KeyID AS PMCoID, bPMCO.PMCo, bHQCO.Name\nFROM bPMCO\nJOIN bHQCO ON bHQCO.HQCo=bPMCO.PMCo\nJOIN vDDBICompanies ON vDDBICompanies.Co=bPMCO.PMCo\nUNION ALL\nSELECT 0,\n    NULL,\n    NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Summarizes job revenue and cost data by job company, contract, and job description, aggregating contract amount, billed amount, received amount, current retainage, and actual costs. Calculates percent\n\nContext: Viewpoint Vista database, view JobTransRevCostSum"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [JCCo],\n    [Contract],\n    [JobDescription],\n    sum([ContractAmt]) AS [ContractAmt],\n    sum([BilledAmt]) AS [BilledAmt],\n    sum([ReceivedAmt]) AS [ReceivedAmt],\n    sum([CurrentRetainAmt]) AS [CurrentRetainAmt],\n    sum([ActualCost]) AS [ActualCost],\n    CASE WHEN sum([ContractAmt]) <>0 THEN (sum([BilledAmt]) / sum([ContractAmt]))*100 ELSE '0' END AS [PercBilled],\n    CASE WHEN sum([ReceivedAmt]) <>0 THEN (sum([ReceivedAmt]) / sum([ContractAmt])) * 100 ELSE '0' END AS [PercReceived],\n    CASE WHEN sum([ContractAmt]) - sum([ActualCost]) > 0 THEN sum([ContractAmt]) - sum([ActualCost]) ELSE 0 END AS [ContractLessCost]\nFROM [dbo].[JobTransRevCost]\nGROUP BY [JCCo]\n    ,[Contract]\n    ,[JobDescription];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMTC"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMTC: PMCo (bCompany, not null); Project (bJob, not null); Transmittal (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPRDeptCostLiab view?"
      },
      {
        "from": "gpt",
        "value": "The brvPRDeptCostLiab view (Module: PR) contains: PRCo, PRGroup, PREndDate, Employee, Phase, Dept, Department, JCCo, JCDept, PRDept, SMCo, SMDepartment, Job, Type, ExpMth... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvGLFSPart3 view?"
      },
      {
        "from": "gpt",
        "value": "The brvGLFSPart3 view (Module: GL) contains: GLCo, PartNo, Part3I, Part3IDesc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vAPAttachmentSendQueue table?"
      },
      {
        "from": "gpt",
        "value": "The vAPAttachmentSendQueue table (Module: AP) contains: KeyID, TableName, TableKeyID, APCo, AttachmentID, SendStatus, ErrorMsg, Retries, VPUserName, TransType, EnqueueDateTime, Vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vRPRSServer.\n\nContext: Viewpoint Vista database, view RPRSServer"
      },
      {
        "from": "gpt",
        "value": "SELECT vRPRSServer.*\nFROM dbo.vRPRSServer;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRROESpecialPaymentDateVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates special holiday or payment dates for an employee's Record of Employment (ROE) in Viewpoint Vista payroll processing by comparing them against the employee's last day paid. For category 'SH', it ensures the special holiday date is after the last day paid; for 'SP', it enforces code-specific rules—'PSL01' or 'MAT01' require the payment date to be on or before the last day paid, while 'WLI01' requires it to be after. It retrieves the last day paid from vPRROEEmployeeHistory, sets an output error message if invalid, and returns 0 for success or 1 for failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMCostProjectionResDet form?"
      },
      {
        "from": "gpt",
        "value": "The PMCostProjectionResDet form includes these fields: Sequence, Job, ProjectionCode, ProjectionDate, PhaseGroup, Phase, CostType, Source, JCTransType, Trans Type"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPOVendorMaterials do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author: Mike Brewer\n> Create date: 10/11/09\n> Description: PCQualificationReport\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSCO: MSCo (bCompany, not null); GLCo (bCompany, not null); Jrnl (bJrnl, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderInvoiceDetailFilter do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMScrubData do?"
      },
      {
        "from": "gpt",
        "value": "The vspIMScrubData stored procedure updates the bIMWE and bIMWENotes tables in Viewpoint Vista ERP by copying non-null ImportedVal values into null UploadVal fields for a specified ImportId. It is used during data import processes to scrub and finalize imported data, ensuring validated values are committed to upload-ready fields without overwriting existing data. Key operations consist of two conditional UPDATE statements, one per table, followed by a success return code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMAttachmentTypeValidate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJonathanP\n> Create date: 04/17/08\n> Description:\tMakes sure the attachment type exists. If it does, it returns the\n> description and ID of that name.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRAZT98 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRAZT98 calculates a prorated tax amount (@amt output) for payroll or withholding purposes by adjusting the subject amount (@subjamt) using federal tax (@fedtax) and basis (@fedbasis) ratios, then multiplying by a selected rate (default 0.32 or specific @miscfactor values like 0.1, 0.2, 0.17, 0.22, 0.28). It is used in Viewpoint Vista ERP's tax processing to derive precise liabilities when federal inputs are valid, exiting early if @fedbasis or @fedtax is zero. Key operations include proration (@subjamt * @fedtax / @fedbasis), conditional rate assignment, and final multiplication (@rate * @subjamt).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCDE"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCDE: JCCo (bCompany, not null); Department (bDept, not null); EarnType (bEarnType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NBT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_NBT09 calculates the per-pay-period Quebec provincial income tax withholding amount for Viewpoint Vista Payroll, based on annual income (@A) and input credits/deductions. It selects bracket-based tax rates (10.12%-17.95%) and personal amounts (KP), computes credits for TCP (K1P), capped CPP/EI contributions (K2P), input K3P, and labour-sponsored fund credit (LCP up to $750), then derives gross tax (T4), net tax (T2 floored at 0), and divides by pay periods (@ppds) for the output @calcamt. Used to ensure accurate Quebec tax withholding on employee paychecks, validating required pay period input.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRResBenACACoverageHist view?"
      },
      {
        "from": "gpt",
        "value": "The HRResBenACACoverageHist view (Module: HR) contains: HRCo, HRRef, BenefitCode, DependentSeq, EffectiveDate, Notes, UniqueAttchID, KeyID, ExpireDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDUT view?"
      },
      {
        "from": "gpt",
        "value": "The DDUT view (Module: DD) contains: VPUserName, ColorSchemeID, SmartCursorColor, ReqFieldColor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRFWT15 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates U.S. federal income tax withholding (FWT) for a payroll period using the percentage method, based on annualized taxable wages, pay periods per year, filing status ('S' single or 'M' married), withholding exemptions, and non-resident alien status. It applies historical tax brackets (circa 2005) to determine the tax amount after allowances ($4,000 each) and adjustments (+$2,300 for non-residents, capped at 1 exemption). Outputs the computed tax (@amt) or an error message (@msg) if inputs are invalid (e.g., zero pay periods)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bWDQYSave"
      },
      {
        "from": "gpt",
        "value": "Key columns in bWDQYSave: QueryName (varchar, not null); Description (varchar, nullable); Title (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGridQueriesIsAssignableInWorkCenterVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates parameters for assigning a grid query to a work center in Viewpoint Vista ERP. It checks for null @QueryType and @IsAssignableInWorkCenter values, and ensures that only query types 0 (SQL) and 1 (View) can be marked assignable ('Y') in a work center, rejecting other types with an error message. On failure, it sets @msg with the reason and returns 1; otherwise, it returns 0 for success.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLClaimItemVariation view?"
      },
      {
        "from": "gpt",
        "value": "The SLClaimItemVariation view (Module: SL) contains: KeyID, SLCo, SL, ClaimNo, Seq, SubReference, Description, ClaimUnits, ClaimAmount, ApproveAmount, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPRQShared"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPRQShared: ReportID (int, not null); DataSetName (varchar, not null); QueryText (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVACopySecurity do?"
      },
      {
        "from": "gpt",
        "value": "The vspVACopySecurity stored procedure copies security permissions from a source user (@fromusername) to a target user (@tousername) in Viewpoint Vista ERP's user security system. It validates that both users exist in the vDDUP table, optionally removes the target user's existing security if @OverWrite is 'Y' by calling vspVACopySecurityRemove, and then merges the source security via vspVACopySecurityMerge. This is used to quickly replicate access rights for efficient user management, returning an error code and message for validation failures.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRED view?"
      },
      {
        "from": "gpt",
        "value": "The PRED view (Module: PR) contains: PRCo, Employee, DLCode, EmplBased, Frequency, ProcessSeq, FileStatus, RegExempts, AddExempts, OverMiscAmt, MiscAmt, MiscFactor, VendorGroup, Vendor, APDesc... (53 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view flattens payroll ledger update month data with job cost entry records by shredding DistributionXML into individual JCCostEntryTransaction rows, exposing transaction-level details like employ\n\nContext: Viewpoint Vista database, view PRLedgerUpdateJCCostEntryTransaction"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vPRLedgerUpdateMonth.PRCo,\n    vPRLedgerUpdateMonth.PRGroup,\n    vPRLedgerUpdateMonth.PREndDate,\n    vPRLedgerUpdateMonth.Posted,\n    vJCCostEntry.*,\n    JCCostEntryTransaction.value('./@Employee','bEmployee') Employee,\n    JCCostEntryTransaction.value('./@PaySeq','tinyint') PaySeq,\n    JCCostEntryTransaction.value('./@PostSeq','smallint') PostSeq,\n    JCCostEntryTransaction.value('./@JCCostTransaction','int') JCCostTransaction,\n    JCCostEntryTransaction.value('./@Type','tinyint') [Type],\n    JCCostEntryTransaction.value('./@EarnCode','bEDLCode') EarnCode,\n    JCCostEntryTransaction.value('./@LiabilityType','bLiabilityType') LiabilityType\nFROM dbo.vPRLedgerUpdateMonth\nINNER JOIN dbo.vJCCostEntry ON vPRLedgerUpdateMonth.PRLedgerUpdateMonthID = vJCCostEntry.PRLedgerUpdateMonthID\n    CROSS APPLY DistributionXML.nodes('/JCCostEntryTransaction') JCCostEntryTransactions(JCCostEntryTransaction);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMPOTotalGet do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMPOTotalGet stored procedure calculates the total amount for a specified purchase order (PO) by summing current costs from PO header and item tables (bPOHD/bPOIT) and adding outstanding amounts from the PM master file (bPMMF) matching the PO company, PM company, project, and PO, excluding interfaced records with specific RecordType conditions ('O' without ACO or 'C' with ACO). It is used in Viewpoint Vista ERP to determine the full committed or pending PO value in project management workflows, such as commitment tracking or payment processing. Key operations include input validation for required parameters, conditional SUM queries with ISNULL handling, and outputting the total amount or an error message with return code.\n\nThe bspPMPOTotalGet stored procedure retrieves the total amount for a specific purchase order (PO) tied to a project by summing current costs from PO header/line item tables (bPOHD/bPOIT) and adding unmatched invoice amounts from the PMMF table (bPMMF) under conditions like pending interface and record types. It is used in Viewpoint Vista ERP for project cost tracking, commitment reporting, or procurement analysis to reflect committed and pending PO values. Key operations include input validation for PO company, PM company, project, and PO; conditional SUM aggregations; and outputting the total amount or an error message with return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvSMWorkOrderOnHold view?"
      },
      {
        "from": "gpt",
        "value": "The vrvSMWorkOrderOnHold view (Module: SM) contains: SMWorkOrderID, OnHold"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMCD view?"
      },
      {
        "from": "gpt",
        "value": "The PMCD view (Module: PM) contains: PMCo, Project, PCOType, PCO, Seq, VendorGroup, SentToFirm, SentToContact, DateSent, DateReqd, DateRecd, Send, PrefMethod, CC, UniqueAttchID... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLAcctNoCompany view?"
      },
      {
        "from": "gpt",
        "value": "The GLAcctNoCompany view (Module: GL) contains: GLAcct, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRAUEmployerFBTCodes form?"
      },
      {
        "from": "gpt",
        "value": "The PRAUEmployerFBTCodes form includes these fields: FBT Type, EDLType, EDL Code, Category, Amount, Notes, Tax Year Key"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PROS view?"
      },
      {
        "from": "gpt",
        "value": "PR Overtime Shift Override"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRRaceVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPRRaceVal validates a race code for a specified payroll company (PRCo) by checking its existence in the PRRC table and retrieving the corresponding description. It is used in HR/payroll systems to confirm valid race codes before data entry or processing, preventing invalid entries. Key operations include validating input parameters, querying PRRC for the description, setting an output error message if missing or invalid, and returning 0 for success or 1 for failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCAllocationDesc do?"
      },
      {
        "from": "gpt",
        "value": "The vspJCAllocationDesc stored procedure retrieves the description for a specific allocation code from the JCAC table in Viewpoint Vista's Job Costing module for a given company. It is used to look up allocation descriptions, supporting UI displays, reports, or validation in job cost allocation processes. Key operations include validating non-null company code (@jcco) and non-empty allocation code (@alloccode), performing a NOLOCK SELECT to populate the output @msg parameter, and returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMImportEditSubs form?"
      },
      {
        "from": "gpt",
        "value": "The PMImportEditSubs form includes these fields: Sequence, Phase Group, Phase, Import Phase, Cost Type, Import Id, PMCO.APCo, Import Cost Type, Vendor Group, Vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_SKT17 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the per-pay-period Saskatchewan (SK) provincial income tax withholding (T2 amount) for Canadian payroll, based on annual income (@A), tax brackets (11-15%), basic credits (@KP), federal tax credits (@K1P/@K2P), other credits (@K3P), and a limited capital stock credit (@LCP capped at $1000). It applies tax rates and deductions to derive gross tax (@T4), subtracts credits, floors at zero, and divides by pay periods per year (@ppds) to output the periodic withholding amount (@calcamt). Errors are returned if required inputs like @ppds are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMWS"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMWS: ImportId (varchar, not null); Sequence (int, not null); Item (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOItemStatusUpdate do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMPCOItemStatusUpdate stored procedure updates the Status field in the PMOI (PCO Item) table for all items linked to a specific Potential Change Order (PCO), identified by company (PMCo), project, PCO type, and PCO number. It is used in Viewpoint Vista's Project Management module to bulk-change PCO item statuses during change order workflows, ensuring synchronization with the PCO header (PMOP). Key operations include validating input parameters, joining PMOI with PMOP for matching records, and applying the update only if the current item status differs from the new one and both item and header statuses are not null.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspUpdatePOReleaseHistory do?"
      },
      {
        "from": "gpt",
        "value": "This SP archives PO release line details from a staging/budget table (budPORelease) into the udPOReleaseHistory table for lines with non-zero release units, ensuring an audit trail of releases. It then deletes temporary release data from udPORelease and updates the history records with current remaining and total released units pulled from POReleasedUnits. Overall, it finalizes and snapshots PO release changes for historical tracking in the Purchase Order module."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPRCoGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the Payroll Company code (PRCo) associated with a specified HR Company code (HRCo) from the HRCO table in Viewpoint Vista's HR/Payroll module. It validates the input HRCo to ensure it's not null, performs the lookup, and defaults PRCo to -1 if no matching record exists. Primarily used to map HR companies to their payroll counterparts for processing consistency, returning a success/error code and optional error message.\n\nThis stored procedure retrieves the Payroll Company code (PRCo) linked to a specified HR Company code (HRCo) from the HRCO table in Viewpoint Vista's HR/Payroll module. It validates the input HRCo to ensure it is not null, returning an error code and message if invalid; otherwise, it performs the lookup and defaults PRCo to -1 if no matching record exists. It is used to map HR companies to their corresponding payroll companies for accurate processing in HR and payroll operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the IMWEHeader view?"
      },
      {
        "from": "gpt",
        "value": "This view extracts unique header-level records from import transactions in the IM module, selecting identifiers like ImportId, ImportTemplate, Form, RecordType, and RecordSeq. It uses GROUP BY on these fields to provide distinct combinations, eliminating duplicates from the underlying base table."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMOZ"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMOZ: UserId (bVPUserName, not null); ContractItem (bContractItem, not null); PMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOHB table?"
      },
      {
        "from": "gpt",
        "value": "The bPOHB table (Module: PO) contains: Co, Mth, BatchId, BatchSeq, BatchTransType, PO, VendorGroup, Vendor, Description, OrderDate, OrderedBy, ExpDate, Status, JCCo, Job... (66 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRGetMthsForAnnualCalcs do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the 12-month fiscal period (begin and end months) for annual payroll calculations, given a fiscal year-end month (@yearendmth) and an input month/date (@mth). It validates inputs, extracts and adjusts the year from @mth if needed (incrementing if @mth exceeds @yearendmth), sets @endmth to the first day of the fiscal year-end month, and derives @beginmth as 11 months prior. Primarily used in Viewpoint Vista ERP payroll to align transactions with the correct fiscal year for reporting or accruals, returning success/error codes and messages.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCOR table?"
      },
      {
        "from": "gpt",
        "value": "The bJCOR table (Module: JC) contains: JCCo, Contract, Month, RevCost, OtherAmount, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the APLBGrid view?"
      },
      {
        "from": "gpt",
        "value": "The APLBGrid view (Module: AP) contains: Co, Mth, BatchId, BatchSeq, APLine, BatchTransType, LineType, Description, UM, GrossAmt, MiscAmt, MiscYN, TaxType, TaxAmt, Retainage... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPMMatlSubDtl view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view unions material commitments (Type='M') from PMMF, subcontract lines (Type='S') from PMSL, and change order items/lines (Type='CO') from PMOI/PMOL for RecordType='C' records in Project Management. It standardizes project-level details like PCO/ACO references, units/costs/phases, sourcing (PO/SL), vendor info, and interface status, with type-specific defaults (e.g., NULLs for non-applicable fields, CASE for POSL/PCOACO). Transformations include ISNULL for PCO fields, computed POSL from PO/Subcontract, and zeroed estimates/pricing where irrelevant."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCOI form?"
      },
      {
        "from": "gpt",
        "value": "The JCOI form includes these fields: Job, ACO, Contract, ACO Int-Ext flag, ACOItem, Contract, Item, UM, UnitPrice, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RQVQ"
      },
      {
        "from": "gpt",
        "value": "Key columns in RQVQ: RQCo (bCompany, not null); Vendor (bVendor, not null); Quote (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVCEmailFieldsForTemplateGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves email fields available for a specified email template (@TemplateName), including those directly associated with the template and all non-built-in fields. It is used in Viewpoint Vista ERP to populate lists of merge fields (e.g., for dropdowns in template editors), enabling users to insert dynamic data like vendor or contract details into email content. Key operations involve a JOIN across VCEmailField, VCEmailTemplateField, and VCEmailTemplate tables for template-specific fields, UNION ALL with a SELECT of all fields where BuiltIn = 'N'.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLClaimHeader"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLClaimHeader: KeyID (bigint, not null); SLCo (bCompany, not null); SL (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspVAWDNotifier do?"
      },
      {
        "from": "gpt",
        "value": "This SP executes automated email notifications based on a configured \"job\" in Vista's Workflow Notifier system (WD module), running a dynamic query (from VPGridQueries or similar) to generate report data, which is formatted into emails with customizable subjects, bodies, HTML, and recipients. It supports test mode (overriding recipients), consolidation/grouping of results (e.g., by subject via WFNFGrouping), and is optimized for SQL Agent scheduling. Core logic fetches job config from bWDJB, validates settings, prepares grouped data, and queues emails via vMailQueue."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view merges standard and company-specific combo items for the DD module into a single unified dataset via full outer join on ComboType, prioritizing company-specific values (vDDCIc) over standard\n\nContext: Viewpoint Vista database, view DDCIShared"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    isnull(vDDCIc.ComboType,vDDCI.ComboType) AS ComboType,\n    isnull(vDDCIc.Seq,vDDCI.Seq) AS Seq,\n    isnull(vDDCIc.DisplayValue,vDDCI.DisplayValue) AS DisplayValue,\n    isnull(vDDCIc.DatabaseValue,vDDCI.DatabaseValue) AS DatabaseValue\nFROM dbo.vDDCIc\nfull OUTER JOIN dbo.vDDCI ON vDDCI.ComboType = vDDCIc.ComboType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvJCContractMaster view?"
      },
      {
        "from": "gpt",
        "value": "This report validation view exposes master data for Job Costing contracts from the JCCM table, including contract identifiers, status, financial totals like original/current amounts, billed/received/retainage, billing details, customer info, and project dates. It applies a key transformation to MonthClosedForReport, defaulting to a far-future date (12/2/2050) for open contracts (status <>1) to facilitate reporting on projected closeouts. Provides a flattened snapshot for direct querying without joins."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SL Compliance Tracking\n\nContext: Viewpoint Vista database, view SLCT"
      },
      {
        "from": "gpt",
        "value": "SELECT bSLCT.*\nFROM dbo.bSLCT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the GLMinorCategory view?"
      },
      {
        "from": "gpt",
        "value": "The GLMinorCategory view (Module: GL) contains: MajorCategory, MinorCategory, Description, BalanceSheetOrder, IncomeStatementOrder, CashFlowStatementOrder, CurrentRatioYN, QuickRatioYN, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMWorkCompletedPurchaseExt view?"
      },
      {
        "from": "gpt",
        "value": "Combines service management work completed headers, details, and purchase records into a unified view of purchase transactions for completed service work, capturing work orders, scopes, actual costs, quantities, PO references, and tax elements while excluding deleted or session-only entries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMRD table?"
      },
      {
        "from": "gpt",
        "value": "The bPMRD table (Module: PM) contains: PMCo, Project, RFIType, RFI, RFISeq, VendorGroup, SentToFirm, SentToContact, DateSent, InformationReq, DateReqd, Response, DateRecd, Send, PrefMethod... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspMSCheckDefaultRecipients do?"
      },
      {
        "from": "gpt",
        "value": "> =================================================================\n> Author:\t\tCasey Schurman\n> Create date: 04/26/2018\n> Modified:\n> -- Description:\tReturns whether the AR Customer has default recipients\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCContractValForJobInChangeMode do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a Job Cost (JC) contract associated with a specific job can be entered into change mode for modifications. It confirms the job exists in JCJM and checks that the contract is not marked closed (bJCCC), has no job history (bJCHJ), and no change orders (bJCOH). If any blocking condition exists, it returns an error code (1) and message via @msg; otherwise, it returns success (0)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Validate GLBL vs GLYB Totals for First Period (2022-12-01)\n\nModule: Unknown"
      },
      {
        "from": "gpt",
        "value": "DECLARE @Company TINYINT = 1;\nDECLARE @Period SMALLDATETIME = '2022-12-01';\n\nDECLARE @FYBeginMth SMALLDATETIME;\nDECLARE @FYEMO SMALLDATETIME;\n\nSelect @FYBeginMth = BeginMth, @FYEMO = FYEMO\nFrom GLFY (NOLOCK)\nWHERE GLCo = @Company\n  AND @Period BETWEEN BeginMth AND FYEMO;\n\nPRINT '================================================================================';\nPRINT 'GLBL vs GLYB Validation - FIRST Period';\nPRINT 'Company: ' + CAST(@Company AS VARCHAR);\nPRINT 'Period: ' + CONVERT(VARCHAR, @Period, 120);\nPRINT 'Fiscal Year: ' + CONVERT(VARCHAR, @FYBeginMth, 120) + ' To ' + CONVERT(VARCHAR, @FYEMO, 120);\nPRINT '================================================================================';\nPRINT '';\n\nWITH Active_GL_Accounts AS (\n    Select GLCo, RTRIM(GLAcct) AS GLAcct, RTRIM(Description) AS AcctDesc, AcctType\n    From GLAC (NOLOCK)\n    WHERE GLCo = @Company AND Active = 'Y' AND AcctType NOT IN ('H', 'M')\n),\nGLBL_Balances AS (\n    Select \n        Active_GL_Accounts.GLAcct,\n        Active_GL_Accounts.AcctDesc,\n        Active_GL_Accounts.AcctType,\n        CASE\n            WHEN Active_GL_Accounts.AcctType IN ('I', 'c', 'P') THEN\n            ELSE\n        END AS Balance\n    From Active_GL_Accounts\n    LEFT JOIN GLBL (NOLOCK)\n        ON GLBL.GLCo = Active_GL_Accounts.GLCo AND RTRIM(GLBL.GLAcct) = Active_GL_Accounts.GLAcct\n    GROUP BY Active_GL_Accounts.GLAcct, Active_GL_Accounts.AcctDesc, Active_GL_Accounts.AcctType\n    HAVING CASE\n            WHEN Active_GL_Accounts.AcctType IN ('I', 'c', 'P') THEN\n                ISNULL(SUM(CASE WHEN GLBL.Mth >= @FYBeginMth AND GLBL.Mth <= @Period THEN GLBL.NetActivity ELSE 0 END), 0)\n            ELSE\n                ISNULL(SUM(CASE WHEN GLBL.Mth <= @Period THEN GLBL.NetActivity ELSE 0 END), 0)\n        END <> 0\n),\nGLYB_Balances AS (\n    Select \n        Active_GL_Accounts.GLAcct,\n        Active_GL_Accounts.AcctDesc,\n        Active_GL_Accounts.AcctType,\n        ISNULL(SUM(CASE WHEN GLBL.Mth >= @FYBeginMth AND GLBL.Mth <= @Period\n                        THEN GLBL.NetActivity ELSE 0 END), 0) AS Balance\n    From Active_GL_Accounts\n    LEFT JOIN GLYB (NOLOCK)\n        ON GLYB.GLCo = Active_GL_Accounts.GLCo\n        AND RTRIM(GLYB.GLAcct) = Active_GL_Accounts.GLAcct\n        AND GLYB.FYEMO = @FYEMO\n    LEFT JOIN GLBL (NOLOCK)\n        ON GLBL.GLCo = Active_GL_Accounts.GLCo AND RTRIM(GLBL.GLAcct) = Active_GL_Accounts.GLAcct\n    GROUP BY Active_GL_Accounts.GLAcct, Active_GL_Accounts.AcctDesc, Active_GL_Accounts.AcctType, GLYB.BeginBal\n    HAVING ISNULL(GLYB.BeginBal, 0) +\n           ISNULL(SUM(CASE WHEN GLBL.Mth >= @FYBeginMth AND GLBL.Mth <= @Period\n                           THEN GLBL.NetActivity ELSE 0 END), 0) <> 0\n)\nSelect \n    'GLBL Total' AS Method,\n    SUM(Balance) AS Total,\n    COUNT(*) AS AccountCount\nFrom GLBL_Balances\n\nUNION ALL\n\nSelect \n    'GLYB Total' AS Method,\n    SUM(Balance) AS Total,\n    COUNT(*) AS AccountCount\nFrom GLYB_Balances\n\nUNION ALL\n\nSelect \n    'Variance (GLBL - GLYB)' AS Method,\n    (Select SUM(Ba"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRTemplateDelete do?"
      },
      {
        "from": "gpt",
        "value": "The bspPRTemplateDelete stored procedure removes a specified payroll template and its related records from multiple tables (PRTP, PRTE, PRTF, PRTD, PRTC, PRTR, PRTI, PRCT, and optionally PRTM) in Viewpoint Vista ERP. It is used to clean up obsolete payroll templates at the company level, with @deleteopt='S' enabling craft-specific deletion or defaulting to full template deletion across all crafts. Key operations include conditional DELETE statements based on company (@prco), template ID (@template), and craft (@craft), returning a success message and zero return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRChart"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRChart: HRCo (bCompany, not null); HRRef (bHRRef, not null); LastName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRMyTimesheetLoadProc do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 1/20/11\n> Modified:  ECV 04/19/11 TK-04236 Added default SMCo from PRCo\n> Description:\tLoad proc for PR My Timesheet forms\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvSLSubContractStatus"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvSLSubContractStatus: SLCo (bCompany, not null); SL (varchar, nullable); SLItem (bItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCPBGetPrevNext do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure navigates to the previous or next contract item/phase within a specific Job Cost progress billing (JCPB) batch for a given company, month, and sequence. It respects user preferences from the JCProjection form (e.g., cost types, phase ranges, remainders) to determine the ordering ('P' for phase, 'C' for contract item) and supports cycling through records. Outputs the updated sequence, item, and phase for UI navigation or processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join brvPOCT_DistinctPO with PMMF in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join brvPOCT_DistinctPO with PMMF, use:\n\n```sql\nFROM brvPOCT_DistinctPO\nINNER JOIN PMMF\n  ON brvPOCT_DistinctPO.POCo = PMMF.POCo AND brvPOCT_DistinctPO.PO = PMMF.PO\n```\n\nThis pattern is used in the vrvPMVendorRegister view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalHTMLTables"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalHTMLTables: HTMLTableID (int, not null); DataGridID (int, nullable); DetailsID (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDateFormat table?"
      },
      {
        "from": "gpt",
        "value": "The vDateFormat table (Module: Other) contains: DFId, DateFormat"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_AU_PAYG14 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Australian PAYG (Pay As You Go) income tax withholding for a payroll period using tiered tax rates specific to tax scales (e.g., Scale 1, 11, etc.). It annualizes or adjusts the input gross pay (`@subjamt`) based on pay frequency (`@ppds`: weekly/52, fortnightly/26, monthly/12), applies scale-specific brackets with marginal rates (`@a`) and fixed offsets (`@b`), and outputs the withholding amount (`@amt`). Parameters like exemptions (`@addlexempts`), non-resident alien status, and FTB offsets influence the final computation (though snippet shows early logic)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvINPlantSummary view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view aggregates inventory transactions (excluding usage and production) into Sales or Cost of Sales categories by plant location, month, and material, summing units, tons (sales only in TON UoM), and prices (negative for sales, positive for costs). It appends production costs from job phases (JCCP ActualCost) and equipment costs (EMCD Dollars), treating them uniformly as positive Price with negative ReversePrice. All data aligns by company, location, period, and descriptive hierarchies for plant-level material/cost reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspINMatlCopyLMInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a list of eligible target inventory locations (from bINLM) for copying material setup information from a source location, excluding the source itself and any locations already containing the specified material (or all materials in a category via HQMT/INMT join). It supports optional filtering by active status and toggles between listing all locations (`@allLoc='A'`) or only those without existing material data (`@allLoc='L'`). The output helps users identify safe targets for bulk material replication in multi-location inventory setups."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCrewTSEntry form?"
      },
      {
        "from": "gpt",
        "value": "The PRCrewTSEntry form includes these fields: Crew, PostDate, SheetNum, CreatedOn, CreatedBy, PRBatchMth, PRBatchId, JCCo, PhaseGroup, Job"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMInvoiceFlatPriceChange form?"
      },
      {
        "from": "gpt",
        "value": "The SMInvoiceFlatPriceChange form includes these fields: Work Order, Scope, Is Preventative Maintenance, Description, Flat Price, Invoice, Invoice Detail, Previously Billed, Previously Billed Percent, Billing Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bsp_HQADSave do?"
      },
      {
        "from": "gpt",
        "value": "The bsp_HQADSave stored procedure creates a backup table named bHQADSave by selecting and copying all records from the bHQAD table where Custom = 'Y'. It first checks for and drops any existing bHQADSave table to ensure a clean overwrite. This is used in Viewpoint Vista ERP to snapshot custom HQAD data for safe preservation, auditing, or reference before modifications.\n\nThe stored procedure bsp_HQADSave creates a backup table named bHQADSave by first dropping any existing version, then copying all records from the bHQAD table where Custom = 'Y'. It is used in Viewpoint Vista ERP to snapshot and preserve custom HQAD data, likely before updates or for auditing/reporting purposes. Key operations are existence check and DROP TABLE, followed by SELECT INTO for data transfer.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPGLCoVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a GL Company number (@glco) by checking for null input and existence in the GLCO table, then retrieves the associated TaxGroup from bHQCO if valid. It outputs the TaxGroup value on success or an error message (e.g., missing or invalid GL Company) with a return code of 1 on failure. Primarily used in Viewpoint Vista ERP's AP module to ensure GL company validity before related operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the POXA view?"
      },
      {
        "from": "gpt",
        "value": "PO Close JC Distribution Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSubmittalPackage form?"
      },
      {
        "from": "gpt",
        "value": "The PMSubmittalPackage form includes these fields: Vendor Group, Project Key, Document Category, Default Vendor Group, PMCO Exists Flag, Status Code Type, Project on Form, Document Category Active, Package, Package Revision"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPSecurableTemplates do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves Canvas Settings Templates (customizable UI/dashboard configurations in Viewpoint Vista Portal) for a specified company, along with their security access assignments filtered by security group ('G') or user ('U'). It resolves access levels (e.g., view/edit) by joining template security data, handling standard templates and multi-company access based on the caller's permissions. Output includes template keys/names, security group/user details, and computed access flags for administrative review."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSWD table?"
      },
      {
        "from": "gpt",
        "value": "The bMSWD table (Module: MS) contains: Co, Mth, BatchId, BatchSeq, TransMth, MSTrans, PayCode, PayBasis, PayRate, PayTotal, UniqueAttchID, Ticket, SaleDate, Truck, TruckType... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RfiResponse view?"
      },
      {
        "from": "gpt",
        "value": "This view consolidates RFI response records with linked project, company, and document type details, including response notes, dates, and sender/recipient contacts. It maps local entities to global identifiers for integrated reporting across systems. Contact information is derived from project contacts based on firm and contact codes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkCompleted with SMWorkOrderScope in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkCompleted with SMWorkOrderScope, use:\n\n```sql\nFROM SMWorkCompleted\nINNER JOIN SMWorkOrderScope\n  ON SMWorkCompleted.SMCo = SMWorkOrderScope.SMCo AND SMWorkCompleted.WorkOrder = SMWorkOrderScope.WorkOrder AND SMWorkCompleted.Scope = SMWorkOrderScope.Scope\n```\n\nThis pattern is used in the vrvSMWorkOrderProfitReports view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides GL account details with summary account attributes, transaction-level debits/credits/net amounts split by month/fiscal period/year, beginning balances, and descriptions for account segments (\n\nContext: Viewpoint Vista database, view brvGLFSSum"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    GLAC.*,\n    SummaryDesc=isnull(GLAC_1.Description,GLAC.Description),\n    SummaryActType=GLAC_1.AcctType,\n    SummarySubType=GLAC_1.SubType,\n    SummaryActive=GLAC_1.Active,\n    SummaryNormBal=GLAC_1.NormBal,\n    GLDT.Mth,\n    GLDT.Adjust,\n    GLDT.SourceCo,\n    GLDT.Source,\n    GLDT.Jrnl,\n    GLDT.GLRef,\n    Debit=CASE\n    WHEN GLDT.Amount>0 THEN GLDT.Amount\n    ELSE 0 END,\n    Credit=CASE\n    WHEN GLDT.Amount<0 THEN -GLDT.Amount\n    ELSE 0 END,\n    NetAmt=isnull(GLDT.Amount,0),\n    GLDT.GLTrans,\n    GLDT.ActDate,\n    TransDesc=GLDT.Description,\n    GLDT.BatchId,\n    GLFP.FiscalPd,\n    GLFP.FiscalYr,\n    GLYB.FYEMO,\n    BeginBal=isnull(GLYB.BeginBal,0),\n    brvGLFSPart2.Part2I,\n    brvGLFSPart2.Part2IDesc,\n    brvGLFSPart3.Part3I,\n    brvGLFSPart3.Part3IDesc,\n    \"P1Desc\"=GLPD_1.Description,\n    \"P2Desc\"=GLPD_2.Description,\n    \"P3Desc\"=GLPD_3.Description,\n    \"P4Desc\"=GLPD_4.Description\nFROM (GLAC\nLEFT JOIN dbo.GLAC AS GLAC_1\n    ON GLAC_1.GLCo=GLAC.GLCo AND GLAC_1.GLAcct=GLAC.SummaryAcct\nLEFT JOIN dbo.GLDT ON GLDT.GLCo=GLAC.GLCo AND GLDT.GLAcct=GLAC.GLAcct\nLEFT JOIN GLFP ON GLFP.GLCo=GLDT.GLCo AND GLFP.Mth=GLDT.Mth)\nLEFT JOIN GLYB ON GLYB.GLCo=GLDT.GLCo AND GLYB.GLAcct=GLAC.GLAcct AND\n    DATEPART(year,GLYB.FYEMO)=GLFP.FiscalYr\nLEFT JOIN brvGLFSPart2 ON brvGLFSPart2.GLCo=GLAC.GLCo AND brvGLFSPart2.Part2I=GLAC.Part2\nLEFT JOIN brvGLFSPart3 ON brvGLFSPart3.GLCo=GLAC.GLCo AND brvGLFSPart3.Part3I=GLAC.Part3\nLEFT JOIN dbo.GLPD AS GLPD_1 ON GLPD_1.GLCo=GLAC.GLCo AND GLPD_1.PartNo=1\nLEFT JOIN dbo.GLPD AS GLPD_2 ON GLPD_2.GLCo=GLAC.GLCo AND GLPD_2.PartNo=2\nLEFT JOIN dbo.GLPD AS GLPD_3 ON GLPD_3.GLCo=GLAC.GLCo AND GLPD_3.PartNo=3\nLEFT JOIN dbo.GLPD AS GLPD_4 ON GLPD_4.GLCo=GLAC.GLCo AND GLPD_4.PartNo=4;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREmplValForWOTimeCards do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates an employee identifier (numeric ID, exact SortName, or partial SortName match) for use in Work Order Time Cards within the Payroll (PR) module. It retrieves key employee details (e.g., name components, ActiveYN, EMFixedRate) from PREHName, enforces activity status rules based on @activeopt ('Y' active, 'N' inactive, 'X' any), and checks for a non-zero fixed rate. Outputs validated employee ID, fixed rate, and a success/error message for UI feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTBValJob do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a line item in a Material Sales Ticket Batch (bMSTB) against job cost (JC) details, including phases, cost codes, vendors, equipment, labor, hauls, taxes, and surcharges. It checks job existence, unit conversions, GL accounts, tax adjustments (e.g., GST), and flags errors via @errmsg for data integrity before posting. Handles both new/updated lines and parent-child surcharge relationships."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Document.vDocumentRoleType table?"
      },
      {
        "from": "gpt",
        "value": "The Document.vDocumentRoleType table (Module: Other) contains: DocumentRoleTypeId, RoleName, KeyID, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsPREH do?"
      },
      {
        "from": "gpt",
        "value": "The bspIMBidtekDefaultsPREH stored procedure handles default value setup for Bidtek data imports into the PREH module within Viewpoint Vista ERP, typically during employee or record import processes. It accepts parameters like company, import ID, template, form, and record type, initializing variables for processing upload data such as sequence, identifiers, and validation. Key operations include setting a success return code (0) and outputting a generic message (e.g., 'Employee [bspBidtekDefaultPREH]'), serving as a stub for potential expansion in Bidtek-to-Vista data synchronization.\n\nbspIMBidtekDefaultsPREH is a Viewpoint Vista ERP stored procedure used in the Import Manager to process and apply default values for Bidtek PREH records during data imports. It accepts parameters like Company, ImportId, ImportTemplate, Form, and record type to handle import validation and setup. Key operations include initializing processing variables for record sequencing, table/column mapping, upload values, and validation counts, then returning a status code and output message indicating success or errors.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APIntercoInvoice form?"
      },
      {
        "from": "gpt",
        "value": "The APIntercoInvoice form includes these fields: Month, Batch ID, Material Sales Co, Restrict by Company, 'Sold To' Company, JC or IN, Begin Inv Date, Ending Inv Date, AP GLCo, Month, Batch ID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspPortalThemesGet do?"
      },
      {
        "from": "gpt",
        "value": "vpspPortalThemesGet retrieves a list of all available portal themes from the pPortalThemes table, returning the ThemeID, Name, and Path for each. It is used in Viewpoint Vista ERP to fetch theme options for portal customization, allowing administrators or users to view and select themes for the user interface. The procedure performs a simple SELECT operation with SET NOCOUNT ON for efficient querying without row count messages.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPCopySourceReportIDVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a source Report ID to confirm it exists and is a supported type (Crystal .rpt, SQL Reporting Services, or Other) via the BI module. Generates the next sequential Report ID for copying/duplication: core Viewpoint reports use IDs ≤9999 from RPRT (for Viewpoint users), while custom reports use IDs ≥10000 from RPRTc (for others), capping at 99999. Returns the new ID, success/error code, and status message for the copy operation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides a grid listing of Payroll (PR) batches from headquarters batch control, including company, month, batch ID, PR group, and payroll end date. It filters exclusively to batches with So\n\nContext: Viewpoint Vista database, view PRTZGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    HQBC.Co,\n    HQBC.Mth,\n    HQBC.BatchId,\n    HQBC.PRGroup,\n    HQBC.PREndDate\nFROM HQBC WITH (nolock)\nLEFT JOIN PRTB WITH (nolock) ON HQBC.Co=PRTB.Co AND HQBC.Mth=PRTB.Mth AND HQBC.BatchId=PRTB.BatchId\nWHERE Source='PR Entry';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMDHOther"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMDHOther: PMCo (bCompany, not null); Project (bJob, not null); DocType (bDocType, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRRS"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRRS: HRCo (bCompany, not null); HRRef (bHRRef, not null); Code (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APPayWorkfile form?"
      },
      {
        "from": "gpt",
        "value": "The APPayWorkfile form includes these fields: select by vendor, default CM Acct, dflt vendorgroup, Dflt CMCo, JCCo, select by CMAcct YN, select by CMAcct, Credit Service CM Company, Credit Service CM Account, Vendor CM Account"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Invoice Reviewers\n\nContext: Viewpoint Vista database, view HQRV"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQRV.*\nFROM dbo.bHQRV;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vHQResponseValue table?"
      },
      {
        "from": "gpt",
        "value": "The vHQResponseValue table (Module: HQ) contains: ValueCode, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProgressPhasesClear do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes records from the bJCPPPhases table matching the specified company, month, batch ID, job, and phase group parameters. It is used in Viewpoint Vista's job costing module to clear progress phases data, typically for corrections, resets, or reprocessing billing/progress entries. The sole key operation is a conditional DELETE statement, followed by a success return code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCPR table?"
      },
      {
        "from": "gpt",
        "value": "The bJCPR table (Module: JC) contains: KeyID, JCCo, Mth, ResTrans, Job, PhaseGroup, Phase, CostType, PostedDate, ActualDate, JCTransType, Source, BudgetCode, EMCo, Equipment... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMCustomerContact form?"
      },
      {
        "from": "gpt",
        "value": "The SMCustomerContact form includes these fields: Customer Group, Customer, Contact Group, Contact Seq, Phone, Phone Ext, Cell, Fax, Email, Title"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPMBuyOutACO view?"
      },
      {
        "from": "gpt",
        "value": "Combines job cost estimates with committed buy-out costs from interfaced PM subcontract and miscellaneous transactions into a unified ACO-level summary. Aggregates estimated costs from job cost company details (with committed costs zeroed) and sums committed amounts from PMSL/PMMF (with estimates zeroed), grouped by company/job, phase group/phase, cost type, ACO, and item."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPCQualContactsSubReport do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves detailed contact information for pre-qualified vendors in the PC (Pre-Qualification) module, including name, title, experience years, contact details, and preferred communication method, with a lookup for contact type descriptions. It formats the output with a record type flag ('R') for actual data rows and appends three blank rows ('B' type with line numbers 1-3) to support subreport layout needs, such as spacing or section breaks in reporting tools like Crystal Reports. The result is tailored for a vendor qualification contacts subreport."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCContractOpenSLs view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers open service line (SL) totals for each contract, including associated job details, remaining costs, total invoiced amounts, and boolean flags indicating if related work exists in other contracts or is marked as batched/closed. It joins contract master data with computed SL aggregates from a scalar function applied per contract. Key transformations include cross-applying the function to derive open balances and status checks not stored directly in headers."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMSUBCOHeaderAmounts view?"
      },
      {
        "from": "gpt",
        "value": "Provides header amounts and taxes for PM subcontract change orders (SubCO), calculating cumulative previous approved totals (excluding current SubCO) from eligible subcontract lines (bPMSL) flagged for interface. Aggregates current, approved, and unapproved line amounts/taxes by company (SLCo), subcontract (SL), and SubCO, using tax rates from setup function. Distinguishes lines ready for accounting based on status, ACO presence, or subcontract approval."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPGetProjectParameters do?"
      },
      {
        "from": "gpt",
        "value": "vspRPGetProjectParameters retrieves parameter names from the vRPRP view for a specific report, filtering for project-related boolean datatypes ('bProject' or 'bJob'). It is used in Viewpoint Vista ERP reporting workflows to identify essential project or job parameters needed for report generation or customization. The procedure executes a simple SELECT query based on the provided ReportID.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBCDAttachments do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a distinct list of AttachmentIDs (via HQAT) linked to supporting documents for a specific Job Billing invoice identified by company (@co), billing month (@mth), and bill number (@billnum). It traces billing lines (JBIN/bJBIN, JBIL, JBID, JBIJ) back to originating cost transactions (JCCD) in two paths: (1) Accounts Payable invoices (APTL/APTH) and (2) Payroll transactions (PRJC/PRTH), pulling attachments from those source documents. This supports viewing all relevant attachments without duplicates for the billed costs/change documents."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APUnappInvRev form?"
      },
      {
        "from": "gpt",
        "value": "The APUnappInvRev form includes these fields: Reviewer select, ApproveYN, JobYN, Select JCCo, Select Job, Line Type List, Reviewer, UIMth, UISeq, Vendor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPOValWithVendRtn do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Purchase Order (PO) for a specific company by confirming its existence in the POHD table and retrieving linked vendor details (ID, name, group) from APVM. It returns a success/failure status code, error message, PO status, and vendor data via OUTPUT parameters. Used to ensure PO legitimacy and fetch vendor context in a single atomic operation within the PO module."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viFact_HRHistoryByPosition view?"
      },
      {
        "from": "gpt",
        "value": "This BI fact view delivers HR resource history change events (hire/termination types) augmented with the most recent position code effective as of each change date, enabling time-based position tracking. It transforms raw history records by correlating reason changes with prior position assignments via max date matching and groups position entries for deduplication. Outputs include surrogate keys for companies, resources, payroll entities, datediff-based change IDs, reason/position masters, and a count of 1 per event."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMWX"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMWX: PMCo (bCompany, not null); ImportId (varchar, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPShared_SMWorkOrderInvoiceDetail view?"
      },
      {
        "from": "gpt",
        "value": "The VPShared_SMWorkOrderInvoiceDetail view (Module: VP) contains: SMCo, WorkOrder, Scope, CustGroup, Customer, BillToCustGroup, BillToCustomer, ServiceCenter, Division, ServiceSite, ScopeStatus, PriceMethod, Price, Service, WorkCompleted... (27 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDMF view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDMF."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkScope"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkScope: SMCo (bCompany, not null); WorkScope (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Contract Information\n\nModule: AR"
      },
      {
        "from": "gpt",
        "value": "WITH CTE_Inv AS (\n    Select \n        ARTH.ARCo,\n        ARTH.ARTransType,\n        CONCAT(ARTH.CustGroup,' | ',ARTH.Customer) AS Customer_ID,\n        \n        CASE\n            WHEN ARTH.Contract IS NULL THEN NULL\n            ELSE CONCAT(LTRIM(RTRIM(JCCM.Contract)),' | ',JCCM.Description)\n        END AS JobNum_Name,\n        \n        CASE\n            WHEN ARTL.Item IS NULL THEN NULL\n            ELSE CONCAT(LTRIM(RTRIM(ARTL.Item)),' | ',JCCI.Description)\n        END AS ContractItem_Name,\n        \n        ARTL.Item AS ContractItem,\n        \n        JCCI.ContractAmt AS Item_ContractAmt,\n        JCCI.ContractUnits AS Item_ContractUnits,\n        JCCI.UnitPrice AS Item_UnitPrice,\n        JCCI.BilledAmt AS Item_BilledAmt,\n        JCCI.BilledUnits AS Item_BilledUnits,\n        JCCI.ReceivedAmt AS Item_ReceivedAmt,\n        JCCI.CurrentRetainAmt AS Item_CurrentRetainAmt,\n        JCCI.BillType AS Item_BillType,\n        \n        CASE\n            WHEN ARTH.Contract IS NULL THEN NULL\n            WHEN JCCM.ContractStatus = 1 THEN 'Open'\n            WHEN JCCM.ContractStatus = 2 THEN 'Soft-Closed'\n            WHEN JCCM.ContractStatus = 3 THEN 'Hard-Closed'\n            ELSE 'Pending'\n        END AS JobStatus_Text,\n        \n        CASE\n            WHEN ARTH.ARTransType <> 'P' AND JCCM.Department IS NULL THEN '2 | Service'\n            WHEN JCCM.Department IS NOT NULL THEN CONCAT(JCDM.Department,' | ',JCDM.Description)\n            ELSE NULL\n        END AS DeptNum_Name,\n        \n        LTRIM(RTRIM(ARTH.Invoice)) AS Invoice,\n        CONCAT(ARTH.ARCo,' | ',LTRIM(RTRIM(ARTH.Invoice))) AS Invoice_ID,\n        ARTH.Source, ARTH.Mth, ARTH.TransDate, ARTH.DueDate, ARTH.PayFullDate,\n        SMInvoice.VoidDate,\n        SMInvoiceList.Invoiced AS OrgInvAmt,\n        \n        ARTL.Amount AS Line_Amount,\n        ARTL.TaxAmount AS Line_TaxAmount,\n        ARTL.Retainage AS Line_Retainage,\n        ARTL.DiscOffered AS Line_DiscOffered,\n        ARTL.DiscTaken AS Line_DiscTaken,\n        \n        ARTH.Invoiced, ARTH.Retainage, ARTH.AmountDue, ARTH.Paid, ARTH.DiscTaken, ARTH.CreditAmt,\n        \n        CASE WHEN ARTH.DueDate IS NULL THEN ARTH.TransDate ELSE ARTH.DueDate END AS EffectiveDueDate,\n        CASE WHEN ARTH.ARTransType='I' AND ARTH.Source='JB' THEN ARTH.Invoiced-ARTH.Retainage ELSE ARTH.Invoiced END AS Invoice_Amt,\n        CASE WHEN ARTH.PayFullDate IS NOT NULL THEN DATEDIFF(Day, ARTH.TransDate, ARTH.PayFullDate) END AS DaysToPay\n        \n    From dbo.ARTH WITH (NOLOCK)\n    \n    INNER JOIN dbo.ARTL WITH (NOLOCK)\n        ON ARTL.ARCo = ARTH.ARCo\n       AND ARTL.Mth = ARTH.Mth\n       AND ARTL.ARTrans = ARTH.ARTrans\n    \n    LEFT JOIN dbo.SMInvoice WITH (NOLOCK)\n        ON SMInvoice.SMCo = ARTH.ARCo\n       AND SMInvoice.Customer = ARTH.Customer\n       AND SMInvoice.InvoiceNumber = ARTH.Invoice\n    \n    LEFT JOIN dbo.SMInvoiceList WITH (NOLOCK)\n        ON SMInvoiceList.SMCo = ARTH.ARCo\n       AND SMInvoiceList.Customer = ARTH.Customer\n       AND SMInvoiceList.InvoiceNumber = ARTH.Invoi"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PROT"
      },
      {
        "from": "gpt",
        "value": "Key columns in PROT: PRCo (bCompany, not null); OTSched (tinyint, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCountryIso3166Val do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a two-character ISO 3166-1 alpha-2 country code by checking its existence in the vCountryCodesISO3166 table and disallowing specific codes ('AU', 'CC', 'CX', 'HM', 'NF') per ATO rules. It sets a return code of 0 for valid codes or 1 for invalid ones, outputting an appropriate error message. Primarily used in Viewpoint Vista payroll (PR) processes to enforce compliant country code entry for tax reporting.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMPOInformation form?"
      },
      {
        "from": "gpt",
        "value": "The SMPOInformation form includes these fields: Batch Month, BatchId, Batch Seq, Batch Trans Type, PO, Vendor Group, OrderedBy, Vendor, Vendor In Compliance YN, Vendor Tax Code"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in apireference.RfiAnswer"
      },
      {
        "from": "gpt",
        "value": "Key columns in apireference.RfiAnswer: RfiAnswerId (bigint, not null); RfiDocumentId (bigint, not null); Answer (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMBatches form?"
      },
      {
        "from": "gpt",
        "value": "The SMBatches form includes these fields: Record Type, Include only my batches, Current Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNMT14 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates New Mexico state income tax withholding (likely Table 14 from historical NM tax schedules) for payroll. Takes a subject wage amount, annualizes it by pay periods per year minus exemptions/personal allowances ($3,950 each), and applies progressive brackets (1.7%-4.9%) based on filing status ('S'=Single, 'M'=Married?) to output the tax amount (@amt). Defaults status to 'S' and handles zero/low wages with $0 tax."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRDS"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRDS: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pReportPortalControlSecurity"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pReportPortalControlSecurity: ReportID (int, not null); PortalControlID (int, not null); RoleID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view delivers unique header records of company, posting period month, and batch identifiers from Job Cost Posting Period Cost Types data. It aggregates the source table via GROUP BY to eliminate \n\nContext: Viewpoint Vista database, view JCPPCostTypesHdr"
      },
      {
        "from": "gpt",
        "value": "SELECT JCPPCostTypes.Co, JCPPCostTypes.Mth, JCPPCostTypes.BatchId\nFROM dbo.JCPPCostTypes\nGROUP BY JCPPCostTypes.Co, JCPPCostTypes.Mth, JCPPCostTypes.BatchId;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDUP"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDUP: VPUserName (bVPUserName, not null); ShowRates (bYN, not null); HotKeyForm (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPRH table?"
      },
      {
        "from": "gpt",
        "value": "The bAPRH table (Module: AP) contains: APCo, VendorGroup, Vendor, InvId, Description, PayTerms, HoldCode, Frequency, MnthlyYN, InvDay, PayControl, PayMethod, CMCo, CMAcct, V1099YN... (26 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAE view?"
      },
      {
        "from": "gpt",
        "value": "PR Automatic Earnings"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVASearchHQMA do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure enables searching the Viewpoint Vista master audit log (VPLog.vrptMasterAudit) for data change history across tables, filtered by company, table name, field name, user, and optional record limit. It returns key audit details like table/key affected, company, record type, changed field, old/new values, timestamp, and username. Business-wise, it supports tracking modifications for accountability, debugging, and compliance in the ERP system."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMRFIVal do?"
      },
      {
        "from": "gpt",
        "value": "bspPMRFIVal validates the existence of a specific RFI record in the PMRI table for a given PM company, project, RFI type, and RFI number in Viewpoint Vista's project management module. It ensures all input parameters are provided, querying PMRI to retrieve the RFI's subject if found or setting an error message if missing or not on file. Used prior to RFI-related operations to confirm validity, it returns 0 on success or 1 with an error message via the output parameter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHQCC table?"
      },
      {
        "from": "gpt",
        "value": "The bHQCC table (Module: HQ) contains: Co, Mth, BatchId, GLCo"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SLWorksheetAdd form?"
      },
      {
        "from": "gpt",
        "value": "The SLWorksheetAdd form includes these fields: Subcontract, JC Company, Job, JB Initialize, Bill Month, Pay Control, Invoice Date, AP Reference, Due Date, Line Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsPO do?"
      },
      {
        "from": "gpt",
        "value": "The bspIMBidtekDefaultsPO stored procedure sets default values for Purchase Order (PO) entries during Bidtek data imports into Viewpoint's IM module. It determines the form type ('POEntry' for headers or 'POEntryItems' for line items) from the IMTR table using the provided record type and import template, then delegates to specialized procedures bspIMBidtekDefaultsPOHB or bspIMBidtekDefaultsPOIB accordingly. It handles error reporting via an output message and returns a status code to support automated import workflows.\n\nbspIMBidtekDefaultsPO acts as a dispatcher for setting default values during Bidtek data imports into Viewpoint Vista's Purchase Order (PO) modules. It retrieves the target form ('POEntry' or 'POEntryItems') from the IMTR table based on record type and import template, then delegates to specialized procedures (bspIMBidtekDefaultsPOHB for headers or bspIMBidtekDefaultsPOIB for items) to apply company-specific defaults. Used in import processes to ensure Bidtek PO data integrates seamlessly with Vista's PO entry forms, returning a status code and message for error handling.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vRFSceneUsagePerformanceCounts"
      },
      {
        "from": "gpt",
        "value": "Key columns in vRFSceneUsagePerformanceCounts: PerformanceID (bigint, not null); SceneID (bigint, not null); CategorySeconds (decimal, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBIL view?"
      },
      {
        "from": "gpt",
        "value": "The JBIL view (Module: JB) contains: JBCo, BillMonth, BillNumber, Line, Item, Contract, Job, PhaseGroup, Phase, Date, Template, TemplateSeq, TemplateSortLevel, TemplateSeqSumOpt, TemplateSeqGroup... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetBackNavigationItems do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspVPGetBackNavigationItems retrieves parent navigation items from prior steps in a hierarchical canvas navigation structure for a given part in Viewpoint Vista ERP. It employs a recursive CTE on VPCanvasNavigationSettings to traverse upward from the current GridConfigurationID, collecting ancestor configurations, then joins with VPCanvasGridSettings and VPGridQueries to gather query names, sequences, and titles. Results are filtered to steps before the specified @Step, ordered descending by step, enabling back navigation features like breadcrumbs in multi-step workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the viFact_HRPhysicalsReviewsExpiring view?"
      },
      {
        "from": "gpt",
        "value": "BI fact view aggregating maximum expiration dates for HR physical exams (from resource masters, by company/reference/position) and performance reviews (from employee review records, by company/reference), with binary counts for each type and a normalized ExpireDateID (days since 1950-01-01). Unions the two datasets and links to lookup IDs for companies, resources, payroll companies/groups, and positions. Filters to active BI companies for analytics on expiring HR compliance items."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipValForFuelPosting do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates inputs and retrieves key equipment data (e.g., fuel material codes, cost codes/types, current/replaced hour/odometer readings, fuel type, status) for fuel-related postings in Equipment Management. It populates output parameters for transaction details like materials, units, prices, GL accounts, and ECM percentages to support accurate valuation and accounting of fuel usage or purchases. It ensures equipment is not in a change-in-progress state before proceeding."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQST form?"
      },
      {
        "from": "gpt",
        "value": "The HQST form includes these fields: State, Country, Name, W2Name, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDUL table?"
      },
      {
        "from": "gpt",
        "value": "The vDDUL table (Module: DD) contains: VPUserName, Lookup, FormPosition, GridRowHeight"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCMContracts"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCMContracts: JCCo (bCompany, nullable); Contract (bContract, not null); Description (bItemDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRW2LineNumberVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates line numbers for miscellaneous Box 14 entries on W-2 forms in the Payroll (PR) module. It ensures that for a given payroll company (PRCo), tax year, and state, new entries start at line 1 if no prior records exist and do not exceed the maximum of 12 lines per state. It returns a success/failure code (0/1) and an error message via output parameter for UI integration."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDSLSecure view?"
      },
      {
        "from": "gpt",
        "value": "This view provides secure access to the DD Security List (vDDSLc) by selecting all its fields and augmenting with a derived Description from matching transaction headers. It checks if the TableName starts with 'bud' to pull from base UD Transaction Headers (bUDTH), otherwise from DD Transaction Headers (vDDTH), using substring matches on TableName for precise linking. This enables identification of security configurations tied to specific DD or UD transaction tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCraftAddonEarn form?"
      },
      {
        "from": "gpt",
        "value": "The PRCraftAddonEarn form includes these fields: EDLCode, EDLType, Method, Factor, OldRate, NewRate, Craft"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.DocumentDictionary"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.DocumentDictionary: KeyId (bigint, not null); DocumentDictionaryId (uniqueidentifier, not null); DocumentId (uniqueidentifier, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMRevTemplate form?"
      },
      {
        "from": "gpt",
        "value": "The EMRevTemplate form includes these fields: Revenue Template, Description, Template Type Flag, Notes, Records in EMTC YN, Records in EMTE YN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUAttachPAYGSelect do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates input parameters for a specific Australian PAYG (Pay As You Go) payment summary in Payroll and checks if a matching summary exists for the given PR company, tax year, optional PR group/employee/summary sequence, and summary type (amended 'A' or original 'O'). It returns error messages for invalid inputs (e.g., missing company, invalid tax year, group, or employee) and sets output flags indicating if a summary was found (@SummaryFoundYN) without retrieving data. The @PRCoPAYGSumYN parameter appears unused in the provided SQL but may influence summary logic elsewhere."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPDisplayProfile view?"
      },
      {
        "from": "gpt",
        "value": "The VPDisplayProfile view (Module: VP) contains: KeyID, Name"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_BCT21 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates British Columbia (BC) provincial income tax withholdings for Canadian payroll, including tax on annual income (@A), basic personal credits (@KP, @K1P, @K2P), employment insurance credits, surtax (@S), and low-income climate action tax credit (@LCP). It applies tiered tax rates based on income brackets, caps credits, and outputs the computed tax amount (@calcamt) minus credits/surtax. The result supports per-pay-period tax deductions adjusted for pay periods per year (@ppds)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspDDFHPMFormsOff do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the bDDFH table by setting ShowOnMenu to 'N' for a predefined list of Project Management (PM) forms, such as PMContract, PMProjects, and PMSubcontract. It is used in Viewpoint Vista ERP to hide these PM-related forms from the menu, typically during module deactivation, setup, or when PM functionality is unlicensed. The sole key operation is a targeted UPDATE statement with multiple OR conditions on the Form column.\n\nThis stored procedure updates the bDDFH table in Viewpoint Vista ERP, setting the ShowOnMenu flag to 'N' for a predefined list of Project Management (PM) forms such as PMContract, PMProjects, and PMSubcontract. It is used to hide these PM module forms from the user menu, typically during system configuration, module deactivation, or access restriction. The sole key operation is a targeted UPDATE statement with multiple OR conditions on the Form column.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROST982 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Ohio state income tax withholding for a specific payroll period. It retrieves the federal taxable amount from payroll detail, applies employee exemptions against a fixed $650 allowance, annualizes/de-annualizes the subject wages based on pay periods per year, multiplies by the tax rate, and outputs the withholding amount (@amt), subject amount (@subjamt/@subjaccm), or error messages if setups are missing. It enforces a floor of zero on the calculated tax."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRCC view?"
      },
      {
        "from": "gpt",
        "value": "The PRCC view (Module: PR) contains: PRCo, Craft, Class, Description, EEOClass, OldCapLimit, NewCapLimit, Notes, UniqueAttchID, WghtAvgOT, KeyID, SuperWeeklyMin, CalcMethod, OldBasicHourlyRate, NewBasicHourlyRate... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvGLActtoBud view?"
      },
      {
        "from": "gpt",
        "value": "Combines GL budget details with ledger net activity into a single structure differentiated by Type (1 for budgets with amounts by account/company/month/budget code; 2 for activity with net amounts). Aligns fields via NULLs in the UNION ALL for consistent reporting format. Supports direct comparison of budgeted vs. actual GL data at monthly level."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in GLFY"
      },
      {
        "from": "gpt",
        "value": "Key columns in GLFY: GLCo (bCompany, not null); FYEMO (bMonth, not null); BeginMth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementRenewalDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementRenewalDetail form includes these fields: EntitySeq, Agreement, Revision, Version, Service, Scheduled, Service Site, Call Type, Service Center, Division"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSendSearchAvailableDocuments do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure searches for and lists available Project Management (PM) documents associated with a specific company and project that are eligible for sending (e.g., via email, portal, or transmission to vendors/firms). It populates a temporary results table with key document details like type, ID, date, description, firm/vendor info, and attachments, filtered by optional criteria such as form name (e.g., PMChangeOrderRequest), document type, firm, vendor, or source key. Primarily supports document transmission workflows by categorizing docs (e.g., 'COR' for Change Order Requests) and enabling selection from a unified view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMSLFirmContactInit do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes a firm and primary contact linkage for a vendor on a specific PM project, ensuring foundational data exists across firm master (bPMFM), firm personnel master (bPMPM), and project firm (bPMPF) tables. It validates the vendor-firm relationship, creates a default \"Not Specified\" contact if missing, and assigns the firm with its minimum contact code to the project using a sequential ID. The process supports quick setup of vendor contacts without duplicates, outputting any error messages via @msg."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMWorkOrderQuoteIncludedWork view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vSMWorkOrderQuoteIncludedWork."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRRaceVal do?"
      },
      {
        "from": "gpt",
        "value": "The vspPRRaceVal stored procedure validates a race code for a given payroll company (PRCo) in Viewpoint Vista ERP's HR/payroll module. It verifies the code's existence in the PRRC table, retrieves its description, and checks if it is already assigned in prehire records (bPREH table), setting output flags (@raceinpreh 'Y'/'N') and messages accordingly. Used to prevent duplicate or invalid race entries during employee or prehire data entry, it returns a success code (0) or error (1) with details.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspRQIDVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Requisition ID (RQID) for a specific company in Viewpoint Vista's PO (Purchase Order) module. For `valtype=0`, it ensures the RQID does not already exist (enforcing uniqueness for new requisitions). For `valtype=1`, it confirms the RQID exists (validating references to existing requisitions), returning an error message and code via output parameters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRRB"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRRB: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMClass view?"
      },
      {
        "from": "gpt",
        "value": "The SMClass view (Module: SM) contains: SMClassID, SMCo, Class, Description, Active, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_AU_Allowance do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure automates the calculation and insertion of payroll allowance amounts (into bPRTA) for timecard postings when `addonYN='Y'`. It identifies \"subject\" earnings (from bPRES) linked to the input `@earncode`, retrieves matching hours from existing timecard lines (bPRTH) that qualify for add-ons (bPREC.SubjToAddOns='Y'), and applies the `@rate` to generate allowance records per post sequence. The `@amt` OUTPUT reflects calculated totals; the ELSE branch (truncated) likely handles direct allowances without subject logic."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_getobjwithprop do?"
      },
      {
        "from": "gpt",
        "value": "> *\tRetrieve the owner object(s) of a given property\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCrewTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "vspPRCrewTypeVal validates whether a specified crew type exists for a given payroll company in the Viewpoint Vista ERP system. It retrieves the crew type's description if valid or returns an error message via the output parameter if missing or not found. Key operations include parameter checks for PRCo and CrewType, a lookup query against the PRCrewType table, and return codes (0 for success, 1 for failure) to support data integrity in payroll processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPUnappInvStatusDeleteReviewer do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes a specific reviewer assignment from an unapproved Accounts Payable (AP) invoice line in the APUR table (likely AP Unapproved Reviewer status). It targets a unique record by company, UI month, sequence, line number, and reviewer ID, supporting maintenance of approval workflows. On success, it returns rcode=0; otherwise, it sets an error message and rcode=1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INIB view?"
      },
      {
        "from": "gpt",
        "value": "IN Material Order Item Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PREmployeeCraftClass view?"
      },
      {
        "from": "gpt",
        "value": "The PREmployeeCraftClass view (Module: PR) contains: KeyID, PRCo, Employee, Craft, Class, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMAgreementLaborAllocationMonthlyManHours view?"
      },
      {
        "from": "gpt",
        "value": "Provides monthly man-hours for labor allocations in service management agreements, broken down by agreement revision, service site/center, PR company, craft, and class. Transforms pivoted yearly data (Jan-Dec columns) into row-level monthly records with a computed first-of-month service date. Enables granular time-series analysis of committed labor hours."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAEnableDisableRCSI do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure toggles Read Committed Snapshot Isolation (RCSI) on or off for the current Viewpoint Vista database, enhancing read concurrency and reducing locking in high-transaction ERP environments like JC/PM modules. It enforces strict sysadmin-only access, blocks execution on clustered or mirrored instances, and logs all actions to vDDAL for audit trails. The `@Enable` parameter ('Y' or 'N') determines activation/deactivation via dynamic `ALTER DATABASE` execution."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vAuditFlags.\n\nContext: Viewpoint Vista database, view AuditFlags"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vAuditFlags;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAuditFlagCompany"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAuditFlagCompany: KeyID (int, not null); AuditCo (tinyint, not null); AuditFlagID (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPBBatchDelete do?"
      },
      {
        "from": "gpt",
        "value": "The bspJCPBBatchDelete stored procedure removes a specific job cost posting batch and its details from bJCPD and bJCPB tables for a given company, month, and batch ID, typically to correct errors or cancel postings in Viewpoint Vista's job cost processing. If the source is 'PMCostProj', it first identifies linked JCPR records, resets their InUseBatchId to -1 after deletion, and verifies no bJCPB records remain; otherwise, it sets an error. It concludes by updating the batch status to 6 in bHQBC and returns a success/error code.\n\nThe bspJCPBBatchDelete stored procedure removes all records for a specified batch from the bJCPD and bJCPB tables based on company, month, and batch ID, primarily used to clear erroneous or unwanted job cost posting batches in Viewpoint Vista ERP. For batches sourced from 'PMCostProj', it captures linked JCPR records beforehand and resets their InUseBatchId to -1 post-deletion to release references. It verifies complete deletion, updates the corresponding bHQBC status to 6 (indicating cleared), and returns an error code with message if records persist.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetCanvasTreeViewItems do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspVPGetCanvasTreeViewItems retrieves hierarchical tree view items for a specified canvas in Viewpoint Vista ERP, separating visible (ShowItem='Y') and hidden (ShowItem='N') items to support UI tree controls. The first SELECT returns detailed data for visible items, including coalesced titles from DDFH forms, hierarchy (ParentId, ItemOrder), display properties (Expanded, IconKey), and security-filtered queries via VFVPGETQUERYSECURITY. The second SELECT provides basic title and type info for hidden items, ensuring user-specific access controls while building dynamic canvas navigation.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRApplicationRef form?"
      },
      {
        "from": "gpt",
        "value": "The HRApplicationRef form includes these fields: HRRef, Seq, Name, Phone, RefNotes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INPG view?"
      },
      {
        "from": "gpt",
        "value": "IN Production GL Distribution"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPRDrillDown view?"
      },
      {
        "from": "gpt",
        "value": "The brvPRDrillDown view (Module: PR) contains: src, PRCo, SortType, Employee, Mth, EDLType, Code, SubjectAmt, EligibleAmt, Hours, Amount, PRDate, PaidDate, Bank, CMRef... (34 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQPO"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQPO: Country (char, not null); State (varchar, not null); PriceIndex (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join cteDistinct1 with cteDistinct2 in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join cteDistinct1 with cteDistinct2, use:\n\n```sql\nFROM cteDistinct1\nINNER JOIN cteDistinct2\n  ON cteDistinct1.PRCo = cteDistinct2.PRCo AND cteDistinct1.PRGroup = cteDistinct2.PRGroup AND cteDistinct1.Employee = cteDistinct2.Employee\n```\n\nThis pattern is used in the vrvPRPayStubByEmployee view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMViewpointDefaultsINCW do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies Viewpoint Vista default values (e.g., company, unit cost, ECM, U/M, username, material group) to Inventory Count Worksheet (INCW) import records, based on import template configurations flagged with '[Bidtek]'. It uses overwrite flags from `vfIMTemplateOverwrite` to selectively populate empty fields during import validation/preparation. Output `@msg` conveys errors like missing parameters or absent templates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ARStatementDeliveryRecipients view?"
      },
      {
        "from": "gpt",
        "value": "The ARStatementDeliveryRecipients view (Module: AR) contains: ARStatementDeliveryRecipientsID, CustGroup, Customer, Seq, RecipientName, RecipientEmail, RecipientAddress1, RecipientAddress2, RecipientCity, RecipientState, RecipientCountry, RecipientPostalCode, DeliveryMethod"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from INMI.\n\nContext: Viewpoint Vista database, view brvINDistinctINMI"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT\n    INCo,\n    MO,\n    MOItem,\n    Loc,\n    MatlGroup,\n    Material\nFROM INMI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join s with PRROEEmployeeHistory in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join s with PRROEEmployeeHistory, use:\n\n```sql\nFROM s\nINNER JOIN PRROEEmployeeHistory\n  ON s.PRCo = PRROEEmployeeHistory.PRCo AND s.Employee = PRROEEmployeeHistory.Employee AND s.ROEDate = PRROEEmployeeHistory.ROEDate\n```\n\nThis pattern is used in the vrvPREmployeesRecordOfEmploymentHistory view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Example 4 — Operational clean split (new Item under Dept 2)\n\nModule: JC"
      },
      {
        "from": "gpt",
        "value": "Select a.JCCo, a.Job, a.PhaseGroup, a.Phase, a.Contract, a.Item, b.Department\nFrom dbo.JCJP a\nLEFT JOIN dbo.z_OC_JCRecJCCIOS b\n  ON b.JCCo=a.JCCo AND CONCAT(LTRIM(RTRIM(b.Contract)),LTRIM(RTRIM(b.Item))) = CONCAT(LTRIM(RTRIM(a.Contract)),LTRIM(RTRIM(a.Item)))\nWHERE a.Contract=@Contract;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PREmployeeDailyTime"
      },
      {
        "from": "gpt",
        "value": "Key columns in PREmployeeDailyTime: PRCo (bCompany, not null); Employee (bEmployee, not null); Date (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDHD view?"
      },
      {
        "from": "gpt",
        "value": "The DDHD view (Module: DD) contains: HeaderTable, DetailTable, JoinClause"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARGLClosedMthSubVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates if a specified month for an AR company is closed in the associated GL company, preventing operations on unclosed periods. It retrieves the GL company from AR company setup (bARCO), fetches the last closed AR month (LastMthARClsd) from GL company records (bGLCO), and compares it against the input month. If invalid (missing setup, invalid GL company, or month not closed), it sets an error message and returns a non-zero code; otherwise, it returns 0 for success.\n\nThis stored procedure validates if a specified month for an AR company is closed in the linked GL company, preventing submissions to open periods. It retrieves the GL company from the AR company setup, fetches the last closed AR month from the GL company record, and compares it against the input month. If the input month exceeds the last closed month or setup is invalid, it returns an error code (1) with a message; otherwise, it returns success (0).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Using vrv* views instead of custom JOINs\n\nSELECT h.*, d.*\nFROM APTH h WITH (NOLOCK)\nJOIN APTL d WITH (NOLOCK) ON h.APCo = d.APCo AND h.Mth = d.Mth AND h.APTrans = d.APTrans\nJOIN JCCD j WITH (NOLOCK) ON d.JCCo = j.JCCo AND d.Job = j.Job"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT *\nFROM vrvAPJobCost WITH (NOLOCK)\nWHERE APCo = @APCo AND Mth = @Mth\n```\n\nOptimization tip: Check for existing vrv* (Viewpoint Report Views) before writing complex JOINs. They're pre-optimized."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vRFEpisodeUsage.\n\nContext: Viewpoint Vista database, view RFEpisodeUsage"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vRFEpisodeUsage;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspStoredProcedureVal do?"
      },
      {
        "from": "gpt",
        "value": "vspStoredProcedureVal validates the existence of a specified stored procedure in the database. It checks if the input @storedproc parameter is provided and exists in sys.procedures, returning 0 on success or 1 with an error message via @msg output if missing or not found. Used as a utility in Viewpoint Vista ERP workflows to ensure procedural dependencies before execution, preventing runtime errors.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQMT"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQMT: MatlGroup (bGroup, not null); Material (bMatl, not null); Category (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Batch Errors\n\nContext: Viewpoint Vista database, view HQBE"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQBE.*\nFROM dbo.bHQBE;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POAllPurchaseOrders"
      },
      {
        "from": "gpt",
        "value": "Key columns in POAllPurchaseOrders: POCo (bCompany, not null); PO (varchar, not null); Description (bItemDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVARenameVPUserName do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure enables bulk renaming of VPUserNames (Vista user accounts) via a table-valued parameter mapping old to new names, supporting SSO scenarios and options for preview mode, error skipping, and system account renames. It performs initial validations to detect conflicts (e.g., ongoing renames, circular mappings, invalid whitespace names) and logs errors to a dedicated errors table while queuing valid renames for later processing across Vista security views. The output error message summarizes issues, ensuring safe user identity updates without data corruption."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMRateOverrideLabor view?"
      },
      {
        "from": "gpt",
        "value": "SM Rate Override Labor"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POReceiptsExpenseInit form?"
      },
      {
        "from": "gpt",
        "value": "The POReceiptsExpenseInit form includes these fields: Month, Batch ID, Receipt Update, AP GL COMPANY, Update GL/Sub-Ledgers, Expense Interface Level, GL Description, Detail Level GL Description, Accrual Account, JC Interface Level"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPShared_SMAgreementServiceWorkOrders view?"
      },
      {
        "from": "gpt",
        "value": "This view links active service agreement revisions to scheduled work orders and scopes for included and periodic services, incorporating pricing methods and zeroed estimated service revenue. It aggregates total billed prices from completed work on closed scopes via CTEs for revision history and work totals. Provides a consolidated dataset of agreement-covered service work for analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINMOValforConf do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Material Order (INMO) in the Inventory module for confirmation or posting, ensuring it exists, is not closed (Status ≠ 2), and is currently locked for use in the specified accounting month and batch. If valid, it retrieves and outputs key details like the associated Job Cost company/code, job description (from JCJM), order date, and ordered-by user. It returns a success code (0) or error code (1) with a descriptive message for invalid conditions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOINMTUpdateOnOrder do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the \"OnOrder\" quantity in the Inventory Master table (bINMT) for a specific material, location, and company, adjusting it by the provided units (multiplied by unit-of-measure conversions). It fetches the standard UOM and conversions from HQ Material tables (bHQMT/bHQMU) as fallbacks if local Inventory UOM conversions (bINMU) are unavailable, ensuring accurate quantity commitments. The update supports adding ('NEW') or subtracting ('OLD') quantities from open orders, temporarily disabling then re-enabling audit tracking on the record."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMAT14 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMAT14 calculates periodic payroll tax withholding at a 5.2% rate based on annualized subject wages from a given pay period amount, adjusted for exemptions, FICA impacts, and employee status. It annualizes wages by pay periods per year (PPDS), subtracts FICA deductions (capped at $2000), applies exemption allowances ($4400 for one, scaled beyond), and a $2400 reduction for 'H' status, then prorates the annual tax back to the period while ensuring non-negative output. Used in Viewpoint Vista ERP payroll processing to compute accurate state-like income tax withholdings reflecting annual liability thresholds (e.g., skips if under $8000 with exemptions).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRPCEmp view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from HRRM."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bDDUF"
      },
      {
        "from": "gpt",
        "value": "Key columns in bDDUF: Form (varchar, not null); Description (bDesc, nullable); BatchYN (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAUpdateTemplateSecurity do?"
      },
      {
        "from": "gpt",
        "value": "Updates or revokes security access for a VPCanvas template (likely dashboards/reports in Vista Analytics) for a specific user or security group across user-authorized companies. When `@access = 1`, it deletes the security record (removing explicit restrictions, implying default/full access); otherwise, it updates the access level (e.g., view/edit). Ensures multi-company security consistency via validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMStatusCodeValBeg do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a provided PM Status Code to confirm it is a \"Beginning\" type (CodeType 'B') active for all forms (ActiveAllYN 'Y'). It performs a lookup in the PMSC table, checks for existence and required attributes, and outputs an error message with return code 1 on failure or 0 on success. It is used in Viewpoint ERP to enforce valid default beginning statuses in project management workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMRQ with JCJMPM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMRQ with JCJMPM, use:\n\n```sql\nFROM PMRQ\nINNER JOIN JCJMPM\n  ON PMRQ.PMCo = JCJMPM.PMCo AND PMRQ.Project = JCJMPM.Project\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This report validation view enriches service site records with resolved customer group, customer ID, contract, and description by falling back to associated job and contract master data when service s\n\nContext: Viewpoint Vista database, view vrvSMServiceSiteCustomer"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    SMServiceSite.*,\n    isnull(SMServiceSite.CustGroup, JCCM.CustGroup) AS TrueCustGroup,\n    isnull(SMServiceSite.Customer, JCCM.Customer) AS TrueCustomer,\n    JCCM.Contract,\n    isnull(SMServiceSite.Description, JCJM.Description) AS TrueDescription\nFROM dbo.SMServiceSite\nLEFT OUTER JOIN dbo.JCJM ON\n    SMServiceSite.JCCo = JCJM.JCCo\n    AND SMServiceSite.Job = JCJM.Job\nLEFT OUTER JOIN dbo.JCCM ON\n    JCJM.JCCo = JCCM.JCCo\n    AND JCJM.Contract = JCCM.Contract;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMOT11 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates federal income tax withholding for payroll based on an employee's subject wages (@subjamt), pay periods per year (@ppds), filing status (@status: S=Single, M=Married, B= something like Blind?, H=Head of Household), and exemptions (@exempts). It annualizes wages, applies status-specific standard deductions and allowances (e.g., $2100 employee, $1200 dependent), computes taxable income, and uses progressive tax brackets (1.5% to 6% in $1000 increments) to derive the per-period tax amount (@amt OUTPUT) and any error messages (@msg OUTPUT). Unused inputs like @fedtax and @fed_subjamt suggest extensibility for federal tax/subject adjustments."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bWDJP table?"
      },
      {
        "from": "gpt",
        "value": "The bWDJP table (Module: WD) contains: JobName, Param, Description, InputValue, QueryName, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCOP"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCOP: JCCo (bCompany, not null); Job (bJob, not null); Month (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Query running slow when selecting all columns\n\nSELECT * FROM APTH WITH (NOLOCK) WHERE APCo = 1"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT APCo, Mth, APTrans, Vendor, InvNum, InvDate, GrossAmt\nFROM APTH WITH (NOLOCK)\nWHERE APCo = 1\n```\n\nOptimization tip: Only select columns you need. SELECT * retrieves all columns which increases I/O and network transfer."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bJCCB"
      },
      {
        "from": "gpt",
        "value": "Key columns in bJCCB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRResBenCodeInit do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes benefit deduction/liability/earnings codes for an HR resource (employee or dependent) based on a specified benefit code setup in HRBE/HRBI tables. It checks for existing records in HRBL (HR Benefit Lines) and, if none exist, populates them with codes, frequencies, GL companies, and rates from benefit masters, ensuring payroll compatibility. It outputs validation messages for issues like missing frequencies or payroll company mismatches."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMCA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMCA: PMCo (bCompany, not null); Addon (int, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viFact_INPlantCosts"
      },
      {
        "from": "gpt",
        "value": "Key columns in viFact_INPlantCosts: MSCoID (bigint, not null); JobID (bigint, not null); HQMaterialID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PREmployeeAccumulations form?"
      },
      {
        "from": "gpt",
        "value": "The PREmployeeAccumulations form includes these fields: Employee"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasGridGroupedColumnsTemplate"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasGridGroupedColumnsTemplate: ColumnId (int, not null); GridConfigurationId (int, nullable); Name (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMPOEntyValidate do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Service Management (SM) Purchase Order (PO) entry batch prior to posting, checking consistency of user-defined (UD) fields and Notes between batch header/detail records (bPOHB/bPOHD, bPOIB/bPOIT). It identifies valid BatchSeq records for PO headers and items to retain (@POsToKeep, @POItemsToKeep) by flagging mismatches via dynamic INTERSECT queries on UD columns. Outputs readiness flags (@ReadyToPost, @AttachBatchReportsYN, @BatchKeyID) and error messages (@msg) to confirm batch integrity for posting to live PO tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPOItemLineDistribution table?"
      },
      {
        "from": "gpt",
        "value": "The vPOItemLineDistribution table (Module: PO) contains: HQBatchDistributionID, Posted, POCo, PO, POItem, POItemLine, InvUnits, InvCost, InvTaxBasis, InvDirectExpenseTax, InvTotalCost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: CM Transfer GL Dist Batch\n\nContext: Viewpoint Vista database, view CMTA"
      },
      {
        "from": "gpt",
        "value": "SELECT bCMTA.*\nFROM dbo.bCMTA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRETClassSeqVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the existence of a specific training class sequence (ClassSeq) within a given HR company (HRCo) and training code (TrainCode) in the HR Training Classes setup table (bHRTC). If valid, it retrieves and outputs detailed class information, including descriptions, dates, status, credits, hours, costs, reimbursement flags, vendor details, and yes/no flags for certifications (e.g., OSHA, MSHA, First Aid, CPR, work-related). It returns an error code and message if inputs are missing or invalid, ensuring data integrity before use in HR processes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvRPV6Upgrade view?"
      },
      {
        "from": "gpt",
        "value": "The vrvRPV6Upgrade view (Module: RP) contains: RPObjectType, ReportID, Title, ReportOwner, Location, FileName, FieldType, Name, ReportText, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMED view?"
      },
      {
        "from": "gpt",
        "value": "The PMED view (Module: PM) contains: PMCo, Project, BudgetNo, Seq, CostLevel, GroupNo, Line, BudgetCode, Description, PhaseGroup, Phase, CostType, Units, UM, HrsPerUnit... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvDDIndexes view?"
      },
      {
        "from": "gpt",
        "value": "Reports metadata on BI-prefixed indexes ('bi%') exclusively on base tables ('b%'), extracting module codes from table names, index details, column counts per index, and individual index column information."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTBUndo do?"
      },
      {
        "from": "gpt",
        "value": "The bspMSTBUndo stored procedure reverts modifications to an MS Tickets (MSTB) batch in the bMSTB table by restoring all fields from their \"Old\" prefixed backup columns (e.g., SaleDate = OldSaleDate). It is used in Viewpoint Vista ERP to undo batch changes when the batch status is open, maintaining data integrity after edits or processing. Key operations include validating the batch status via bspHQBatchProcessVal and executing a single UPDATE statement for the specified company, month, and batch ID.\n\nThe bspMSTBUndo stored procedure reverts a batch of MS Tickets in the bMSTB table to their original state by updating all fields from their corresponding \"Old\" prefixed columns (e.g., SaleDate = OldSaleDate). It is used in Viewpoint Vista ERP to undo batch modifications for material sales tickets, ensuring reversibility during open batch processing in construction accounting workflows. Key operations include validating the batch status via bspHQBatchProcessVal (must be open) and executing a single comprehensive UPDATE on records matching the company, month, and batch ID.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMRFQVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the existence of a specific Request for Quotation (RFQ) record in the PMRQ table, tied to a PM company, project, PCO type, and PCO. If found, it retrieves the RFQ date and description; otherwise, it returns an error. It serves as a lookup and validation utility to ensure RFQ data is on file before further PM processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPOTaxRates"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPOTaxRates: POCo (bCompany, not null); PO (varchar, not null); POItem (bItem, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMLM"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMLM: EMCo (bCompany, not null); EMLoc (bLoc, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPORBExpValNew do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates expense valuation details for a new purchase order (PO) receipt billing transaction, including unit conversions (JC, EM, standard), costs (fixed, average ECM), GL accounts (tax, variance, intercompany, location/misc), tax phasing/type, and burden flags. It retrieves and validates PO header/item data to determine posting accounts, units, and amounts for integration with AP, JC, and EM modules. Outputs error messages if validations fail, ensuring accurate expense posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INCO view?"
      },
      {
        "from": "gpt",
        "value": "IN Company Parameters"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Posting Batches\n\nContext: Viewpoint Vista database, view EMBF"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMBF.*\nFROM dbo.bEMBF;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Deduction/Liability Basis\n\nContext: Viewpoint Vista database, view PRDB"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRDB.*\nFROM dbo.bPRDB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRDeductionGroupVal do?"
      },
      {
        "from": "gpt",
        "value": "vspPRDeductionGroupVal validates the existence of a specified Payroll Deduction Group for a given PR Company by checking required input parameters and querying the PRDeductionGroup table. If valid, it outputs the group's Description in the @msg parameter and returns 0; otherwise, it sets an error message in @msg and returns 1. It is used to ensure deduction groups exist before related payroll operations, preventing errors in deduction assignments or processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.vDocumentSlideShow"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.vDocumentSlideShow: DocumentSlideShowId (bigint, not null); DocumentId (uniqueidentifier, not null); Ordinal (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRCAEmployeeItems"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRCAEmployeeItems: PRCo (bCompany, not null); TaxYear (char, not null); Employee (bEmployee, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPCOApprove"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPCOApprove: PMCo (bCompany, not null); ApprovalID (smallint, not null); Project (bProject, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMInvoiceReviewDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMInvoiceReviewDetail form includes these fields: Seq, SessionID, Session Seq, Work Order, Line Type, Line Number, Date, Description, Quantity, UM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPMProjectCostandCOs"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPMProjectCostandCOs: JCCo (bCompany, not null); Job (bJob, not null); PhaseGroup (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pSiteAttachmentSecurity"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pSiteAttachmentSecurity: SiteID (int, not null); RoleID (int, not null); AllowAdd (bit, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRCC table?"
      },
      {
        "from": "gpt",
        "value": "The bPRCC table (Module: PR) contains: PRCo, Craft, Class, Description, EEOClass, OldCapLimit, NewCapLimit, Notes, UniqueAttchID, WghtAvgOT, KeyID, SuperWeeklyMin, CalcMethod, OldBasicHourlyRate, NewBasicHourlyRate... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POHDPM view?"
      },
      {
        "from": "gpt",
        "value": "The POHDPM view (Module: PO) contains: PMCo, Project, POCo, PO, VendorGroup, Vendor, Description, OrderDate, OrderedBy, ExpDate, Status, JCCo, Job, INCo, Loc... (47 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRInitPositionRatingGroups do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes rating codes for a specific HR position by copying all codes from a designated rating group into the position's rating records table (HRPR). It is used in HR management within Viewpoint Vista to efficiently set up default sequential ratings for new or reset positions based on predefined groups in HRRI. Key operations include input validation for HR Company, Rating Group, and Position Code; looping to fetch and insert each code with an auto-incrementing sequence number; and returning success/error codes with status messages.\n\nThis stored procedure initializes rating groups for a specified HR position by copying all rating codes from a given rating group (HRRI table) into the position's ratings table (HRPR). It is used in HR management to quickly set up default, sequentially ordered ratings for a new or existing position code. Key operations include validating HR company and rating group inputs, looping through rating codes to insert them with incrementing sequence numbers, and returning error codes/messages on failure.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMRateOverrideMatlBP"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMRateOverrideMatlBP: SMRateOverrideMatlBPID (bigint, not null); Seq (int, nullable); BreakPoint (bUnitCost, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMCustomerContact"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMCustomerContact: SMCustomerContactID (bigint, not null); SMCo (bCompany, not null); CustGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in RPUP"
      },
      {
        "from": "gpt",
        "value": "Key columns in RPUP: VPUserName (bVPUserName, not null); ReportID (int, not null); PrinterName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vMSCustomerAttachmentType.\n\nContext: Viewpoint Vista database, view MSCustomerAttachmentType"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vMSCustomerAttachmentType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCPM view?"
      },
      {
        "from": "gpt",
        "value": "The JCPM view (Module: JC) contains: PhaseGroup, Phase, Description, ProjMinPct, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AUS ATO Categories\n\nContext: Viewpoint Vista database, view PRAUItemsATOCategories"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM [dbo].[vPRAUItemsATOCategories];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMOI with JCOI in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMOI with JCOI, use:\n\n```sql\nFROM PMOI\nINNER JOIN JCOI\n  ON PMOI.PMCo = JCOI.JCCo AND PMOI.Project = JCOI.Job AND PMOI.ACO = JCOI.ACO AND PMOI.ACOItem = JCOI.ACOItem\n```\n\nThis pattern is used in the vrvPMContractStatusDD view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMET15 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Michigan state income tax withholding for a payroll period using progressive tax brackets (historical rates: 6.5% and 7.95%). It annualizes the subject pay amount (@subjamt) by pay periods per year (@ppds), subtracts withholding allowances ($4,000 per exemption), adds a $6,300 adjustment for non-resident aliens, applies brackets based on filing status (@status: 'S' single, others married/head of household), computes the tax, floors amounts ≤$40 to $0, and prorates back to the period via @amt output. Errors are returned via @msg and @ReturnCode if pay periods are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWOInvoiceDescriptionWorkOptionsUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates configuration settings for a specific field in Service Management (SM) Work Order (WO) invoice descriptions, including its sort order, custom label name, and selection status (enabled/disabled). It targets a single record by company (SMCo) and field name, enabling dynamic customization of invoice line item options without altering core schema. Success returns 0; errors populate @msg and return 1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides payroll liability amounts from transaction lines, allocated to either payroll departments or job cost departments based on job presence and type, with expense month determined by multi-month \n\nContext: Viewpoint Vista database, view brvPRDeptCostLiabPre611"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRTH.PRCo,\n    PRTH.PRGroup,\n    PRTH.PREndDate,\n    PRTH.Employee,\n    PRTH.Phase,\n    Dept=(CASE WHEN PRTH.Job IS NULL OR PRTH.Type = 'M' OR\n    PRTH.Job IS NOT NULL AND PRTH.JCDept IS NULL THEN ('PR' + PRTH.PRDept) ELSE ('JC'+PRTH.JCDept) END),\n    JCCo=isnull(PRTH.JCCo,0),\n    PRTH.JCDept,\n    PRTH.PRDept,\n    PRTH.Job,\n    PRTH.Type,\n    ExpMth = CASE WHEN PRPC.MultiMth = 'Y' THEN (CASE WHEN PRTH.PostDate<=\n    PRPC.CutoffDate THEN PRPC.BeginMth ELSE PRPC.EndMth END) ELSE PRPC.BeginMth END,\n    PRTL.LiabCode,\n    PRDL.LiabType,\n    HQLT.Description,\n    PRTL.Amt\nFROM dbo.PRTH\nJOIN dbo.PRPC ON PRTH.PRCo=PRPC.PRCo AND PRTH.PRGroup=PRPC.PRGroup AND PRTH.PREndDate=PRPC.PREndDate\nJOIN PRCO ON PRTH.PRCo=PRCO.PRCo\nJOIN dbo.PRTL ON PRTH.PRCo=PRTL.PRCo AND PRTH.PRGroup=PRTL.PRGroup AND PRTH.PREndDate=PRTL.PREndDate AND PRTH.Employee=PRTL.Employee\n    AND PRTH.PaySeq=PRTL.PaySeq AND PRTH.PostSeq=PRTL.PostSeq\nJOIN dbo.PRDL ON PRDL.PRCo=PRTL.PRCo AND PRDL.DLCode=PRTL.LiabCode\nJOIN dbo.HQLT ON HQLT.LiabType=PRDL.LiabType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRDET00 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRDET00 calculates per-pay-period income tax withholding by annualizing the input subject pay amount using the number of pay periods per year, subtracting a standard deduction based on filing status (S=Single $3250, M=Married $6500, F=$3250), and applying progressive tax brackets to compute annual tax liability. It further reduces the tax by a per-personal-exemption amount ($110 each) before dividing by pay periods to yield the output deduction amount (minimum 0). Used in Viewpoint Vista ERP payroll processing to determine employee federal or state tax withholdings per pay cycle.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetListOfJobStatuses do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a list of job statuses by selecting DatabaseValue and DisplayValue from the DDCI lookup table where ComboType equals 'JCJMJobStatus'. It is used in Viewpoint Vista ERP to populate dropdown lists or combo boxes for job status selections in job cost modules. The key operation is a simple, parameterless SELECT query with SET NOCOUNT ON for efficient execution.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APLB view?"
      },
      {
        "from": "gpt",
        "value": "AP Transaction Line Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM CO\n\nContext: Viewpoint Vista database, view SMCO"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMCO.*\nFROM dbo.vSMCO;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the INMOPurge form?"
      },
      {
        "from": "gpt",
        "value": "The INMOPurge form includes these fields: GLCo, Last GL Mth Closed, Month"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvAPHoldStatus"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvAPHoldStatus: APCo (bCompany, not null); Mth (bMonth, not null); APTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vPOCOJCCT.\n\nContext: Viewpoint Vista database, view POCOJCCT"
      },
      {
        "from": "gpt",
        "value": "SELECT vPOCOJCCT.*\nFROM dbo.vPOCOJCCT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Auto Usage Rule Header\n\nContext: Viewpoint Vista database, view EMUR"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMUR.*\nFROM dbo.bEMUR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JCCostProjectionDetailHistory\n\nContext: Viewpoint Vista database, view JCCostProjectionDetailHistory"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCCostProjectionDetailHistory.*\nFROM dbo.vJCCostProjectionDetailHistory;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPRLServerNameVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a given server name by first checking if it is null and then verifying its existence in the RPRSServer table. It sets an output message and returns a 1 (error) if invalid or missing, or 0 (success) if valid. Used in Viewpoint Vista ERP to enforce server name integrity before related reporting or processing operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the WFChecklistInit form?"
      },
      {
        "from": "gpt",
        "value": "The WFChecklistInit form includes these fields: Company, Status New, Status In Progress, Final Status, Search by date, Beginning Date, Ending Date, GridCol Item Name, GridCol Item Type, GridCol Initialize Item"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the WDQPSave view?"
      },
      {
        "from": "gpt",
        "value": "The WDQPSave view (Module: WD) contains: QueryName, Param, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPSortNameUnique do?"
      },
      {
        "from": "gpt",
        "value": "bspAPSortNameUnique validates the uniqueness of a sort name within a specified vendor group in the AP Vendor Master (bAPVM) table, excluding the current vendor. It returns a code of 0 with message 'AP Unique' if no duplicates exist, or 1 with a message identifying the conflicting vendor if the sort name is already in use. This procedure supports data integrity in Viewpoint Vista's Accounts Payable module by preventing duplicate sort names during vendor creation or updates.\n\nThe bspAPSortNameUnique stored procedure validates whether a specified sort name is unique within a vendor group in the Accounts Payable vendor master table (bAPVM), excluding the given vendor ID. It returns a code of 0 and 'AP Unique' message if no duplicates exist, or code 1 with a conflict message naming the existing vendor if a match is found. This ensures data integrity by preventing duplicate sort names during vendor setup or updates in Viewpoint ERP's AP module.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployerBASAmounts"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployerBASAmounts: PRCo (bCompany, not null); TaxYear (char, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMAT02 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMAT02 calculates a per-pay-period withholding amount (likely Michigan state tax) from a base subjamt wage, used in Viewpoint Vista payroll for low-wage employees with exemptions. It annualizes the wage by multiplying by pay periods per year (ppds), deducts FICA equivalent (min $2000), personal exemptions ($4400 for 1, $3400 + $1000 each additional), and $2400 for head-of-household status ('H'), then applies a 5.3% rate and divides by ppds. Key operations include validation for exempt low-wage skips, ensuring non-negative output, and error messaging for missing ppds.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCD with x in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCD with x, use:\n\n```sql\nFROM JCCD\nINNER JOIN x\n  ON JCCD.JCCo = x.JBCo AND JCCD.Craft = x.Craft AND JCCD.Class = x.Class\n```\n\nThis pattern is used in the vrvJBLaborRates view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMCT"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMCT: KeyID (bigint, not null); DocCat (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMPI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMPI: PMCo (bCompany, not null); Project (bJob, not null); PunchList (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCH"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCH: JCCo (bCompany, not null); Job (bJob, not null); PhaseGroup (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMAgreementService with SMServiceSite in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMAgreementService with SMServiceSite, use:\n\n```sql\nFROM SMAgreementService\nINNER JOIN SMServiceSite\n  ON SMAgreementService.SMCo = SMServiceSite.SMCo AND SMAgreementService.ServiceSite = SMServiceSite.ServiceSite\n```\n\nThis pattern is used in the vrvSMAgreementQuoteServiceDetails view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMOI"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMOI: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMAgreementLaborAllocationYear view?"
      },
      {
        "from": "gpt",
        "value": "SMAgreementLaborAllocationYear"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSLItemCODesc do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves the `SLItemDescription` for a specific line item (by `Seq`) in a subcontract (`SL`) under a PM project and SL company, outputting it via `@msg` (or empty string if null). Validates presence of PM/SL company, project, subcontract, and subcontract change order (`SCO`) parameters before querying the `PMSL` table. Note: `@SCO` is required but unused in the query logic, suggesting it may support future CO filtering or UI validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSTD"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSTD: MSCo (bCompany, not null); Mth (bMonth, not null); MSTrans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VAAttachmentTypeSecurity"
      },
      {
        "from": "gpt",
        "value": "Key columns in VAAttachmentTypeSecurity: Co (smallint, not null); AttachmentTypeID (int, not null); SecurityGroup (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PCBidPackageBidList view?"
      },
      {
        "from": "gpt",
        "value": "PC Bid Package Bid List"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspDDSLInstanceVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specified table exists and contains a designated instance column in the Viewpoint Vista database schema. It first checks for null inputs on the table and instance column parameters, outputting error messages and a return code of 1 if missing. It then queries sys.objects and sys.columns to confirm existence, setting an \"Instance not on file!\" message and return code 1 if not found, or 0 on success.\n\nThis stored procedure validates whether a specified table exists and contains a given instance column in the Viewpoint Vista ERP database. It checks for null input parameters, queries system catalog views (sys.objects and sys.columns) to confirm the table-column pair, and returns an error code (0 for success, 1 for failure) with a descriptive output message. It is used to enforce data setup integrity prior to instance-based operations, preventing errors in multi-instance ERP environments.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JBID view?"
      },
      {
        "from": "gpt",
        "value": "The JBID view (Module: JB) contains: JBCo, BillMonth, BillNumber, Line, Seq, Source, PhaseGroup, CostType, CostTypeCategory, PRCo, Employee, EarnType, Craft, Class, Factor... (64 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDFLc table?"
      },
      {
        "from": "gpt",
        "value": "The vDDFLc table (Module: DD) contains: Form, Seq, Lookup, LookupParams, Active, LoadSeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptJBAusProgressClaimMain do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a formatted report for Australian Job Billing (JB) progress claims, summarizing key financial details such as contract value, retentions (with releases), previous payments, current claim totals (excluding/including GST), and balance to finish. It pulls data from billing invoices (JBIN) linked to contracts (JCCM), customers (ARCM), companies (HQCO), and jobs (JCJMPM), computing derived fields like \"Grand Total\" and \"Amount Now Applied for\" for formal claim documents. The \"Aus\" prefix indicates Australia-specific handling, including GST calculations and progress claim terminology."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVCPasswordRulesUpdate do?"
      },
      {
        "from": "gpt",
        "value": "The vspVCPasswordRulesUpdate stored procedure updates a specific password rule record in the pPasswordRules table using the provided PasswordRuleID. It modifies key settings including IsActive status, MinAge, MaxAge, MinLength, and requirements for lowercase, uppercase, numeric, and special characters (with custom SpecialCharacters list). This is used in Viewpoint Vista ERP to maintain and adjust system-wide password security policies for compliance and user access control.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMDHDrawing view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from PMDH."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the IMTA view?"
      },
      {
        "from": "gpt",
        "value": "IM Template Detail Add-ons"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMCOPMOICheck do?"
      },
      {
        "from": "gpt",
        "value": "The bspPMCOPMOICheck stored procedure checks if Pending Change Order (PCO) or Approved Change Order (ACO) items exist in the PMOI table before allowing deletion, preventing data integrity issues in Viewpoint Vista's project change order management. It evaluates based on the @cotypeflag parameter ('P' for PCO with matching PMCo, Project, PCOType, and PCO; 'A' for ACO with PMCo, Project, and ACO), setting an output message and return code (1 for block, 0 for clear) if items are found. This validation supports safe CRUD operations on change orders in construction/project accounting workflows.\n\nThe bspPMCOPMOICheck stored procedure checks if Pending Change Order (PCO) or Approved Change Order (ACO) items exist in the PMOI table before allowing deletion, preventing removal of COs with linked items to maintain data integrity in Viewpoint Vista ERP. It evaluates based on the @cotypeflag parameter ('P' for PCO with @pcotype and @pco, or 'A' for ACO with @aco), querying PMOI by company (@pmco) and project. If items are found, it sets an output message (e.g., \"Pending change order items exist, cannot delete.\") and returns code 1; otherwise, returns 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRCE with PREC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRCE with PREC, use:\n\n```sql\nFROM PRCE\nINNER JOIN PREC\n  ON PRCE.PRCo = PREC.PRCo AND PRCE.EarnCode = PREC.EarnCode\n```\n\nThis pattern is used in the vrvPRCraftClassHierarchy view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.vGlobalEntityType table?"
      },
      {
        "from": "gpt",
        "value": "The api.vGlobalEntityType table (Module: Other) contains: GlobalEntityTypeId, GlobalEntityTypeName, GlobalEntityTypeSubUri"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMAgreementDetailTransaction view?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementDetailTransaction view (Module: SM) contains: SMCo, Agreement, Version, Revision, WorkOrder, Scope, WorkCompleted, Source, GLAcctDesc, Debit, Credit, Deferred, SMDetailTransactionID, IsReversing, Posted... (50 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SLCTGrid view?"
      },
      {
        "from": "gpt",
        "value": "This view delivers a grid of subcontractor license compliance data, including company, license identifier, vendor group, hardcoded action flag, compliance code, sequence, vendor sort name, description, verification status, expiration date, compliance indicator, and notes. It joins SLCT with APVM to enrich license records with vendor sort names. Records are ordered by company, license, compliance code, and sequence for easy scanning."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMEP table?"
      },
      {
        "from": "gpt",
        "value": "The bEMEP table (Module: EM) contains: EMCo, Equipment, PartNo, Description, MatlGroup, HQMatl, Qty, UM, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRAddAllEarnings do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure bulk-populates the batch table `bPRDB` (payroll deduction/liability to earnings links) for a target deduction/liability code (`@CopyToCode`) in a payroll company (`@prco`). When `@CopyFromCode` is null, it adds all earnings codes from `bPREC` (excluding duplicates) and compatible deductions/liabilities from `bPRDL` (after validation). It supports optionally copying links from an existing code, automating setup for new DL codes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMScopesOnHoldGridOnlyDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMScopesOnHoldGridOnlyDetail form includes these fields: Scope, On Hold, Hold Reason, Follow Up Date, Status"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCP"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCP: JCCo (bCompany, not null); Job (bJob, not null); PhaseGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRRG view?"
      },
      {
        "from": "gpt",
        "value": "The HRRG view (Module: HR) contains: HRCo, RatingGroup, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBMoveBillMonthUdFields do?"
      },
      {
        "from": "gpt",
        "value": "In Viewpoint Vista's JB (Job Billing) module, this SP copies all user-defined (UD) fields (columns starting with 'ud') from a source bill (specified by @Co, @BillMonth, @BillNumber) to a target bill (@TargetMonth, @NewBillNumber) in a dynamic table/view (@TableName). It preserves custom, company-specific data during bill moves or renumbering without affecting standard fields. Error handling ensures safe execution, returning a message on failure."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMJT table?"
      },
      {
        "from": "gpt",
        "value": "The bEMJT table (Module: EM) contains: EMCo, JCCo, Job, AUTemplate, RevTemplate, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Agreement Rev Deferral\n\nContext: Viewpoint Vista database, view SMAgreementRevenueDeferral"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM [dbo].[vSMAgreementRevenueDeferral]\nWHERE Deleted = 0;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the apireference.UserProfile view?"
      },
      {
        "from": "gpt",
        "value": "The apireference.UserProfile view (Module: Other) contains: Id, UserName, FullName, EmailAddress"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRJobCraftDflt do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the default JobCraft from the PRCT table for a given company (PRCo), craft, and template where RecipOpt is 'O'. If a matching record exists, it outputs the JobCraft value via the @jobcraft parameter; otherwise, it sets it to null and returns success code 0. It supports Viewpoint Vista ERP's Payroll module by providing quick lookups of predefined job craft defaults for labor and job setup processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ptvPRMechWOItem"
      },
      {
        "from": "gpt",
        "value": "Key columns in ptvPRMechWOItem: WOItem (smallint, not null); Description (bItemDesc, nullable); Equipment (bEquip, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMDepreciationDV do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates and generates a monthly depreciation schedule for equipment assets in the Equipment Management (EM) module using a proration method based on days held in the first year, purchase price, salvage value, depreciation factor, useful life in months, start/dispose dates. It inserts detailed monthly records into the EMDS table (Equipment Monthly Depreciation Schedule), computing straight-line depreciation amounts while ensuring the total does not exceed depreciable basis (purchase price minus salvage). The process handles partial first-year depreciation and stops when the asset reaches salvage value or useful life."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvEMLocationHistoryWithToInfo view?"
      },
      {
        "from": "gpt",
        "value": "The vrvEMLocationHistoryWithToInfo view (Module: EM) contains: EMCo, Equipment, EquipDesc, Month, DateTimeIn, ToJCCo, ToJob, JobDesc, ToLocation, LocDesc, DateIn, TimeIn, Memo, EstOut, AttachedToEquipment... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCTT08 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates Connecticut state income tax withholding (PRCTT08 = Payroll Connecticut Tax Table 08) for a paycheck. It annualizes the subject amount (@subjamt * pay periods), applies filing status-based exemptions (@status: F/Filing?, H/Head of Household, M/Married, B/Blind?, S/Single), computes tiered tax using 3%/5% brackets with limits/base amounts, and factors in personal credits (truncated logic). Outputs the final withholding amount (@amt) or error message (@msg)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vNumericMaskDetails table?"
      },
      {
        "from": "gpt",
        "value": "The vNumericMaskDetails table (Module: Other) contains: MaskId, Scale, ThousandsSeparator"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLClaimItemVariation"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLClaimItemVariation: KeyID (bigint, not null); SLCo (bCompany, not null); SL (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSTicDfltUnitsFromLoads do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the default quantity of material units (@matlunits OUTPUT) that can be loaded based on equipment/truck capacity and the number of loads (@loads), for a specified material, unit of measure, and haul type ('E' for equipment or 'H' for vendor truck). It prioritizes weight capacity if compatible with the material's standard UOM or weight conversion factor, falling back to volume capacity otherwise, and applies UOM conversions as needed. It also outputs a capacity message (@msg) for user feedback, exiting early if prerequisites like valid material data or capacity are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: GL Auto Journal Entry\n\nContext: Viewpoint Vista database, view GLAJ"
      },
      {
        "from": "gpt",
        "value": "SELECT bGLAJ.*\nFROM dbo.bGLAJ;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the JCBudgetCodes form?"
      },
      {
        "from": "gpt",
        "value": "The JCBudgetCodes form includes these fields: Default Phase Group, Budget Code, Description, Active Flag, Costing Level, Exclude from Lookups, PhaseGroup, Phase, Cost Type, UM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: CM Detail Batch\n\nContext: Viewpoint Vista database, view CMDB"
      },
      {
        "from": "gpt",
        "value": "SELECT bCMDB.*\nFROM dbo.bCMDB;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCCIDefaultUMGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves default Unit of Measure (UM) and Unit Price (UP) defaults for a standard item in Job Costing (JC), pulling from the Standard Item table (bJCSI). If metric conversion is requested (@simetric='Y'), it applies a Metric/Imperial Factor (MIFactor) from the conversion matrix (bJCMC) to adjust the price and switch to Master UM (MUM); otherwise, it uses the imported UM/UP directly. It enforces data integrity by validating required inputs and returning errors via @msg and return code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the POSM view?"
      },
      {
        "from": "gpt",
        "value": "PO Substitute Materials"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPCanvasTemplateSecurity"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPCanvasTemplateSecurity: Co (smallint, not null); TemplateName (varchar, not null); SecurityGroup (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vIMAutoImportQueue"
      },
      {
        "from": "gpt",
        "value": "Key columns in vIMAutoImportQueue: Seq (int, not null); ImportProfile (varchar, not null); FileName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDGBc table?"
      },
      {
        "from": "gpt",
        "value": "The vDDGBc table (Module: DD) contains: Form, Tab, GroupBox, Title, ControlPosition"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMPOItemReviewersGrid form?"
      },
      {
        "from": "gpt",
        "value": "The PMPOItemReviewersGrid form includes these fields: Approver, Status, Step, Optional Reviewer, Comments, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the WFProcessDetailStep view?"
      },
      {
        "from": "gpt",
        "value": "The WFProcessDetailStep view (Module: WF) contains: ProcessDetailID, Step, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRProcessEmpl do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure processes payroll calculations for a specific employee in a given payroll group and pay period within Viewpoint Vista's Payroll (PR) module. It aggregates earnings data from time headers (bPRTH), predefined earnings/deductions (bPREC/bPRED), and tax adjustments (bPRTA), populating a temporary table (#PRPE) for hours, rates, and amounts while handling factors like direct deposits, garnishments, allocations, and annual accumulations. It performs validations for pay sequence, bonuses, and posting options, returning errors via @errmsg if issues arise."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vJCCostProjectionHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vJCCostProjectionHistory: JCCo (bCompany, not null); Job (bJob, not null); ProjectionCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPGL"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPGL: APCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPMDistTestLogs"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPMDistTestLogs: KeyID (bigint, not null); Seq (bigint, not null); VendorGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCMBatchClear do?"
      },
      {
        "from": "gpt",
        "value": "This SP clears (deletes) an unposted Cash Management (CM) batch by removing detail records from disbursement (bCMDA/bCMDB) or receipt (bCMTA/bCMTB) tables, associated control records (bHQCC), and updates the batch control (bHQBC) status to 6 (cleared). It supports discarding incomplete or erroneous batches in CM workflows. Output parameter @errmsg provides user-friendly error details if clearance fails."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMNT08 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMNT08 calculates Montana state income tax withholding amounts for payroll processing based on subject wages, annual pay periods, filing status (Single 'S' or Married 'M'), and exemptions. It annualizes wages by multiplying subject amount by pay periods and subtracting $3500 per exemption, then applies progressive tax brackets with predefined rates (5.35%-7.85%) and additions to compute annual tax before dividing by pay periods and rounding to whole dollars. Used in payroll systems to ensure accurate per-paycheck withholdings, with validation for required inputs and error messaging on failures.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINCopyMatlVal do?"
      },
      {
        "from": "gpt",
        "value": "bspINCopyMatlVal validates a material for a specified company and location in the Viewpoint Inventory module, typically before copying material values. It retrieves the material group from bHQCO, verifies the material's existence in bINMT for the given company, location, and group, and if valid, outputs the description from bHQMT; otherwise, it sets an error message like 'Not a valid material for this Location'. The procedure returns a success/failure code and conditionally outputs the message.\n\nThe bspINCopyMatlVal stored procedure validates a material's existence for a specified inventory company (INCo) and location in Viewpoint Vista ERP, typically as a prerequisite for copying material values. It retrieves the material group from bHQCO, queries bINMT to confirm the material is valid for the group, company, and location (returning the full record if found), and sets the output message to the material description from bHQMT on success. If inputs are missing or the material is invalid, it returns an error code and message via the output parameter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvARReceivedTax view?"
      },
      {
        "from": "gpt",
        "value": "Provides tax details from AR customer payments (type 'P') matched to applied invoice taxes via apply keys. Shows paid tax amounts/discs alongside aggregated original invoice tax basis, amounts, and discounts per payment line. Supports reconciliation of received vs. invoiced taxes in batch reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCMPurgeList do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspCMPurgeList generates a list of Cash Management accounts (from CMAC) for a specified company that cannot be purged due to linked transactions or details. It selects formatted strings ('Account: Description') where an EXISTS check confirms related records in bCMDT (details), bCMCE (checks), or bCMST (statements) via UNIONed subqueries. Used for pre-purge validation to identify dependencies and prevent data loss in Viewpoint Vista's Cash Management module.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLItemValRet do?"
      },
      {
        "from": "gpt",
        "value": "> bSL = null, DC #135813\n> DC #128435\n> DC #128435\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementSite form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementSite form includes these fields: Agreement, Revision, Service Site, Coverage Level, Customer, CustGroup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMQuickReferenceServiceSiteVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a service site for a given company (SMCo) in Viewpoint's Service Management module by querying the SMServiceSite table. It outputs the associated customer ID and site description on success, or an error message if the site does not exist, returning 0 for success or 1 for failure. It supports quick reference lookups and validation in service-related business processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPAUATOClearAmendedEFile do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure resets the `AmendedDate` field to NULL for ATO (Australian Tax Office) payee tax payment records in the Accounts Payable module, specifically targeting amended electronic files for a given AP company and tax year. It clears the amendment status on records that have been previously marked as amended, allowing them to be treated as non-amended for subsequent processing or refiling. The procedure reports the number of cleared records via the output parameter `@Message`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMContractChangeOrderCommit form?"
      },
      {
        "from": "gpt",
        "value": "The PMContractChangeOrderCommit form includes these fields: Contract, ID, Seq, Project, Vendor Group, Vendor, Type (SL or PO), SL/PO, Change Order, Status"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMServiceItemPart form?"
      },
      {
        "from": "gpt",
        "value": "The SMServiceItemPart form includes these fields: Service Site, Service Item, Part, Part Type, Material Group, Material, Description, UM, Quantity, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCIB view?"
      },
      {
        "from": "gpt",
        "value": "JC Contract Item Trans Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQDRGetBeginStatus do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspHQDRGetBeginStatus retrieves the Status value from the bHQDS table where YNBeginStatus = 'Y' and outputs it via the @statusCode parameter for a specified company (@hqco). It is used to check the initial or beginning status of an HQDR (likely Headquarters Data Report or similar) process in Viewpoint Vista ERP, indicating readiness to proceed. Key operations include a NOLOCK query on bHQDS, setting a success return code (0), and returning the code without using the input @hqco in the filter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join dbo].[PMMF with dbo].[WFProcessDetail in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join dbo].[PMMF with dbo].[WFProcessDetail, use:\n\n```sql\nFROM dbo].[PMMF\nINNER JOIN dbo].[WFProcessDetail\n  ON dbo].[PMMF.KeyID = dbo].[WFProcessDetail.SourceKeyID\n```\n\nThis pattern is used in the vrvWFProcessApprovalOutstandingDocs view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMIT18 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMIT18 calculates Michigan state income tax withholding per pay period for payroll processing. It annualizes the input subject pay amount by multiplying by pay periods per year (@ppds), subtracts total personal exemptions (@exempts + @addtl_exempts at $4050 each), applies a flat 4.25% tax rate to the resulting taxable wage (minimum zero), and divides by @ppds to output the per-period withholding amount (@amt). Returns an error message if @ppds is missing or zero.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptJCIDtoARTL do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure reconciles Job Cost Invoice Detail (bJCID) records against Accounts Receivable Transaction Line (bARTL) records by aggregating billed units, amounts, received amounts, and retainage for matching Job Company, Contract, Item, and Month where JCTransType='AR'. It uses a full outer join on temporary aggregates to identify discrepancies in these metrics between JC and AR data. The output highlights mismatches for data integrity checks, preventing billing errors from propagating."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUBASStartEndMthVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates start and end month parameters (@StartDate and @EndDate) for the PRAUBAS module in Viewpoint Vista ERP. It checks if both dates are provided and ensures the end month is not before the start month, setting an error message and return code 1 if invalid, or 0 if valid. It is used to enforce chronological date ranges before proceeding with month-based business processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viDim_EMStdMaintGroup view?"
      },
      {
        "from": "gpt",
        "value": "The viDim_EMStdMaintGroup view (Module: EM) contains: EMCoID, StdMaintGroupID, StdMaintItemID, StdMaintGroupDiscription, StdMaintItemDescription, BasisDesc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCAT16 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates California state income tax withholding (CA PIT) for a payroll period using the annualized projection method. It takes subject wages (@subjamt), pay periods per year (@ppds), filing status (@status: S=Single, M=Married, H=Head of Household), regular/additional exemptions, applies standard deductions/low-income exemptions, and computes tax via progressive brackets (rates 1.1% to 14.63%) before prorating back to per-period @amt. Returns 0 tax if below low-exempt threshold, error message on invalid inputs (e.g., missing @ppds)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PROP view?"
      },
      {
        "from": "gpt",
        "value": "The PROP view (Module: PR) contains: PRCo, OccupCat, Description, ReportSeq, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APT5018PaymentDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in APT5018PaymentDetail: KeyID (bigint, not null); APCo (bCompany, not null); PeriodEndDate (smalldatetime, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFGetColumns do?"
      },
      {
        "from": "gpt",
        "value": "> Add the parameters for the stored procedure here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SLCO view?"
      },
      {
        "from": "gpt",
        "value": "SL Company Parameters"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the MSCO view?"
      },
      {
        "from": "gpt",
        "value": "MS Company Parameters"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vUtilities.vPTBlockingTable table?"
      },
      {
        "from": "gpt",
        "value": "The vUtilities.vPTBlockingTable table (Module: Other) contains: vPTBlockingTable_ID, DBName, BlockingID, resource_type, assoc_entity_id, lock_req, wait_spid, wait_duration_ms, wait_type, wait_batch, wait_stmt, wait_host, wait_user, block_spid, block_stmt... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAAttachmentTypeSecurity form?"
      },
      {
        "from": "gpt",
        "value": "The VAAttachmentTypeSecurity form includes these fields: Company option, Company, Attachment Type Name, Attachment Type Description, Attachment Type ID, Group/User Option, Access level, Security Group, User"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRSQAatrix view?"
      },
      {
        "from": "gpt",
        "value": "Provides consolidated payroll summaries by pay sequence, employee, pay group, company, and period, incorporating earnings and deduction adjustments into regular payroll data from bPRSQ. Ensures complete coverage of pay sequences by unioning those from bPRSQ with adjustment-only sequences (PaySeq=1), then summing earnings/deductions and coalescing paid dates/months."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Process Detail History\n\nContext: Viewpoint Vista database, view WFProcessDetailHistory"
      },
      {
        "from": "gpt",
        "value": "SELECT vWFProcessDetailHistory.*\nFROM dbo.vWFProcessDetailHistory;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptAPWorkFile do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a detailed work file dataset for Accounts Payable (AP) reporting and processing, combining AP payment headers (APWH), transactions (APTH), lines (APTL), and distributions (APWD) with vendor master (APVM) and company (HQCO) details. It captures key payment attributes like due/discount dates, holds, pay methods, amounts, discounts taken, and cross-references to source documents (POs, SLs, Jobs, Equipment, Inventory, GL). The UNION ALL includes distinct header-level records without line details (CompSort=1), enabling comprehensive views for payment selection, aging, or voucher analysis filtered by company, month range, vendor range, and optional user."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUEmployerMiscItems view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUEmployerMiscItems view (Module: PR) contains: KeyID, PRCo, TaxYear, ItemCode, EDLType, EDLCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQTXHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQTXHistory: ParentTable (varchar, not null); ParentTableKeyID (bigint, not null); TaxGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the GLPURGE form?"
      },
      {
        "from": "gpt",
        "value": "The GLPURGE form includes these fields: Purge Jrnl Trans?, Journal option, Journal, Detail Through Month, Purge Summary?, Purge Balances/Budgets, Through FYEMO, Last Mth GL Closed, Oldest Trans Month, Last Year Closed"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.RMResourceAssignment"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.RMResourceAssignment: ResourceAssignmentId (bigint, not null); PlanningGroupItemId (bigint, not null); RMResourceId (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VADDTS form?"
      },
      {
        "from": "gpt",
        "value": "The VADDTS form includes these fields: Form, Company, Security Group, User, Tab, ViewBy"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCCBValINInsert do?"
      },
      {
        "from": "gpt",
        "value": "The bspJCCBValINInsert stored procedure performs an upsert on the bJCIN table to record or update standard total costs for job cost billing validation inventory (IN) entries in Viewpoint Vista ERP. It first attempts to UPDATE the StdTotalCost field for a matching record using keys like company, month, batch ID, inventory company/location, material group, job/phase details, and cost type; if no rows are affected, it INSERTs a complete new record with posted/standard units, costs, and totals. This supports accurate job costing by ensuring inventory cost data is maintained for billing validation processes.\n\nThis stored procedure upserts standard total cost data into the bJCIN table for job cost batch validation inputs in Viewpoint Vista ERP. It first attempts to UPDATE StdTotalCost for a matching record using keys like company, month, batch ID, location, material group, material, batch sequence, and old/new flag; if no rows are affected, it INSERTs a complete new record with details on job, phase, cost type, units, actual/standard costs, and GL accounts. It ensures accurate recording of planned costs during job costing batch validation processes.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Use Distribution\n\nContext: Viewpoint Vista database, view EMUseDistribution"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vEMUseDistribution;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCVPHASEForPM do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Job Cost (JC) phase for a given company, job, and phase when called from Project Management (PM), checking existence, activity status, and compliance with company configurations (e.g., phase groups, valid characters, subcontract/multi-trade options). If valid, it retrieves/output details like description, contract, item, department, min percentage, and sets existence flags; otherwise, it generates error messages and blocks based on override flags. It supports phase setup or lookup, potentially allowing new phase creation under specific PM rules."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptHQBASGSTReconciliationDD do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a detailed data set for the Headquarters (HQ) BAS (Business Activity Statement) GST Reconciliation report, specific to Australian GST tax reporting. It retrieves the HQ company name, BAS period dates (GSTStartDate to GSTEndDate) for a given company, tax year, and sequence, then aggregates totals for sales/purchases excluding/including GST and GST tax amounts across BAS labels (G1-G3, G10-G11) from PRAUEmployerBASAmounts. The output supports drill-down reconciliation of BAS-reported GST figures against underlying AP/AR transactional data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspGLBudgetAdjustAnnually do?"
      },
      {
        "from": "gpt",
        "value": "The bspGLBudgetAdjustAnnually stored procedure adjusts the budget for a specified GL account, company, and budget code over a fiscal year period by deleting existing monthly entries and inserting new ones that evenly distribute the input total amount across months from the fiscal begin month to the end month, with the last month adjusted to match the exact total. It is used in GL budgeting workflows to annually revise or set precise budgets while accounting for debit/credit flags and ensuring the sum matches the target. Key operations include calculating prorated monthly amounts, handling remainder in the final period, inserting into GLBD table, and outputting the absolute total sum with normal balance (Dr/Cr).\n\nbspGLBudgetAdjustAnnually deletes existing monthly budget records for a specified GL company, account, and budget code from the fiscal year's begin month through the specified end month in the GLBD table. It then prorates a provided adjustment amount evenly across those months—adjusting the final month to ensure the total matches exactly—applies debit/credit signage, and inserts the new budgets. Outputs include the absolute total budget amount and normal balance ('Dr', 'Cr', or NULL); used in Viewpoint Vista GL budgeting to annually redistribute budgets over fiscal periods.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDGetCultureID do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tCC\n> Create date: 4/10/08\n> Description:\tReturns a culture ID for a given culture text, will return default if not found\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMServiceItems"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMServiceItems: SMCo (bCompany, not null); ServiceSite (varchar, not null); ServiceItem (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRJCSumHD view?"
      },
      {
        "from": "gpt",
        "value": "This view summarizes payroll job cost amounts from the PRJC table, aggregating total JobAmt by payroll company, group, pay period end date, employee, job company, and job. It provides a grouped total of payroll expenses allocated to jobs for period-specific analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vBITargetDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in vBITargetDetail: BICo (bCompany, not null); TargetName (varchar, not null); Revision (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NLT08 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_NLT08 calculates per-pay-period provincial income tax withholding for Newfoundland and Labrador (NL) based on projected annual income (@A) and tax credits. It sets the tax rate and basic personal credit (@KP) via income thresholds, computes credits for TCP (@K1P), CPP/EI premiums (@K2P), and input @K3P to derive gross tax (@T4), subtracts a capped labor credit (@LCP from @capstock), floors at zero (@T2), and outputs the rounded amount divided by pay periods (@ppds). Used in Canadian payroll to determine accurate NL tax deductions considering employee premiums and caps.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMServiceCenterCallType view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vSMAssociatedCallType."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDUI view?"
      },
      {
        "from": "gpt",
        "value": "The DDUI view (Module: DD) contains: VPUserName, Form, Seq, DefaultType, DefaultValue, InputSkip, InputReq, GridCol, ColWidth, ShowGrid, ShowForm, DescriptionColWidth, ShowDesc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEquipment do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Process Detail\n\nContext: Viewpoint Vista database, view WFProcessDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT vWFProcessDetail.*\nFROM dbo.vWFProcessDetail;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: MS Job Phase Defaults\n\nContext: Viewpoint Vista database, view MSJP"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSJP.*\nFROM dbo.bMSJP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMSubcontractCO with JCJMPM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMSubcontractCO with JCJMPM, use:\n\n```sql\nFROM PMSubcontractCO\nINNER JOIN JCJMPM\n  ON PMSubcontractCO.PMCo = JCJMPM.PMCo AND PMSubcontractCO.Project = JCJMPM.Project\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMSL view?"
      },
      {
        "from": "gpt",
        "value": "EM Maintenance Links"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPCQualProjTypesSubReport do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves qualified project types for a specific vendor/vendor group from the PCProjectTypes table, including project type descriptions (truncated to 30 chars), prior/next work percentages (formatted as decimals), and a flag for no prior work. It formats data with a 'R' (record) type and appends five blank 'B' (break/blank) rows with line numbers for report layout/spacing in a subreport. Output supports tabular reporting of vendor qualifications by project type."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APOnCostVendorTypesYN view?"
      },
      {
        "from": "gpt",
        "value": "Provides a distinct list of AP transactions from the OnCost workfile headers matched to AP transaction headers, with an OnCostYN flag indicating vendor type—Y if no OnCostID exists in the vendor OnCost master (via left join on company, vendor group, and vendor), N otherwise."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCProjPhaseCTCalc do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates projected totals (hours, units, costs) and forecasts for a specific job phase and cost type in Job Costing, aggregating actual posted values from JCPB, current estimates, remaining commitments, and pending non-interfaced PM order line estimates (e.g., from PMOL). It applies company/job/phase minimum percentage rules for projections and supports buyout scenarios. Outputs provide key metrics for cost-to-complete analysis, with error messaging if phase/cost type data is missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAllowanceRulesLookup view?"
      },
      {
        "from": "gpt",
        "value": "The PRAllowanceRulesLookup view (Module: PR) contains: PRCo, AllowanceRuleName, p2"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPBeginCheckDflt do?"
      },
      {
        "from": "gpt",
        "value": "This SP determines the default starting check number for AP check printing in a specific company and bank account. It first retrieves a pre-set `BeginningCheck` from the cash management account setup (bCMAC) if available; otherwise, it calculates the next sequential numeric check number by finding the maximum used `CMRef` in paid batches (bAPPB) and headers (bAPPH) for check payments (PayMethod='C'), then increments by 1. It enforces a hard limit of 9999999999 to prevent overflow, returning an error message if exceeded."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ABT102 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_ABT102 calculates the per-pay-period Alberta provincial income tax withholding amount for Canadian payroll in Viewpoint Vista ERP. It applies a flat 10% tax rate to annual earnings (@A), subtracts credits for basic personal amount (@TCP defaulting to 16825), capped CPP contributions (@PP up to @maxCPP), capped EI premiums (@EI up to @maxEI), and an additional credit (@K3P), ensuring the net tax is non-negative before dividing by pay periods per year (@ppds) to output @calcamt. Used during payroll processing to determine accurate periodic tax deductions, it validates inputs and returns error details if required.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMPRTB_CRAFT do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the craft code for a specified employee from the bPREH payroll header table using the PR company and employee identifiers. It validates the PR company parameter and checks for the employee's existence, returning an error code, message, and NULL craft if missing. Used in Viewpoint Vista import processes (e.g., payroll data handling) to ensure accurate employee craft lookup with error handling for invalid inputs.\n\nThis stored procedure retrieves the craft code for a specified employee from the bPREH table using the company (PRCo) and employee identifiers. It validates the company input and returns an error message/code if the company is missing or the employee record is not found, setting craft to NULL in such cases. Used in Viewpoint Vista ERP for payroll/HR lookups to obtain employee craft details efficiently.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDTC.\n\nContext: Viewpoint Vista database, view DDTC"
      },
      {
        "from": "gpt",
        "value": "SELECT dbo.vDDTC.*\nFROM dbo.vDDTC;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDTSupdate do?"
      },
      {
        "from": "gpt",
        "value": "The vspVADDTSupdate stored procedure manages user access permissions in the vDDTS table for specific companies, forms, tabs, security groups, and usernames within Viewpoint Vista ERP. For access levels 0, 1, or 2, it updates the Access field if a matching record exists or inserts a new one otherwise; for level 3, it deletes the record. It is used to dynamically enforce granular security controls on form tabs, supporting upsert and removal operations in a single call.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMSP view?"
      },
      {
        "from": "gpt",
        "value": "EM Standard Maintenance Parts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the POCOSMCT view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vPOCOSMCT."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSubcontract form?"
      },
      {
        "from": "gpt",
        "value": "The PMSubcontract form includes these fields: AP Company, Phase Group, Vendor Group, Project, Job Status, SL Cost Type 1, SL Cost Type 1 Option, Enforce Phase/CT Est Limit, Use Phase Description flag, PMCo Exists Flag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM Firm Contacts\n\nContext: Viewpoint Vista database, view PMPM"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMPM.*\nFROM dbo.bPMPM;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMViewpointDefaultsPOVM do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies Viewpoint-specific default values (e.g., from a 'Bidtek' template) to Purchase Order Vendor Material (POVM) records during data import into Vista's Inventory/PO modules. It checks import template settings, evaluates overwrite flags via helper functions (e.g., vfIMTemplateOverwrite), and populates fields like Vendor Group, Material ID, Description, U/M, costs, and ECMs if source data is empty. Output @msg reports errors like missing parameters."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the IMWorkEdit form?"
      },
      {
        "from": "gpt",
        "value": "The IMWorkEdit form includes these fields: ImportId, ImportTemplate, RecordType, Form, RecordSeq, Direct Type, Batch, Upload Error Count, Viewpoint Default Routine"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPRROEReason"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPRROEReason: Code (varchar, not null); Reason (varchar, not null); ReasonCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDTStablist do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates user permissions and input parameters to access a specific form's tab list in Viewpoint Vista's Data Dictionary (DD) security framework. It checks form existence, company validity, user/security group legitimacy, and explicit access rights before proceeding (likely to return tab data from DD tables). If invalid, it sets an error message in @msg and exits with a return code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMTS"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMTS: PMCo (bCompany, not null); Project (bJob, not null); Transmittal (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DataTypeMapping view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from api."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMJobUseEstOutDateYN do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates if an auto-template assigned to a job in Equipment Management (EM) uses \"Estimate Out Date\" (UseEstDateOutYN='Y') for revenue calculation in linked category (EMUC) or equipment (EMUE) records. It first confirms job-equipment linkage exists (EMJT), then counts qualifying auto-template records; if any exist and no specific equipment is provided, it outputs a warning message via @msg and sets @rcode=2 to flag revenue calc risks. Primarily a yes/no checker (per SP name) for estimated vs. actual out dates in equipment usage billing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVACompanyCopyHQCoVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates the existence of a specific headquarters company (HQCo) record in a remote/source server's database before allowing a company copy operation in Viewpoint Vista's multi-company environment. It checks the HQCO table on the remote server/db for the given @hqco, setting an error message and return code if missing or inputs invalid. It serves as a prerequisite check to prevent copy failures due to non-existent source data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMDepartmentOverrides view?"
      },
      {
        "from": "gpt",
        "value": "The SMDepartmentOverrides view (Module: SM) contains: SMDepartmentOverridesID, SMCo, Department, Seq, CallType, CostType, GLCo, CostGLAcct, RevenueGLAcct, CostWIPGLAcct, RevenueWIPGLAcct, UniqueAttchID, CostTypeCategory, LiabilityType, ForBurden"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the RPRQ view?"
      },
      {
        "from": "gpt",
        "value": "RP Report Query Text"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgrmtAmoritzSchModAltRevDelete do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 01/10/18\n> Description:\tDeletes revision or alt revision lines\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.vQueryHeader table?"
      },
      {
        "from": "gpt",
        "value": "The api.vQueryHeader table (Module: Other) contains: QueryHeaderId, Lookup, Title, FromClause, WhereClause, JoinClause, OrderByColumn, Memo, GroupByClause, Version, DescendingOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptPCBidSwing do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a \"Bid Swing\" report for the Preconstruction (PC) module, analyzing potential projects by comparing the company's bid total cost against competitor bids to calculate the swing amount (competitor bid minus company cost) and assumed competitor markup. It aggregates bid details like date, status, estimator, department, prime/sub role, project type, and financials (cost, price, profit, markup). Filters enable focused analysis by company, date range, status, competitor, etc., aiding competitive bid evaluation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vw_BudgetCAFlexImport view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from FlexDataDetail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMContractChangeOrderACO"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMContractChangeOrderACO: PMCo (bCompany, not null); Contract (bContract, not null); ID (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQRoleValForWFProcess do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a role for a specified workflow process, ensuring the role is valid and not already assigned to that process. It is used prior to adding role-process associations in workflow management to enforce uniqueness and role integrity. Key operations include calling vspHQRoleVal for initial role validation, checking WFProcessStep for existing matches, and returning an error code with a message if duplicates or invalid roles are detected.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMUpdateWorkCompletedBilling do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAaron Lang\n> Create date: 5/17/16\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMDocTrackViewCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PMDocTrackViewCopy form includes these fields: Project Filter, Source View, Destination View, Copy To Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPReleaseSingleHoldCode do?"
      },
      {
        "from": "gpt",
        "value": "This SP releases a single non-retainage hold on a specific AP invoice line by deleting the matching record from bAPHD (AP holds table) for the given AP company, month, transaction, and optional line. It fetches the retainage hold code from bAPCO company setup and blocks release if the hold matches it, redirecting to the dedicated retainage release process. Success returns 0; failures set @msg and return error codes (e.g., 1 for validation errors, 5 for duplicates)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQRoles view?"
      },
      {
        "from": "gpt",
        "value": "The HQRoles view (Module: HQ) contains: KeyID, Role, Description, Active, Notes, UniqueAttchID, UsableInPC, UsableInPM, UsableInSM"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join dbo].[MSTD with dbo].[INLM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join dbo].[MSTD with dbo].[INLM, use:\n\n```sql\nFROM dbo].[MSTD\nINNER JOIN dbo].[INLM\n  ON dbo].[MSTD.MSCo = dbo].[INLM.INCo AND dbo].[MSTD.FromLoc = dbo].[INLM.Loc\n```\n\nThis pattern is used in the vrvMSInvoice view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPPB table?"
      },
      {
        "from": "gpt",
        "value": "The bAPPB table (Module: AP) contains: Co, Mth, BatchId, BatchSeq, CMCo, CMAcct, PayMethod, CMRef, CMRefSeq, EFTSeq, ChkType, VendorGroup, Vendor, Name, Address... (43 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view enriches HRBI records with descriptive text for Earnings, Deduction, and Labor payroll elements based on EDLType and EDLCode. It performs conditional left joins to PRDL for Deduction ('D') a\n\nContext: Viewpoint Vista database, view HRBIMAIN"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    'EDLType' = HRBI.EDLType,\n    'EDLCode' = HRBI.EDLCode,\n    'PRDLDesc1' = PRDL_1.Description,\n    'PRDLDesc2' = PRDL_2.Description,\n    'PREDDesc' = PREC.Description\nFROM dbo.HRBI\nLEFT JOIN dbo.PRDL AS PRDL_1 ON HRBI.HRCo = PRDL_1.PRCo AND HRBI.EDLCode = PRDL_1.DLCode AND HRBI.EDLType = 'D'\nLEFT JOIN dbo.PRDL AS PRDL_2 ON HRBI.HRCo = PRDL_2.PRCo AND HRBI.EDLCode = PRDL_2.DLCode AND HRBI.EDLType = 'L'\nLEFT JOIN dbo.PREC ON HRBI.HRCo = PREC.PRCo AND HRBI.EDLCode = PREC.EarnCode AND HRBI.EDLType = 'E';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRILT17 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRILT17 calculates Illinois state income tax withholding for a payroll period using an annualization method. It multiplies the subject pay amount by pay periods per year, subtracts fixed allowances ($2175 per regular exemption, $1000 per additional), applies a 4.95% rate to the resulting taxable income (minimum zero), then divides by pay periods and rounds to get the per-period tax amount, outputting it via @amt. Used in payroll processing to compute accurate IL withholdings based on employee exemptions, returning an error message if pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLXA view?"
      },
      {
        "from": "gpt",
        "value": "The SLXA view (Module: SL) contains: SLCo, Mth, BatchId, BatchSeq, JCCo, Job, PhaseGroup, Phase, JCCType, SLItem, SL, VendorGroup, Vendor, Description, ActDate... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptHST_Main do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a summary for GST/HST tax reporting by aggregating AP purchase data (capital G10 and non-capital G11 totals) and AR sales data (total G1, export G2, GST-free G3) over a date range. It calls sub-procedures to fetch categorized activity from AP and AR modules, then outputs key parameters and summed totals for report generation (e.g., Canadian GST/HST return lines). HST likely refers to Harmonized Sales Tax compliance in construction firms."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: RP Report Parameters\n\nContext: Viewpoint Vista database, view RPRP"
      },
      {
        "from": "gpt",
        "value": "SELECT vRPRP.*\nFROM dbo.vRPRP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDSecureView.\n\nContext: Viewpoint Vista database, view DDSecureView"
      },
      {
        "from": "gpt",
        "value": "SELECT vDDSecureView.*\nFROM dbo.vDDSecureView;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPMReq view?"
      },
      {
        "from": "gpt",
        "value": "The PMPMReq view (Module: PM) contains: VendorGroup, FirmNumber, ContactCode, SortName, LastName, FirstName, MiddleInit, Title, Phone, PhoneExt, MobilePhone, Fax, EMail, PrefMethod, Notes... (39 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPR1095Header table?"
      },
      {
        "from": "gpt",
        "value": "The vPR1095Header table (Module: PR) contains: PRCo, TaxYear, Employee, LastName, FirstName, SSN, Address, City, State, Zip, Country, IsFullTime, SelfInsCoverage, OfferCoverageAll12Mths, EmployeeShareAll12Mths... (29 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPCOApproveClearApproved do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure clears the approved status of a specific Potential Change Order (PCO) approval item in Viewpoint Vista ERP's project management module. It first validates required inputs (PM Company, Approval ID, Project, PCO Type, and PCO), returning an error message and code if any are missing. If valid, it updates the vPMPCOApproveItem table to set Approve to 'N', nullify ACOItem and ApprovalDate for the matching record, enabling reversal of prior approvals.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMUploadWOTemplate do?"
      },
      {
        "from": "gpt",
        "value": "This SP processes bulk uploads of Work Order (WO) templates in Viewpoint Vista's IM (Inventory Management or Import Management) module by validating data from the IMWE staging table against the DDUD data dictionary. It flags errors like missing required values, non-numeric data in numeric columns, and prepares sanitized values in a temp table (#tempIMWE) for subsequent insert/update into target tables like IMWM. It first deletes prior uploads for the same @importid and @template to ensure clean processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PREA with PRCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PREA with PRCO, use:\n\n```sql\nFROM PREA\nINNER JOIN PRCO\n  ON PREA.PRCo = PRCO.PRCo\n```\n\nThis pattern is used in the vrvPRLocalEITWithholding view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYT19 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates New York State income tax withholding for payroll using 2019 tax tables. It annualizes a subject wage amount by pay periods, subtracts standard deductions and exemption allowances, then applies progressive tax brackets (with base amounts, marginal rates, and additions) to output the tax liability (@amt). It supports single ('S') or married ('M') filing status with validation for required inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDFormRelated view?"
      },
      {
        "from": "gpt",
        "value": "The DDFormRelated view (Module: DD) contains: Form, RelatedForm, Title"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMServiceSite with SMTechnicianPreferences in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMServiceSite with SMTechnicianPreferences, use:\n\n```sql\nFROM SMServiceSite\nINNER JOIN SMTechnicianPreferences\n  ON SMServiceSite.SMCo = SMTechnicianPreferences.SMCo AND SMServiceSite.CustGroup = SMTechnicianPreferences.CustGroup AND SMServiceSite.Customer = SMTechnicianPreferences.Customer AND SMServiceSite.ServiceSite = SMTechnicianPreferences.ServiceSite\n```\n\nThis pattern is used in the vrvSMTechnicianList view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This BI interface view delivers dimension data for Project Management firms by joining the firms master table with the firm types lookup, enriching firm records with descriptive type information. It s\n\nContext: Viewpoint Vista database, view viDim_PMFirms"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    bPMFM.KeyID AS FirmID,\n    bPMFM.VendorGroup,\n    FirmNumber,\n    FirmName,\n    bPMFT.KeyID AS FirmTypeID,\n    bPMFM.FirmType,\n    bPMFT.Description AS FirmTypeDescription,\n    bPMFM.SortName,\n    MailCity,\n    MailState\nFROM bPMFM\nLEFT OUTER JOIN bPMFT WITH (nolock) ON bPMFT.FirmType=bPMFM.FirmType;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYC01 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNYC01 calculates New York City personal income tax withholding for payroll. It annualizes the subject pay amount by pay periods, subtracts standard deductions (based on single/married status) and exemption allowances for residents, then applies progressive brackets with base tax additions and marginal rates; non-residents use a simpler flat 0.25% rate above thresholds without deductions. The procedure outputs the per-pay-period tax amount and is used in Vista payroll to ensure compliant NYC tax withholding based on employee residency, status, exemptions, and frequency.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bRQQH table?"
      },
      {
        "from": "gpt",
        "value": "The bRQQH table (Module: RQ) contains: RQCo, Quote, UserName, CreateDate, Locked, Description, Notes, InUseBy, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Step 0.3: Decision Gate?"
      },
      {
        "from": "gpt",
        "value": "| Finding | Action |\n|---------|--------|\n| Crystal Report solves exact use case | **STOP** - Expert may not be needed |\n| vrv*/brv* views exist | Expert should USE these views |\n| No relevant resources | Proceed with custom SQL |\n\n**If expert ignores existing resources → REBUILD, not validate**\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Inventory Dist Batch\n\nContext: Viewpoint Vista database, view JCIN"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCIN.*\nFROM dbo.bJCIN;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides customer group, customer identifier, and a formatted multi-line billing address string from the Accounts Receivable Customer Master, concatenating primary address, city, state, zip, country, \n\nContext: Viewpoint Vista database, view JCCMARBillAddress"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    CustGroup,\n    Customer,\n    'ARBillAddress' =\n    CASE WHEN isnull(BillAddress,'') <> '' OR isnull(BillCity,'') <> ''\n    OR isnull(BillState,'') <> '' OR isnull(BillZip,'') <> ''\n    OR isnull(BillCountry,'') <> '' OR isnull(BillAddress2,'') <> ''\n    THEN isnull(BillAddress,'') + ',\n    ' + isnull(BillCity,'') + ',\n    ' + isnull(BillState,'')\n    + ' ' + isnull(BillZip,'') + ' ' + isnull(BillCountry,'') + char(13) + char(10) + isnull(BillAddress2,'')\n    ELSE '' END\nFROM dbo.ARCM WITH (nolock);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvCMOutEntryAudit"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvCMOutEntryAudit: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQCreateAuditTriggers do?"
      },
      {
        "from": "gpt",
        "value": "This SP dynamically generates and creates INSERT, UPDATE, and DELETE audit triggers (named `vt{TableName}_Audit_*`) for a specified table, logging changes to the HQSA audit table. It uses provided key names/columns and an identity column to track record-level changes, supporting multi-company setups via `@CompanyColumn`. Enables comprehensive auditing of data modifications across Viewpoint Vista tables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMVal_Cost_Main do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates Equipment Management (EM) cost transactions in a batch process, capturing \"old\" (pre-validation) values across dozens of fields (e.g., equipment, costs, GL accounts, jobs, vendors) to detect changes, errors, or inconsistencies. It ensures data integrity for EM costs like repairs, fuel, rentals, or meter readings before posting. Outputs error messages via @errmsg if validation fails, supporting reversible batch operations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMUC view?"
      },
      {
        "from": "gpt",
        "value": "EM Auto Usage Templ Category"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vVPPartFormChangedParameters table?"
      },
      {
        "from": "gpt",
        "value": "The vVPPartFormChangedParameters table (Module: VP) contains: KeyID, ColumnName, Name, SqlType, ParameterValue, ViewName, FormChangedID, ParameterOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join LastEarnedMonth with JCJP in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join LastEarnedMonth with JCJP, use:\n\n```sql\nFROM LastEarnedMonth\nINNER JOIN JCJP\n  ON LastEarnedMonth.JCCo = JCJP.JCCo AND LastEarnedMonth.Contract = JCJP.Contract\n```\n\nThis pattern is used in the vrvJCBacklogForecast view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VASecurityByForm view?"
      },
      {
        "from": "gpt",
        "value": "The VASecurityByForm view (Module: VA) contains: Mod, ModTitle, Form, FormTitle, UserName, SecurityGroup, SecurityGroupName, GroupType, Company, CompanyName, FormAccess, RecAdd, RecUpdate, RecDelete, AttachmentSecurityLevel... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCItemPhaseMultJob view?"
      },
      {
        "from": "gpt",
        "value": "This view retrieves original and current contract amounts for items linked to specific jobs via shared contract and item identifiers in the Job Costing module. It joins contract item details with job-phase associations and applies grouping to provide unique job-item-contract amount combinations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMEM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMEM: EMCo (bCompany, not null); Equipment (bEquip, not null); Location (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pPortalDetails table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pPortalDetails table (Module: Other) contains: DetailsID, Name, GetStoredProcedureID, AddStoredProcedureID, UpdateStoredProcedureID, DeleteStoredProcedureID, ParameterMissingMessageID, DetailsHeader"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMSI"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMSI: PMCo (bCompany, not null); Project (bJob, not null); Submittal (bDocument, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR STP Employee ETP Amounts\n\nContext: Viewpoint Vista database, view PRAUSTPETP"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAUSTPETP.*\nFROM dbo.vPRAUSTPETP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ARMD view?"
      },
      {
        "from": "gpt",
        "value": "The ARMD view (Module: AR) contains: ARCo, Mth, ARTrans, CustGroup, MiscDistCode, DistDate, Description, Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRAUEmployees_archive table?"
      },
      {
        "from": "gpt",
        "value": "The vPRAUEmployees_archive table (Module: PR) contains: KeyID, PRCo, TaxYear, Employee, Surname, GivenName, Address, City, State, Postcode, BirthDate, TaxFileNumber, PensionAnnuity, AmendedReport, AmendedEFile... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPPayAddrUpdate do?"
      },
      {
        "from": "gpt",
        "value": "The bspAPPayAddrUpdate stored procedure updates payment address override details for a specific Accounts Payable transaction header in the bAPTH table within Viewpoint Vista ERP. It validates required inputs (company, month, transaction ID) and, if valid, performs an UPDATE to set fields like AddressSeq, PayOverrideYN, PayName, PayAddress, PayCity, PayState, PayZip, PayCountry, and PayAddInfo. Used to customize vendor payment addresses (e.g., for checks), it returns a success code (0) or error code/message (1) if no rows are updated or inputs are missing.\n\nThe bspAPPayAddrUpdate stored procedure updates payment address override details for a specific Accounts Payable transaction header in the bAPTH table, allowing customization of payee name, address, city, state, zip, country, and additional info. It is used in AP workflows to override default vendor addresses for precise payment routing. Key operations include validating required inputs (company, month, transaction), executing the UPDATE based on matching keys, checking rowcount for success, and returning an error code/message via output parameters if issues occur.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMChangeEquipCol view?"
      },
      {
        "from": "gpt",
        "value": "The EMChangeEquipCol view (Module: EM) contains: ViewpointDB, VPTableType, VPTableName, VPColumnName, VPColType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQPT view?"
      },
      {
        "from": "gpt",
        "value": "The HQPT view (Module: HQ) contains: PayTerms, Description, DiscOpt, DaysTillDisc, DiscDay, DueOpt, DaysTillDue, DueDay, CutOffDay, DiscRate, MatlDisc, Notes, UniqueAttchID, RollAheadTwoMonths, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMCU view?"
      },
      {
        "from": "gpt",
        "value": "The PMCU view (Module: PM) contains: KeyID, DocCat, Inactive, UseStdCCList, OvrCCList, UseStdSubject, OvrSubject, UseStdFileName, OvrFileName, Notes, UniqueAttchID, AttachToParent, UseStdDocumentTitle, OvrDocumentTitle"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_HRAccident view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_HRAccident view (Module: HR) contains: AccidentID, HRCoID, HRRefID, PRCoID, PRGroupID, PositionCodeID, JobID, JobPhaseID, ProjMgrID, Accident, AccidentDateID, AccidentClosedDateID, AccidentResolved, TotalAccidentCount, WorkerCompClaim... (24 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARJCContractInfoGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves key Job Cost contract details from the bJCCM table in Viewpoint Vista ERP, including description, department, status, customer/group, payment terms, tax group/code, retainage percentage, and receipt type, for a specified company and contract.\n\nIt is used in Accounts Receivable (AR) processes to access essential contract information for invoicing, billing, or reporting purposes.\n\nKey operations include input validation for company and contract parameters, a NOLOCK SELECT query to populate output parameters, and error handling with return codes if data is missing or invalid.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBITRetgGrid"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBITRetgGrid: co (bCompany, not null); mth (bMonth, not null); billnum (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POCLOSE form?"
      },
      {
        "from": "gpt",
        "value": "The POCLOSE form includes these fields: Month, Batch ID, GL Company, vendor group, Restrict By Vendor (Y/N), Vendor, Restrict by Job (Y/N), JC Company, Job, Restrict by SM Fields"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ARAA view?"
      },
      {
        "from": "gpt",
        "value": "The ARAA view (Module: AR) contains: VPUserName, TransDate, Invoice, ARCo, Mth, ARTrans"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INMO view?"
      },
      {
        "from": "gpt",
        "value": "IN Material Order Header"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in POJM"
      },
      {
        "from": "gpt",
        "value": "Key columns in POJM: VendorGroup (bGroup, not null); Vendor (bVendor, not null); MatlGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCostCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "bspCostCodeVal validates a cost code against a specified EMGroup in Viewpoint Vista ERP by checking the bEMCC table. It returns the cost code's description via output parameter if valid, or an error message ('Missing Cost Code' or 'Not a valid Cost Code') if null or not found. The procedure returns 0 for success or 1 for failure, supporting data integrity in cost code-related business processes like project costing.\n\nbspCostCodeVal validates a cost code for a given EMGroup in Viewpoint Vista ERP by checking the bEMCC table. If the cost code is null or not found, it outputs an error message ('Missing Cost Code' or 'Not a valid Cost Code') and returns 1; otherwise, it outputs the cost code's description and returns 0. It is used to enforce data integrity in business processes like job costing or accounting, preventing invalid cost codes from being used.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMCoVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Service Management (SM) company code (@SMCo) and retrieves associated configuration settings across Vista modules (e.g., GL, JC, AR, AP, PR, IN, EM companies; groups for contacts, phases, customers, materials, taxes; SM-specific flags like auto-batching, review processes, auto-numbering). It populates numerous OUTPUT parameters with these values from SM and HQ company tables, sets the SM license level, and returns a message with the HQ company name or 0 if no SMCo provided. Primarily ensures consistent multi-module company mappings and SM operational defaults are loaded correctly."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPCVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates whether a specific phase-cost type combination exists and is properly configured for a given phase group in the Job Cost (JC) module's setup tables (JCPC and JCCT). It checks for required input parameters and queries for a matching record, returning a success code (0) with the description if valid, or an error code (1) with a descriptive message if invalid or missing. This ensures data integrity before allowing JC transactions involving phases and cost types."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view joins service management work completed records with their batch processing details, including batch company, month, ID, sequence, and processed status. It provides a complete dataset for in\n\nContext: Viewpoint Vista database, view SMWorkCompletedWorkCompletedBatch"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vSMWorkCompleted.*,\n    vSMWorkCompletedBatch.BatchCo,\n    vSMWorkCompletedBatch.BatchMonth,\n    vSMWorkCompletedBatch.BatchId,\n    vSMWorkCompletedBatch.BatchSeq,\n    vSMWorkCompletedBatch.IsProcessed\nFROM dbo.vSMWorkCompleted\nINNER JOIN dbo.vSMWorkCompletedBatch ON vSMWorkCompleted.SMWorkCompletedID = vSMWorkCompletedBatch.SMWorkCompletedID;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspPMDocType do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NUT21 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_NUT21 calculates the per-pay-period tax withholding amount for Canadian payroll in Viewpoint Vista ERP, based on projected annual earnings (@A). It applies bracketed tax rates (4-11.5%) with corresponding credits (@KP), subtracts additional credits for TCP (@K1P at 4%), capped CPP and EI (@K2P at 4%), and input @K3P from gross tax, then divides the positive net tax by pay periods (@ppds) to output @calcamt. Used to ensure accurate periodic deductions compliant with Canadian tax rules, validating inputs and returning errors via @msg if needed.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvEMRevCostMthlDetail view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view unions monthly aggregated actual costs from equipment cost records (EMMC) by company, group, equipment, cost code, and cost type with monthly aggregated actual revenues from equipment activity records (EMAR) by company, group, equipment, and revenue code. Costs are flagged with RecType=2 (revenue fields nulled), revenues with RecType=1 (cost fields nulled and zeroed), enabling side-by-side monthly equipment P&L detail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRequiredMisc table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRequiredMisc table (Module: SM) contains: SMRequiredMiscID, SMCo, EntitySeq, Seq, Task, StandardItem, Description, SMCostType, Quantity, CostRate, CostTotal, UniqueAttchID, Notes, StandardTaskFlag, BillingRate... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ONT18 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Ontario provincial income tax withholding (including base tax, surtax, and health premium) for Canadian payroll in 2018, based on annual taxable income (@A), pay periods (@ppds), and credits/deductions like CPP (@PP, @maxCPP), EI (@EI, @maxEI), and others (@TCP, @K3P). It applies tiered tax rates, basic personal amounts, and caps to derive the total tax liability (@calcamt output), returning an error message (@msg) if inputs like pay periods are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBJCContractValForInit do?"
      },
      {
        "from": "gpt",
        "value": "Validates a Job Cost (JC) contract for billing initialization in the Job Billing (JB) module. Checks JC Company and Contract existence, ensures ContractStatus is active (not pending), and enforces rules against billing soft-closed or hard-closed contracts based on JCCO company settings (PostSoftClosedJobs/PostClosedJobs). Returns 0 (valid) or 1 (invalid) with an error message in @msg."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQATEdit do?"
      },
      {
        "from": "gpt",
        "value": "bspHQATEdit updates an existing attachment record in the bHQAT table for a specified AttachmentID, modifying the document name, description, original filename, and attachment flag. It is used in Viewpoint Vista ERP to edit headquarters attachment details efficiently. The procedure checks if exactly one row is updated and returns a success code (0) or error code (1) with a message if the operation fails.\n\nThe bspHQATEdit stored procedure updates an existing attachment record in the bHQAT table for a specified AttachmentID, modifying fields like document name, description, original filename, and attachment flag (DocAttchYN). It is used in Viewpoint Vista ERP to edit attachment metadata while ensuring data integrity by verifying that exactly one row is affected. If the update fails, it populates an output error message and returns a non-zero code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INRO view?"
      },
      {
        "from": "gpt",
        "value": "The INRO view (Module: IN) contains: INCo, Loc, MatlGroup, Material, OutMth, InDate, UnitCost, InMth, Units"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vAuditTables"
      },
      {
        "from": "gpt",
        "value": "Key columns in vAuditTables: TableName (nvarchar, not null); SchemaName (nvarchar, not null); KeyID (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDRelatedForms view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDRelatedForms."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHRHP table?"
      },
      {
        "from": "gpt",
        "value": "The bHRHP table (Module: HR) contains: HRCo, HRRef, PRCo, Employee, Status, UpdateOpt, ErrMsg"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWOAdjustmentVerifyDestination do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a destination Service Management (SM) Work Order and Scope before allowing an adjustment, such as adding a work completed line. It checks for null parameters, existence of the Work Order and Scope, and ensures the Work Order is not closed (status ≠ 1) and the Scope is neither closed (status ≠ 4) nor complete (status ≠ 3). If validations fail, it populates the output `@msg` with a descriptive error and returns 1; otherwise, it returns 0."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRACAeFileTransmissionHistory view?"
      },
      {
        "from": "gpt",
        "value": "The PRACAeFileTransmissionHistory view (Module: PR) contains: PRCo, TaxYear, TransmissionID, CTransmissionID, TransmissionType, DateGenerated, UUID, TCC, ReceiptID, TransmissionStatus, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDSL view?"
      },
      {
        "from": "gpt",
        "value": "The DDSL view (Module: DD) contains: TableName, Datatype, InstanceColumn, QualifierColumn, InUse, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join POHD with JCCD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join POHD with JCCD, use:\n\n```sql\nFROM POHD\nINNER JOIN JCCD\n  ON POHD.POCo = JCCD.APCo AND POHD.PO = JCCD.PO\n```\n\nThis pattern is used in the vrvJCCommittedCost view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view consolidates metadata for columns usable in DD module queries by unioning shared form columns (filtered for query visibility) with dedicated queryable columns, coalescing query names and tag\n\nContext: Viewpoint Vista database, view DDQueryableColumnsShared"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    Form,\n    Seq,\n    isnull(QueryColumnName, ColumnName) AS QueryColumnName,\n    Datatype,\n    InputType,\n    InputMask,\n    InputLength,\n    Prec,\n    ControlType,\n    ComboType,\n    ShowInQueryFilter,\n    ShowInQueryResultSet,\n    'DD Form Column' AS [Column Type]\nFROM DDFIShared\nWHERE isnull(QueryColumnName, ColumnName) IS NOT NULL AND (ShowInQueryFilter = 'Y' OR ShowInQueryResultSet = 'Y')\nUNION\nSELECT Form, Seq, QueryColumnName, Datatype, InputType, InputMask, InputLength, Prec,\n    ControlType, ComboType, ShowInQueryFilter, ShowInQueryResultSet, 'DD Queryable Column' AS [Column Type]\nFROM DDQueryableColumns;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMILDesc do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMILDesc stored procedure retrieves the description for a specific inspection code from the PMIL table in Viewpoint Vista ERP's project management module. It accepts parameters for company (PMCo), project, inspection type, and inspection code, outputting the matching Description via the @msg parameter only if the code is provided. Used to fetch human-readable labels for inspection line items, it performs a targeted SELECT query with NOLOCK for efficient read access and returns a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDSF"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDSF: Co (bCompany, not null); VPUserName (bVPUserName, not null); Mod (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Optimize this Viewpoint Vista SQL query. Scenario: Using vrv* views instead of custom JOINs\n\nSELECT h.*, d.*\nFROM APTH h WITH (NOLOCK)\nJOIN APTL d WITH (NOLOCK) ON h.APCo = d.APCo AND h.Mth = d.Mth AND h.APTrans = d.APTrans\nJOIN JCCD j WITH (NOLOCK) ON d.JCCo = j.JCCo AND d.Job = j.Job"
      },
      {
        "from": "gpt",
        "value": "Optimized SQL:\n```sql\nSELECT *\nFROM vrvAPJobCost WITH (NOLOCK)\nWHERE APCo = @APCo AND Mth = @Mth\n```\n\nOptimization tip: Check for existing vrv* (Viewpoint Report Views) before writing complex JOINs. They're pre-optimized."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR Craft Holidays\n\nContext: Viewpoint Vista database, view PRCH"
      },
      {
        "from": "gpt",
        "value": "SELECT bPRCH.*\nFROM dbo.bPRCH;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMSH"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMSH: EMCo (bCompany, not null); Equipment (bEquip, not null); StdMaintGroup (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HQSAExclusions view?"
      },
      {
        "from": "gpt",
        "value": "This view retrieves AuditIDs from HQSA for records tied to secure ('Y') and in-use ('Y') data dictionary tables where an Instance exists but the current user (via SUSER_NAME()) has no matching permission entry in DDDU. It identifies security audit exclusions by confirming datatype-level security flags and absence of user-specific qualifiers/instances."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bSLWI table?"
      },
      {
        "from": "gpt",
        "value": "The bSLWI table (Module: SL) contains: SLCo, UserName, SL, SLItem, ItemType, Description, PhaseGroup, Phase, UM, CurUnits, CurUnitCost, CurCost, PrevWCUnits, PrevWCCost, WCUnits... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUBASProcessGeneratePAYGAmounts do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates Australian PAYG (Pay As You Go) withholding amounts (W1 and W2) for employer BAS (Business Activity Statement) reporting in the Payroll (PR) module. It retrieves the withholding period from PRAUEmployerBAS, deletes prior W* amounts from PRAUEmployerBASAmounts, and recalculates W1 (complex gross payments including tax-exempt and specific ATO categories) and W2 (total gross payments subject to PAYG withholding) from payroll earnings/deductions (PREA, PRDL, PREC) within the period. These amounts support accurate quarterly ATO tax remittance reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspEmp# do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPCPhaseValSelectBidders do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates phase group and phase parameters for bidder selection in phase valuation processes. It returns an error code and message if either parameter is missing; otherwise, for 'Multiple' phases, it sets a message noting data is pulled from dbo.Bid, or retrieves the phase description from the bJCPM table. It ensures input integrity and provides data source context in Viewpoint Vista's project management workflows.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDUpdateHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDUpdateHistory: SequenceID (int, not null); UpdateType (varchar, not null); DownloadDate (datetime, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides workflow process details specifically for pending purchase orders by joining WFProcessDetail records sourced from POPendingPurchaseOrderItem with key PO identifiers like company, PO\n\nContext: Viewpoint Vista database, view WFProcessDetailForPO"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    a.*,\n    b.POCo AS [POCo],\n    b.PO AS [PO],\n    b.POItem AS [POItem]\nFROM [dbo].[WFProcessDetail] a\nINNER JOIN [dbo].[POPendingPurchaseOrderItem] b ON b.KeyID = a.SourceKeyID\nWHERE a.SourceView = 'POPendingPurchaseOrderItem';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDUsersGet do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspVADDUsersGet retrieves a sorted list of all VPUserName values from the dbo.vDDUP view. It is used in Viewpoint Vista ERP to fetch available users for display in dropdowns or lists within VADD-related modules. Key operations include a simple SELECT with ORDER BY VPUserName and returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBARCustomerValWithInfo do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates and resolves a customer for a specific Job Cost (JC) contract in a Job Billing (JB)/Accounts Receivable (AR) context, prioritizing billing address, payment terms (PayTerms), and receipt type (RecType) from the contract master (bJCCM) and falling back to the customer master (bARCM). It first calls `bspARCustomerVal` to confirm the customer exists in the specified group, outputs the validated customer ID, merged billing details, defaults, and status, or sets an error message/return code if invalid. Key rules include hierarchical data fallback (contract > customer > company defaults for RecType via bARCO/bJCCO) and NOLOCK reads for performance."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vWFProcessDetailStep"
      },
      {
        "from": "gpt",
        "value": "Key columns in vWFProcessDetailStep: ProcessDetailID (bigint, not null); Step (int, not null); KeyID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRRN view?"
      },
      {
        "from": "gpt",
        "value": "PR Crew Timesheet Non-Job Earn"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vfrl_seg_tree"
      },
      {
        "from": "gpt",
        "value": "Key columns in vfrl_seg_tree: entity_num (int, not null); seg_num (tinyint, not null); parent_code (nchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN Physical Count Worksheet\n\nContext: Viewpoint Vista database, view INCW"
      },
      {
        "from": "gpt",
        "value": "SELECT bINCW.*\nFROM dbo.bINCW;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRSeqControl form?"
      },
      {
        "from": "gpt",
        "value": "The PRSeqControl form includes these fields: PRGroup, PREndDate, Employee, PaySeq, CMCompany, CMAcct, Default CM Acct, Default CM Co#, Default Pay Method, PayMethod"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSubcontractCODistribution form?"
      },
      {
        "from": "gpt",
        "value": "The PMSubcontractCODistribution form includes these fields: Seq, Vendor Group, Sent To Firm, Sent To Contact, Send, Preferred Method, CC, Date Sent, Date Signed, Distribution Exists"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementDelete do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes a specific revision/version of a Service Management (SM) Agreement from the SMAgreement table and cascades deletions to all related child records (e.g., sites, site coverage, services, service items, budgets, revenue deferrals, billing schedules, labor allocations). It enforces business rules by validating the agreement's existence and quote status (0 or 1) before deletion, preventing removal of active/approved agreements. Success returns 0 with no message; failures populate @msg with details and return 1."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMChangeOrderRequestAddPCOs do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure adds one or more Potential Change Orders (PCOs) from the PMOP table to a specified Change Order Request (COR) by inserting records into vPMChangeOrderRequestPCO. It parses a comma-separated string of PCO KeyIDs (@KeyString), retrieves PCO details (e.g., Project, Type, Dates, Status) from PMOP and calculated totals/costs from PMOPTotals, and populates fields like TotalCost, TotalRevenue, PurchaseAmount, and ROMAmount for the COR. Returns error messages via @msg if inputs are missing or invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREmplValName do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee identifier (numeric Employee ID up to 6 digits or SortName string) within a specified Payroll company (PRCo), retrieving key details like full name, active status, insurance code, department, craft, class, JC company, and job. It supports flexible lookup: exact numeric ID first (if applicable), then exact SortName, then partial SortName prefix match. Outputs validated details or an error message if invalid, with optional active/inactive filtering ('Y'=active, 'N'=inactive, 'X'=any)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCMPostCMRefVal do?"
      },
      {
        "from": "gpt",
        "value": "vspCMPostCMRefVal validates and assigns a Cash Management (CM) reference sequence for transactions during posting in Viewpoint Vista ERP. It first invokes bspCMRefVal to check the provided CM reference; if invalid but assignable (rcode=2), it calls bspCMNextRefSeq to generate the next sequence number. It outputs the reference sequence, error flags, and messages, ensuring unique referencing within batches by company, month, and account.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPLog.vDBUPgrade"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPLog.vDBUPgrade: LogId (bigint, not null); LogDate (datetime, not null); HostName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the MSQDPM view?"
      },
      {
        "from": "gpt",
        "value": "This view augments MS Quote Detail records with the project company code (JCCo) and project number (Job) from the matching MS Quote Header, plus the latest interface date from PMMF for quote lines matching on company, quote, location, material, unit of measure, and phase. It supports analysis of quote details synchronized to project management via PMMF interfaces."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCIDesc do?"
      },
      {
        "from": "gpt",
        "value": "The vspJCCIDesc stored procedure retrieves the description, contract units, and contract amount for a specified job cost contract item (from bJCCI) in Viewpoint Vista ERP's job costing module. It checks for associated billing items (in JBIT), fetches the contract's SI region (from bJCCM), and validates if the contract item is a standard item code (SI Code in JCSI) for that region, populating output parameters accordingly. Primarily used to validate inputs and gather essential contract item details for UI display, reporting, or further job costing processes, with error handling for missing contracts or items.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vHQDetail with vHQDetailGLTransaction in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vHQDetail with vHQDetailGLTransaction, use:\n\n```sql\nFROM vHQDetail\nINNER JOIN vHQDetailGLTransaction\n  ON vHQDetail.Co = vHQDetailGLTransaction.Co AND vHQDetail.Seq = vHQDetailGLTransaction.DetailSeq\n```\n\nThis pattern is used in the vrvPRGL_HQDetailTran view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ARBC"
      },
      {
        "from": "gpt",
        "value": "Key columns in ARBC: ARCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates item-level additional information for unapproved Accounts Payable invoice reviews by company, invoice identifier (month/sequence), and reviewer, summarizing flags for up-level app\n\nContext: Viewpoint Vista database, view APURInvRevAdditionalInfo"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    APCo,\n    UIMth,\n    UISeq,\n    Reviewer,\n    MAX(HeaderAllowUpLevelApproval) AS HeaderAllowUpLevelApproval,\n    MAX(AllowUpLevelApproval) AS AllowUpLevelApproval,\n    MAX(ApproveWithoutData) AS ApproveWithoutData,\n    MAX(MissingData) AS MissingData,\n    MIN(MissingData) AS AllLinesMissingData,\n    MAX(MatchLowestApprovalSeq) AS MatchLowestApprovalSeq,\n    MIN(LineRejected) AS LineRejected,\n    MIN(OptionalApproved) AS OptionalApproved,\n    SUM(ReviewerLineTotal) AS ReviewerTotal,\n    CASE WHEN(SUM(CASE ApprvdYN WHEN 'Y' THEN 0 ELSE 1 END) = 0) THEN 'Y' ELSE 'N' END AS ApprvdYN,\n    CASE WHEN(SUM(CASE Rejected WHEN 'Y' THEN 0 ELSE 1 END) = 0) THEN 'Y' ELSE 'N' END AS Rejected,\n    (SELECT CASE WHEN(COUNT(DISTINCT isnull(RejReason,'')) = 1) THEN MAX(RejReason) ELSE '' END) AS RejReason,\n    MIN(OptionalReviewerYN) AS OptionalReviewerYN,\n    MAX(FilteredDisplayChecksYN) AS FilteredDisplayChecksYN,\n    MAX(UnfilteredDisplayChecksYN) AS UnfilteredDisplayChecksYN,\n    MAX(POSLWarning) AS POSLWarning\nFROM APURInvRevItemAdditionalInfo\nGROUP BY APCo, UIMth, UISeq, Reviewer;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPCScopeCodeValidationSelectBidders do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJG 12/09/10\n> Usage:\t\tValidates ScopeCode using the given vendorGroup and scopeCode parameters\n> AR 01/07/2016 - 294202 - adding WITH keyword\n> Input params:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgrmtAmoritzSchModDelete do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 01/10/18\n> Description:\tDeletes revision or alt revision lines\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMAgreementType table?"
      },
      {
        "from": "gpt",
        "value": "The vSMAgreementType table (Module: SM) contains: AgreementTypeID, SMCo, AgreementType, Description, Active, Department, Notes, UniqueAttchID, AutoRenew"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSEM view?"
      },
      {
        "from": "gpt",
        "value": "The MSEM view (Module: MS) contains: MSCo, Mth, BatchId, EMCo, Equipment, EMGroup, RevCode, SaleType, BatchSeq, HaulLine, OldNew, MSTrans, SaleDate, FromLoc, MatlGroup... (35 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPReportByFormParticipantLookupIDVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a Participant Lookup ID for RP reports by form in Viewpoint Vista ERP. It checks if the input @LookupID is null (setting @msg to 'Missing Builder Name.') or invalid by querying VDocIntegration.ParticipantLookup for the matching LookupDescription; if found, it populates @msg with the description and returns 0 (success), otherwise sets an error message and returns 1. It ensures data integrity before report generation by confirming the lookup ID exists and retrieving its description.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the frl_seg_ctrl view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vfrl_seg_ctrl."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCraftCappedBasis form?"
      },
      {
        "from": "gpt",
        "value": "The PRCraftCappedBasis form includes these fields: Craft, ELType, ELCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLUpdateAP do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates and updates Accounts Payable (AP) invoices (APHB headers, APLB lines) from approved Service Ledger (SL) worksheets (SLWH/SLWI), typically for service-related vendor billings on jobs. It applies filters by company, job range, vendor name range, pay category/type, and batch, while handling tax, discounts, 1099, and UDF updates via dynamic SQL builders. Outputs include processed row count, unapproved count, and status message for batch reconciliation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCAUpdatePostAccumsDetail do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates detailed employee payroll accumulations (hours, amounts, eligible/subject amounts) for Canadian payroll (provinces like QC) post-posting, by identifying processed payroll sequences in bPRSQ not yet in posted batches (bPRTB). It populates temp tables with old/new values, differences, paybacks, and overtime to sync YTD accumulations for compliance (e.g., QPIP, EDL earnings/deductions). Outputs errors if parameters missing; processes only unposted accumulations detail."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspRPCopyNewReportIDVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a proposed new ReportID (>=10000) for use in Vista's reporting system (RP module) by checking if it already exists in core report configuration tables (titles, parameters, lookups, forms, defaults, modules). If the ID is invalid (0) or already in use, it sets an error message in @msg and return code 1 (@rcode); otherwise, it allows the copy operation to proceed (rcode=0). It prevents overwriting or duplicating existing custom reports during creation/copying."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSQD view?"
      },
      {
        "from": "gpt",
        "value": "The MSQD view (Module: MS) contains: MSCo, Quote, FromLoc, MatlGroup, Material, UM, QuoteUnits, UnitPrice, ECM, ReqDate, Status, OrderUnits, SoldUnits, AuditYN, Notes... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWorkOrderQuote table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWorkOrderQuote table (Module: SM) contains: SMWorkOrderQuoteID, SMWorkOrderID, SMCo, WorkOrderQuote, Description, EnteredBy, EnteredDate, PRCo, SalesPerson, RequestedBy, RequestedPhone, RequestedDate, RequestedTime, CustGroup, Customer... (39 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMTL"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMTL: PMCo (bCompany, not null); Project (bJob, not null); TestType (bDocType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCPCValidatePhaseUnit do?"
      },
      {
        "from": "gpt",
        "value": "The vspJCPCValidatePhaseUnit stored procedure validates Phase Cost Types in the JCPC table to ensure no more than one has the Phase Unit Flag enabled for a given Phase Group and Phase. It counts matching records with PhaseUnitFlag='Y' (excluding the specified CostType), adds 1 if the input PhaseUnit is 'Y', and sets an error message with return code 1 if the total exceeds 1. Used in Viewpoint Vista's job costing module to enforce data integrity and prevent multiple unit-priced cost types per phase.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPMSubmittalBallInCourt"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPMSubmittalBallInCourt: Company (bCompany, not null); Project (bProject, not null); ProjDesc (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMOA table?"
      },
      {
        "from": "gpt",
        "value": "The bPMOA table (Module: PM) contains: PMCo, Project, PCOType, PCO, PCOItem, AddOn, Basis, AddOnPercent, AddOnAmount, Status, TotalType, UniqueAttchID, Include, NetCalcLevel, KeyID... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINCO table?"
      },
      {
        "from": "gpt",
        "value": "The bINCO table (Module: IN) contains: INCo, GLCo, Jrnl, GLAdjInterfaceLvl, GLAdjSummaryDesc, GLAdjDetailDesc, GLTrnsfrInterfaceLvl, GLTrnsfrSummaryDesc, GLTrnsfrDetailDesc, GLProdInterfaceLvl, GLProdSummaryDesc, GLProdDetailDesc, ValMethod, CostMethod, BurdenCost... (43 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POCBGrid view?"
      },
      {
        "from": "gpt",
        "value": "The POCBGrid view (Module: PO) contains: Co, Mth, BatchId, BatchSeq, POTrans, PO, POItem, ChangeOrder, ActDate, Description, UM, BatchTransType, ChgCur, ChgCost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POVM form?"
      },
      {
        "from": "gpt",
        "value": "The POVM form includes these fields: VendorGroup, Vendor, Form Company (for validation), MatlGroup, Material, UM, HQCo for the Matl Grp entered, VendMatId, Description, Standard Unit Cost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRVAT98 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRVAT98 calculates per-pay-period Puerto Rico VAT tax withholding for payroll based on subject gross pay, pay periods per year, and exemptions. It annualizes the wage by multiplying subject amount by pay periods, subtracting a $2500 deduction and $800 per exemption (capped at zero), then applies progressive brackets (0-3000 at 2%, up to >17000 at 5.75% with additions) to compute annual tax, dividing by pay periods for the output amount. Used in payroll processing to ensure accurate, annualized tax withholdings with error handling for missing inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspDemoUpdateHQCO do?"
      },
      {
        "from": "gpt",
        "value": "This SP synchronizes demo company data (from udDemoCo/udDemo tables where CopyToHQ='Y') into HQCO (headquarters company) records, propagating address, name, phone, and attachment details. It then updates related PMFM vendor/firm records with the new HQCO data for both mail and ship addresses. Finally, it extracts company logos from attachments, updates vCompanyImages, and saves them as JPG files to a fixed server path for use across the system."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINMBVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates batches for INMB (Inventory Material Batch/Movement) records in the Inventory (IN) module, ensuring data integrity for material transactions linked to jobs (JC), locations, units, costs, and taxes. It invokes a generic HQ batch validator, checks status (0-3), and prepares for updates on HQB batches and INMB/related tables. Outputs errors for invalid batches or data issues, preventing faulty inventory postings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvSMTechnicianList"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvSMTechnicianList: SMCo (bCompany, not null); CustGroup (bGroup, nullable); Customer (bCustomer, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMMaterialParamsGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves and validates material handling configuration parameters for a specified PM (Project Management) company, populating output parameters with linked company codes (AP, MS, IN), cost types, group codes (phase, vendor, material, sales/use tax), and module usage flags (MS, IN, RQ). It centralizes access to PM setup data from related modules like JC (Job Cost), ensuring consistent material cost, tax, and group configurations for job-related processes. Returns error codes/messages if PM company is invalid or required setups (e.g., AP company) are missing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMRIGrid view?"
      },
      {
        "from": "gpt",
        "value": "The PMRIGrid view (Module: PM) contains: PMCo, Project, RFIType, RFI, RespRecd, RespReqd, DateRespReqd"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAWDQueryEmailListWithValues do?"
      },
      {
        "from": "gpt",
        "value": "This SP dynamically builds a SQL SELECT statement for a predefined query (by name), supporting two types: simple queries from `bWDQY` (type 0) or grid-based inquiries from `VPGridQueries` with dynamic column/WHERE construction (type 1). It substitutes job-specific parameter values from `WDJP` into the query and prepares a temporary table to hold results. The output is tailored for generating an \"email list with values,\" enabling automated distribution of query results (e.g., reports or notifications) populated with real data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBReleaseRetg do?"
      },
      {
        "from": "gpt",
        "value": "This SP releases a user-specified percentage (@relpct) of retainage on a specific job bill/invoice by updating bJBIT records with calculated retainage release amounts (RetgRel, RetgTaxRel) and adjusting AmountDue. It handles two retainage release modes based on bJBIN.RevRelRetgYN: standard mode releases from open retainage (PrevRetg + RetgBilled - PrevRetgReleased), or revenue mode proportionally reverses prior releases. Outputs total released retainage (@billretgreleased) with optional rounding per bJCCM.RoundOpt, and a message (@msg)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pReportParametersPortalControlCustom"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pReportParametersPortalControlCustom: ReportID (int, not null); ParameterName (varchar, not null); PortalControlID (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vRFScenePerformanceCategories.\n\nContext: Viewpoint Vista database, view RFScenePerformanceCategories"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vRFScenePerformanceCategories;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAB view?"
      },
      {
        "from": "gpt",
        "value": "PR Leave Accrual Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the IMBatchIdDtl form?"
      },
      {
        "from": "gpt",
        "value": "The IMBatchIdDtl form includes these fields: Import Indentifier, Company, Source, Month, BatchId, Date Created, Record Count"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCHJDelete do?"
      },
      {
        "from": "gpt",
        "value": "This SP deletes Job Cost Job Header (bJCHJ) and associated Job Cost Cost Code (bJCHC) records for a specified JC Company and Job/Contract number. It flexibly handles @Job as either a top-level Contract (deleting its bJCHJ and bJCHC) or a sub-Job (deleting related bJCHC via join on Contract, then bJCHJ), or standalone bJCHC by Contract. Returns success (rcode=0) or error message/code if not found."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPOpenTransOnHoldCheck do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a vendor and hold code, then checks for any open Accounts Payable (AP) transactions (invoices/distributions) assigned to that hold code within a specific company. It sets the output `@msg` to 'Y' if open transactions exist (not in use, not prepaid, status not posted/voided), or 'N' if none, enabling hold-release or payment decisions. Returns error codes (1) with messages for invalid vendor or hold code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspGLGetBudgetTotal do?"
      },
      {
        "from": "gpt",
        "value": "bspGLGetBudgetTotal retrieves the summed budget total for a specific GL company, account, budget code, and fiscal year ending month in Viewpoint Vista's General Ledger module. It validates required inputs, fetches the fiscal period's begin month from GLFY, sums BudgetAmt from GLBD for matching records within the period, determines the normal balance ('Dr', 'Cr', or NULL), and outputs the absolute total. Used for budget reporting and analysis to provide period-specific totals adjusted for account balance conventions.\n\nbspGLGetBudgetTotal retrieves the total budget amount for a specified GL company, account, budget code, and fiscal year ending month in Viewpoint Vista's General Ledger module, used for budgeting reports and financial analysis. It validates required inputs, fetches the fiscal period's begin month from the GLFY table, and sums BudgetAmt from the GLBD table for matching records within the period (from begin month to fiscal end). Outputs include the absolute total, normal balance indicator ('Dr' or 'Cr'), and an error message/code if parameters are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APAUPayeeTaxPaymentATO view?"
      },
      {
        "from": "gpt",
        "value": "AP AU ATO Payee Tax Payment"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCJPDescGet view?"
      },
      {
        "from": "gpt",
        "value": "Retrieves phase descriptions in Job Costing by unioning job-specific records from JCJP (with company and job), master phase records from JCPM (with blank company/job), and a single top record from JCJP validated against company phase length rules in JCCO."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRGB"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRGB: PRCo (bCompany, not null); PRGroup (bGroup, not null); LiabCode (bEDLCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPSaveAllGridColumnsAdmin do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RPSYNCSSRS form?"
      },
      {
        "from": "gpt",
        "value": "The RPSYNCSSRS form includes these fields: Report Instance URL, Manager Instance URL, Sync Security Button"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMServiceItemSerialNumberVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tLane Gresham\n> Create date: 08/02/11\n> Description:\tValidation for SM Service Item Serial Number.\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPRSXSumAmtByPaySeq view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates payroll detail amounts from PRSX by pay sequence, computing total earnings (Type 'E'), total deductions (Type 'D'), and net pay as earnings minus deductions for each employee. It groups results by company, payroll group, period end date, employee, pay sequence, and contract reference from PRSP headers. Provides summarized pay totals for report validation in payroll processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PC States\n\nContext: Viewpoint Vista database, view PCStates"
      },
      {
        "from": "gpt",
        "value": "SELECT vPCStates.*\nFROM dbo.vPCStates;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetGridPartSettings do?"
      },
      {
        "from": "gpt",
        "value": "> Add the parameters for the stored procedure here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRRIT18 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRRIT18 calculates Puerto Rico Resident Income Tax (PRRIT) withholding per pay period in Viewpoint Vista payroll processing. It annualizes the input subject wage by multiplying by pay periods per year (@ppds) and subtracting exemptions (@exempts * $1000, nullified if annualized wage exceeds $221,800), then applies progressive brackets: 3.75% on 0-$62,550, 4.75% on excess up to $142,150 (plus $2,345.63 base), or 5.99% on excess above $142,150 (plus $6,126.63 base). The resulting annual tax is prorated by @ppds to output the per-period amount (@amt), floored at zero, with error messaging for missing @ppds.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Revenue Breakdown Code\n\nContext: Viewpoint Vista database, view EMRT"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMRT.*\nFROM dbo.bEMRT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APCO with APTD in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APCO with APTD, use:\n\n```sql\nFROM APCO\nINNER JOIN APTD\n  ON APCO.APCo = APTD.APCo\n```\n\nThis pattern is used in the vrvAPHoldStatus view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMCostProjectionPopup form?"
      },
      {
        "from": "gpt",
        "value": "The PMCostProjectionPopup form includes these fields: Job, Phase Group, Projection Code, Phase, Cost Type, Hrs Per Man Day, UM, Minimum Projection Percent, Remaining Units, Buy Out"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMSH view?"
      },
      {
        "from": "gpt",
        "value": "EM Standard Maintenance Header"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHQWL table?"
      },
      {
        "from": "gpt",
        "value": "The bHQWL table (Module: HQ) contains: Location, Path, Notes, UniqueAttchID, LocType, KeyID, StandardLocation"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvMSHaul_APTH_DistinctAPRef view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view aggregates AP transaction headers into distinct AP references (invoices) by company, month, vendor group, and vendor. For each unique combination, it calculates the latest invoice date, latest due date, and total count of associated transactions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bAPPT table?"
      },
      {
        "from": "gpt",
        "value": "The bAPPT table (Module: AP) contains: APCo, PayType, Description, GLCo, GLAcct, Notes, UniqueAttchID, PayCategory, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARAutoApplyLineRev do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure automatically calculates and prepares the application of a payment or adjustment line (including amounts, taxes, retainage, discounts, and finance charges) to open AR invoices during batch processing, accounting for prior applications and reversals. It aggregates previously applied amounts from payment transactions to determine remaining balances on target invoices, excluding conflicting current-batch applications. The \"LineRev\" indicates support for revised invoice lines, ensuring accurate pro-rata or targeted application without overpaying."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VCReportParameters form?"
      },
      {
        "from": "gpt",
        "value": "The VCReportParameters form includes these fields: Report ID, Report Parameter, Current Default Value, Default Value, Access, Override Status"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INRI view?"
      },
      {
        "from": "gpt",
        "value": "The INRI view (Module: IN) contains: INCo, Loc, MatlGroup, Material, InDate, UnitCost, InMth, Units"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMRevBdownCategEquip view?"
      },
      {
        "from": "gpt",
        "value": "Provides unified revenue breakdown data for Equipment Management categories and equipment, including rates, revenue breakdown codes, categories/equipment identifiers, revenue codes, and descriptions. Combines category-level records from EMBG (Type='C', no equipment) with equipment-level records from EMBE (Type='E') via UNION ALL, coalescing descriptions and left-joining category details where available."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQPT form?"
      },
      {
        "from": "gpt",
        "value": "The HQPT form includes these fields: PayTerms, Description, DaysTillDisc, DiscDay, DaysTillDue, DueDay, CutOffDay, DiscRate, RollAheadTwoMonths, MatlDisc"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvPRInsVarRate"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvPRInsVarRate: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vWFMail table?"
      },
      {
        "from": "gpt",
        "value": "The vWFMail table (Module: WF) contains: KeyID, UserID, SentTo, CC, BCC, From, Subject, Body, Source, SentDate, IsRead, IsNew, AttachIDs, AttachFiles, UniqueAttchID... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMPOFindBatch do?"
      },
      {
        "from": "gpt",
        "value": "This SP locates the batch details (BatchId, Month, Sequence) for a specific Purchase Order (PO) linked to a Service Management (SM) Work Order, checking if it's already batched via SMWorkOrderPOHB or POIB tables. It validates batch availability for editing/processing by ensuring the batch is open (Status=0) and not in use by another user, returning success (0), errors via @msg, or 1 on failure. Outputs include batch info and @IsCurrentMonthOpen (likely set later in full SP)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMGLDistributionReport view?"
      },
      {
        "from": "gpt",
        "value": "The SMGLDistributionReport view (Module: SM) contains: SMCo, Mth, BatchId, SMWorkCompletedID, WorkOrder, Scope, WorkCompleted, Jrnl, Description, ActDate, GLCo, GLAccount, Amount, IsReversingEntry"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VDocIntegration.ParticipantLookup"
      },
      {
        "from": "gpt",
        "value": "Key columns in VDocIntegration.ParticipantLookup: KeyID (bigint, not null); LookupID (int, not null); LookupDescription (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bMSQD table?"
      },
      {
        "from": "gpt",
        "value": "The bMSQD table (Module: MS) contains: MSCo, Quote, FromLoc, MatlGroup, Material, UM, QuoteUnits, UnitPrice, ECM, ReqDate, Status, OrderUnits, SoldUnits, AuditYN, Notes... (23 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPCQualStatesSubReport do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves state-specific qualification details (e.g., licenses, expiration dates, sales tax numbers, UI numbers) for a given vendor and vendor group from the PCStates table, marking them as 'R' (real data) records. It appends five fixed blank 'B' (break/spacer) rows with sequential line numbers (1-5) and null values for report formatting. The output supports tabular subreport rendering in vendor qualification summaries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMRecordRelateKeyWordSearch do?"
      },
      {
        "from": "gpt",
        "value": "This SP enables keyword-based searches across Project Management (PM) tables/views in Viewpoint Vista, identifying records where the search string matches in text columns (excluding KeyID and binary types). It dynamically builds a list of searchable columns from tables defined in `vfPMTablesToSearch`, populates a temp results table with matches (table/column/value/KeyID), and supports general ('G') or vendor-specific ('V') search modes. Results can be formatted for reports via `@ReportStyle`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMServiceItemPart view?"
      },
      {
        "from": "gpt",
        "value": "SM Service Items Part"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCProjectionCodeUMVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates inputs for a Job Cost (JC) projection code and, if a valid Unit of Measure (UM) is provided, updates the `InclInUnits` flag in `JCProjectionCodePhaseCT` for phases/CTs under the specified Job and Projection Code. It sets `InclInUnits = 'Y'` for phases where the UM matches the input `@UM` (include in unit projections) and `'N'` otherwise (exclude), ensuring projection calculations reflect unit-based cost inclusion accurately. This synchronizes projection code behavior with phase-level UM settings."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPCBidPackageScopeNotes"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPCBidPackageScopeNotes: JCCo (bCompany, not null); PotentialProject (varchar, not null); BidPackage (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCP with PRRH in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCP with PRRH, use:\n\n```sql\nFROM JCCP\nINNER JOIN PRRH\n  ON JCCP.JCCo = PRRH.JCCo AND JCCP.Job = PRRH.Job\n```\n\nThis pattern is used in the vrvPRFlash view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Agreement Task Schedule\n\nContext: Viewpoint Vista database, view SMAgreementTaskSchedule"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.vSMAgreementTaskSchedule;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspReportServerInfo do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves configuration details for a specific report's location and associated Reporting Services (SSRS) server in Viewpoint Vista's reporting system. It returns the report path, filename, location type, and server settings (e.g., server name, instance, security, port) via a join across shared report views and server tables. Primarily used to provide metadata needed for report rendering, access, or synchronization."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvJBRetainageException view?"
      },
      {
        "from": "gpt",
        "value": "This batch report view identifies exceptions on the latest job billing invoice per contract where carried-forward previous retainage amounts on invoice item lines mismatch the actual summed retainage from all prior invoice lines for the same item. It calculates differences for Work Comp retainage (including tax), Subcontractor Material retainage, and released retainage (including tax), filtering to only those items with non-zero discrepancies. The view targets the final bill number in the maximum billing month per contract."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMJCJMTotals"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMJCJMTotals: PMCo (bCompany, not null); Project (bJob, not null); ACORevTotal (numeric, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view grids material sales ticket batch records from MSTB, calculating net ticket totals from material, haul, tax, and discount amounts. It derives sale-type-specific fields like company group, cu\n\nContext: Viewpoint Vista database, view MSTBGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent MSTB.*,\n    'TicketTotal' = isnull(MSTB.MatlTotal,0) + isnull(MSTB.HaulTotal,0) + isnull(MSTB.TaxTotal,0) - isnull(MSTB.DiscOff,0) - isnull(MSTB.TaxDisc,0),\n    'CoGrp'=\n    CASE MSTB.SaleType\n    WHEN 'C' THEN CONVERT(varchar(3),MSTB.CustGroup)\n    WHEN 'I' THEN CONVERT(varchar(3),MSTB.INCo)\n    ELSE CONVERT(varchar(3),MSTB.JCCo)\n    END,\n    'CustLocJob'=\n    CASE MSTB.SaleType\n    WHEN 'C' THEN CONVERT(varchar(10),MSTB.Customer)\n    WHEN 'I' THEN CONVERT(varchar(10),MSTB.ToLoc)\n    WHEN 'J' THEN CONVERT(varchar(10),MSTB.Job)\n    END,\n    'Description'=\n    CASE MSTB.SaleType\n    WHEN 'C'\n    THEN (SELECT Name\nFROM dbo.bARCM WITH (nolock)\nWHERE bARCM.CustGroup=MSTB.CustGroup AND bARCM.Customer=MSTB.Customer)\n    WHEN 'I'\n    THEN (SELECT Description\nFROM dbo.bINLM WITH (nolock)\nWHERE bINLM.INCo=MSTB.INCo AND bINLM.Loc=MSTB.ToLoc)\n    WHEN 'J'\n    THEN (SELECT Description\nFROM dbo.bJCJM WITH (nolock)\nWHERE bJCJM.JCCo=MSTB.JCCo AND bJCJM.Job=MSTB.Job)\n    END,\n    'TruckEquip' =\n    CASE MSTB.HaulerType\n    WHEN 'H' THEN CONVERT(varchar(10), MSTB.Truck)\n    WHEN 'E' THEN CONVERT(varchar(10), MSTB.Equipment)\n    WHEN 'N' THEN ''\n    END\nFROM dbo.MSTB (nolock)\nORDER BY MSTB.Co, MSTB.Mth, MSTB.BatchId, MSTB.BatchSeq;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCOverridesCost view?"
      },
      {
        "from": "gpt",
        "value": "This view combines job master details with monthly overrides for projected costs and other amounts, enabling retrieval of baseline job information alongside any period-specific cost adjustments. It supports analysis of jobs where standard costing has been manually overridden on a monthly basis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPRTimeExpensePre611 do?"
      },
      {
        "from": "gpt",
        "value": "> -- Test values 2011-0602 @PRCo bCompany, @PRGroup bGroup, @BegMth bDate = '01/01/1950', @EndMth bDate = '12/31/2050', @BegEmployee bEmployee = 0, @EndEmployee bEmployee = 999999, @NonTrueEarn char(1) = 'Y', @NonJob char(1) = 'Y' )\n> Test values 2011-0602\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRSH_Sorted"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRSH_Sorted: HRCo (bCompany, not null); HRRef (bHRRef, not null); EffectiveDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDFHUserMemoExist"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDFHUserMemoExist: Form (varchar, nullable); Title (varchar, nullable); ViewName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSPA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSPA: MSCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployeeMiscAmounts"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployeeMiscAmounts: PRCo (bCompany, not null); TaxYear (char, not null); Employee (bEmployee, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the viFact_HRTraining view?"
      },
      {
        "from": "gpt",
        "value": "The viFact_HRTraining view (Module: HR) contains: HRCoID, HRRefID, PRCoID, PRGroupID, PositionCodeID, CodeMasterID, IsTrainingCompleteCount, IsTrainingCompleteSafetyCount, IsTrainingExpiringCount, IsTrainingExpiringSafetyCount, IsSkillCertifiedCount, IsSkillCertifiedSafetyCount, IsSkillExpiringCount, IsSkillExpiringSafetyCount, EventDateID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNMT033 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNMT033 calculates Montana state income tax withholding for a payroll period based on subject gross pay, pay periods per year, exemptions, and filing status ('S' for single or 'M' for married). It annualizes wages after subtracting exemption allowances ($3100 each), selects the appropriate tax bracket, addition amount, and marginal rate from hardcoded tables, then computes the annual tax (minimum $12), and prorates it per pay period. Used in Viewpoint Vista payroll to accurately deduct MT state taxes per official withholding schedules.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvSMWorkOrderQuote"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvSMWorkOrderQuote: SMCo (bCompany, not null); WorkOrderQuote (varchar, not null); QuoteDescription (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRPH"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRPH: PRCo (bCompany, not null); CMCo (bCompany, not null); CMAcct (bCMAcct, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspBillGroupCalc do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PO Receipt Inventory Batch\n\nContext: Viewpoint Vista database, view PORI"
      },
      {
        "from": "gpt",
        "value": "SELECT bPORI.*\nFROM dbo.bPORI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SM Trip\n\nContext: Viewpoint Vista database, view SMTrip"
      },
      {
        "from": "gpt",
        "value": "SELECT vSMTrip.*\nFROM dbo.vSMTrip;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMWOPartsStatus form?"
      },
      {
        "from": "gpt",
        "value": "The EMWOPartsStatus form includes these fields: PartsStatusCode, Group, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSVendorVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates and resolves a vendor identifier within a specific vendor group in the Material Sales (MS) module, using the APVM (Accounts Payable Vendors Master) table. It accepts a vendor group and a flexible vendor input (numeric ID, exact SortName, or partial SortName prefix), returning the canonical vendor code and vendor name on success, or an error message/return code on failure. It supports smart lookup to standardize vendor references during data entry."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRAUEmployeeMiscAmounts view?"
      },
      {
        "from": "gpt",
        "value": "The PRAUEmployeeMiscAmounts view (Module: PR) contains: PRCo, TaxYear, Employee, SummaryNumber, ItemCode, EDLType, EDLCode, Amount, OrganisationName, AllowanceDesc, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvGLFSP1 view?"
      },
      {
        "from": "gpt",
        "value": "The brvGLFSP1 view (Module: GL) contains: GLCo, PartNo, Description, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCHC view?"
      },
      {
        "from": "gpt",
        "value": "JC History by Contract"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DDDMAttachmentTypes form?"
      },
      {
        "from": "gpt",
        "value": "The DDDMAttachmentTypes form includes these fields: Text ID, Description, Active"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWorkCompletedPurchase table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWorkCompletedPurchase table (Module: SM) contains: SMWorkCompletedPurchaseID, SMWorkCompletedID, IsSession, SMCo, WorkOrder, WorkCompleted, Description, Quantity, UM, CostRate, CostECM, ProjCost, ActualUnits, ActualCost, POCo... (25 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetCanvasReports do?"
      },
      {
        "from": "gpt",
        "value": "Retrieves a secured list of Canvas reports available to a specific user in a given company, pulling details like ReportID, Title, Description, Type, and OLAP status from RPRTShared and RPTMShared. Applies complex user security logic from RPRS to compute effective Access levels, prioritizing OneCompany over AllCompany settings and user-specific permissions (SecurityGroup = -1). Likely filters or groups results by @TemplateName (usage truncated in snippet) for report canvas/template selection."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPDisplayTabsRequence do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure resequences the TabNumber column for all tabs linked to a specified DisplayID, resetting them to sequential integers starting from 1 in their current ordered sequence. It is used to correct or normalize tab ordering after insertions, deletions, or manual edits that create gaps or irregularities in the numbering. Key operations involve selecting up to 10,000 tab KeyIDs ordered by existing TabNumber, then incrementally updating each TabNumber via a single UPDATE statement with a variable counter.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the EMTF view?"
      },
      {
        "from": "gpt",
        "value": "EM Equip Rev Templ Breakdown"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_ABT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_ABT09 calculates the per-pay-period amount for an Alberta-specific payroll tax credit or deduction, applying a 10% rate to an annual base amount (@A) and subtracting provincial credits. It is used in Viewpoint Vista's Canadian (Alberta) payroll processing to determine periodic withholding after caps on inputs like TCP (basic threshold, defaults to 16775), PP, EI, CPP, and an additional credit (@K3P). Key operations include validating pay periods (@ppds), computing credits (@K1P, @K2P), netting the result (@T4 floored at zero), and outputting the rounded per-period value (@calcamt).\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Cost Adjustment GL Batch\n\nContext: Viewpoint Vista database, view JCDA"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCDA.*\nFROM dbo.bJCDA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMInvoice with SMInvoiceDetail in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMInvoice with SMInvoiceDetail, use:\n\n```sql\nFROM SMInvoice\nINNER JOIN SMInvoiceDetail\n  ON SMInvoice.SMCo = SMInvoiceDetail.SMCo AND SMInvoice.Invoice = SMInvoiceDetail.Invoice\n```\n\nThis pattern is used in the vrvSMWorkOrderProfitReports view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedPostMonthUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the `MonthToPostCost` for provisional Service Management (SM) work completion records to a specified posting month, while deleting associated temporary `SMMiscellaneousBatch` entries. It ensures provisional (draft) work completions for a given work order can be finalized for accurate period-end cost posting to the General Ledger (GL). Success confirms the update; failure returns an error message."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMNamedDispatchBoard table?"
      },
      {
        "from": "gpt",
        "value": "The vSMNamedDispatchBoard table (Module: SM) contains: SMNamedDispatchBoardID, SMCo, SMBoardName, Division, ServiceCenter, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMPCOItemCheck do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a Potential Change Order (PCO) or specific PCO item in the PM module to ensure it remains unapproved (ACO field is empty) before allowing operations like zeroing out costs, quantities, or other adjustments. It enforces checks based on @zeroouttype ('I' for item-level, 'C' for PCO-level, 'P' skips checks) and returns an error code/message if parameters are missing or the item/PCO is already assigned to an Approved Change Order (ACO). Primarily prevents modification of approved change orders."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMAT022 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMAT022 calculates per-pay-period withholding for a state tax (likely Michigan PIT at 5.3%) from a subject pay amount, used in payroll processing to determine employee tax deductions. It annualizes the input amount by pay periods per year (@ppds), subtracts FICA impact (up to $2000 at 7.65%), applies exemptions (personal + additional, with caps for low wages), and head-of-household adjustment if @status='H'. Key operations include validation for missing @ppds, exemption-based reductions ($3300 for 1, $1000 each additional + $2300 base), rate application, and flooring negative results at zero, with error messaging on issues.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Batch.vDocument"
      },
      {
        "from": "gpt",
        "value": "Key columns in Batch.vDocument: KeyID (bigint, not null); DocumentId (uniqueidentifier, not null); Title (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the RPTY form?"
      },
      {
        "from": "gpt",
        "value": "The RPTY form includes these fields: Report Type, Description, Active, Status, VPType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUSTPEmployeeVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates an employee record for inclusion in a US Payroll Tax Package submission (PRAUSTP module) by PR company, tax year, and submission number. Resolves input employee identifier (numeric ID or sort name) to a canonical BEMPLOYEE ID from PREH (Payroll Employee Header), populating name components and outputting success/error via @Emplout and @msg. Ensures employee exists and meets basic format rules before tax form processing (e.g., W-2, 1099)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRIDT08 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRIDT08 calculates Puerto Rico income tax withholding for a single pay period, used in Viewpoint Vista payroll for PR employees. It annualizes gross subject pay by multiplying by pay periods per year (@ppds), subtracts exemptions times a $3200 allowance, then applies progressive tax brackets based on filing status ('S' for single, 'M' for married) to compute annual tax before prorating back to the pay period via division and rounding. Key operations include input validation, taxable income determination, bracket-based basetax/rate/limit lookup, and output of withholding amount (@amt) with error messaging.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMOD with JCJMPM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMOD with JCJMPM, use:\n\n```sql\nFROM PMOD\nINNER JOIN JCJMPM\n  ON PMOD.PMCo = JCJMPM.PMCo AND PMOD.Project = JCJMPM.Project\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PM CO Items Work Table Init\n\nContext: Viewpoint Vista database, view PMOZ"
      },
      {
        "from": "gpt",
        "value": "SELECT bPMOZ.*\nFROM dbo.bPMOZ;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the brvPMSubmittals view?"
      },
      {
        "from": "gpt",
        "value": "The brvPMSubmittals view (Module: PM) contains: PMCo, Project, Firm, Contact, PMSMStatus, DueDate, DateReceived, PMSMDesc, DocType, PMDTDesc, Submittal, Rev, Item, VendorGroup"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBMaxRetgCheck do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates and calculates the maximum retainage limit for a Job Billing (JB) invoice on a specific contract, based on contract master settings (fixed amount, percentage of contract value, or absolute amount). It sums prior retainage from Workers' Compensation (WC) and Service Management (SM) across previous bills, then outputs the max allowable retainage (@maxretgamt), whether the pre-bill limit is already met (@prebillmaxretglimitmet), and any errors. This prevents over-retainage beyond contract-defined thresholds during billing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMARCustomerVal do?"
      },
      {
        "from": "gpt",
        "value": "> ============================================= Author:\t\tJeremiah Barkley Create date: 8/5/2011 Description:\tValidation for the AR Customer (BillTo) on the work order. This is essentially a wrapper around the bspARCustomerVal. Modifications: TRL 10/25/2011 TK-88966 Renamed @IsOnHoldYN parameter to @Status to return actual AR Custumer Status GEG 11/18/2016 TFS-313123 Added validation for Alternate Billing Address EXAMPLE: DECLARE @CustomerGroup tinyint=1 DECLARE @Customer bSortName=1 DECLARE @AltBi\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vJBReviewers"
      },
      {
        "from": "gpt",
        "value": "Key columns in vJBReviewers: JBCo (bCompany, not null); JBBillMth (bMonth, not null); JBBillNmbr (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMRD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMRD: EMCo (bCompany, not null); Mth (bMonth, not null); Trans (bTrans, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkOrderCostDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkOrderCostDetail form includes these fields: Work Order, Seq, Craft, Class, Labor Hours, Common Markup Rate, Labor Cost Estimate, Material Cost Estimate, Equipment Cost Estimate, Subcontract Cost Estimate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRCraftTempDelVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specific craft and template exist for a given PR company in Viewpoint Vista's payroll module. It checks input parameters for null values and queries PRCT and PRCM tables to confirm the combination is valid, setting an output message and return code accordingly. Primarily used to enforce data integrity before craft/template deletion operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOGetItemsForWorkFlowSubmit do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves pending purchase order line items (excluding ItemType 6, e.g., non-standard items) for a specified PO, along with aggregated costs by item type and total PO amount, to prepare for workflow approval submission. It validates PO existence and ensures no prior workflow submissions exist for eligible items when not in list-only mode. Errors are returned via @ErrMsg and @rcode if validations fail, preventing invalid submissions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_NTT15 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the periodic federal income tax withholding amount (per pay period) for Canadian payroll employees using an annual income projection method. It applies tiered tax rates based on projected annual earnings (@A), subtracts basic personal amounts (@KP), tax credits (@K1P, @K2P from TCP, CPP, EI), and other adjustments (@K3P; @capstock unused), then divides the net tax by pay periods per year (@ppds) to output @calcamt. Hard-coded rates and thresholds (e.g., 5.9% credit rate, brackets up to $131,641; @TCP defaults to 13900 if NULL) reflect specific-year Canadian federal tax rules for non-refundable credits and withholding."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRDaysWithoutPayGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the total number of unpaid days for a specific employee within a payroll company (PRCo) over a user-defined date range (@FromDate to @ThruDate). It queries the `vPREmplPeriodsWithoutPay` view to identify overlapping unpaid periods (e.g., leaves or absences), adjusts for the input range boundaries using a CTE, and outputs the summed days via `@DaysWithoutPay`. The result supports payroll adjustments by quantifying time not eligible for pay."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNDT11 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRNDT11 calculates North Dakota state income tax withholding per pay period based on progressive brackets. It annualizes the subject pay amount by multiplying by pay periods per year, subtracts exemptions times a $3700 allowance to get taxable income, then applies status-specific ('S' single or 'M' married) tax rates and base amounts across tiers (e.g., 1.84% to 4.86%). The annual tax is prorated back to the pay period and rounded, outputting the withholding amount or an error if inputs like pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the AP1099Type form?"
      },
      {
        "from": "gpt",
        "value": "The AP1099Type form includes these fields: V1099Type, Description, HQCO Default Country, V1099Type, Description, HQCO Default Country"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRHIT12 do?"
      },
      {
        "from": "gpt",
        "value": "Computes Philippine BIR withholding tax (likely Table 12 for high-income or specific brackets) on payroll subject amount. Annualizes income by multiplying per-pay-period amount by pay periods per year (ppds), subtracts personal exemptions, applies progressive brackets based on filing status ('S'ingle or 'M'arried), and outputs computed tax amount (@amt) and any error message (@msg)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMAH table?"
      },
      {
        "from": "gpt",
        "value": "The bEMAH table (Module: EM) contains: EMCo, AllocCode, EMGroup, Description, SelectEquip, SelectCatgy, SelectDept, AllocBasis, BasisCol, AmtRateFlag, AllocAmount, EquipAmtCol, AllocRate, EquipRateCol, MthDateFlag... (31 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRORT03 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRORT03 calculates Oregon state income tax withholding for payroll in Viewpoint Vista ERP, based on subject pay amount, pay periods per year, filing status, exemptions, and federal tax adjustment. It annualizes income by multiplying subject amount by pay periods and subtracting a capped federal tax allowance (max $3500), then applies tiered brackets (7% or 9% rates with base tax and deductions varying by single status and exemptions under 3). The tax is computed per formula, periodized by dividing by pay periods, and floored at zero if negative, with validation for required inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from bPREA.\n\nContext: Viewpoint Vista database, view PREAEmplMonths"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT PRCo, Employee, Mth\nFROM dbo.bPREA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLAddonCalc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates and updates costs for percentage-based addon items (ItemType=4, Addon Type='P') in the Service Ledger (SL). It sums costs from base service line items (ItemType<3), applies the addon percentage to the current invoice's work completed cost (WCCost), prorates to work-to-date (WCToDate), computes percent complete (WCPctComplete), and caps updates at the addon's current cost (CurCost) if not yet fully claimed. This automates addon charge computation (e.g., overhead, profit) tied to direct service costs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDHRFI view?"
      },
      {
        "from": "gpt",
        "value": "The PMDHRFI view (Module: PM) contains: RFIType, RFI, PMCo, Project, DocType, Document, Rev, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName, OldValue... (37 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderScopePhaseVal do?"
      },
      {
        "from": "gpt",
        "value": "> ============================================= -- Author:\t\tTRL TK-13380 -- Create date: 03/15/2012 -- Modifyed by: TL 05/01/2012 - TK-14606 changed code for Job/Phase Validation -- Description:\tWork Order Scope Phase Validation =============================================\n> Author:\t\tTRL TK-13380\n> Create date: 03/15/2012\n> Modifyed by: TL 05/01/2012 - TK-14606 changed code for Job/Phase Validation\n> Description:\tWork Order Scope Phase Validation\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMWOInitItems do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes standard maintenance groups and items for an Equipment Management (EM) work order, populating it with predefined preventive maintenance tasks/checklists for the specified equipment and standard maintenance group. It optionally includes linked maintenance groups, applies default values (e.g., performing company, mechanic, due/scheduled dates), and tracks equipment readings/intervals for scheduling. Outputs counts of initialized groups/items and any errors, ensuring work orders start with consistent PM content."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPMProjectMasterTemplates table?"
      },
      {
        "from": "gpt",
        "value": "The vPMProjectMasterTemplates table (Module: PM) contains: PMCo, Project, DocType, DefaultTemplate, KeyID, DocCategory, DefaultYN"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMSubmittalCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PMSubmittalCopy form includes these fields: source project, submittal type, vendor group, our firm, copy revisions, copy items, Copy Distributions, destination project, responsible person, due date"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HRPCEmps form?"
      },
      {
        "from": "gpt",
        "value": "The HRPCEmps form includes these fields: HRRef, ActiveYN, PositionCode"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in Document.Participant"
      },
      {
        "from": "gpt",
        "value": "Key columns in Document.Participant: ParticipantId (uniqueidentifier, not null); FirstName (nvarchar, not null); LastName (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetCompanies do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAaron Lang vspVAGetCompanies\n> Create date: 5/12/2007\n> Description:\tReturns all companies\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRES"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRES: HRCo (bCompany, not null); HRRef (bHRRef, not null); Date (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspEMLocVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspEMLocVal stored procedure validates a location code for a given company in Viewpoint Vista's Equipment Management module by querying the EMLM table. It retrieves the location's active status and description if valid, or returns an error message and code (1) if the location is missing or invalid. Primarily used to enforce data integrity and confirm location usability before downstream operations.\n\nbspEMLocVal validates a specified location for an optional company (EMCo) in Viewpoint's Equipment Management module by querying the EMLM table. It retrieves the location's description and active status into output parameters if found and valid; otherwise, it sets an error message (e.g., missing or invalid location) and a non-zero return code. This procedure ensures location integrity before related business operations, providing quick feedback via outputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQDetail: HQDetailID (bigint, not null); Source (bSource, not null); Co (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SLClaimHeader with SLClaimItem in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SLClaimHeader with SLClaimItem, use:\n\n```sql\nFROM SLClaimHeader\nINNER JOIN SLClaimItem\n  ON SLClaimHeader.SLCo = SLClaimItem.SLCo AND SLClaimHeader.SL = SLClaimItem.SL AND SLClaimHeader.ClaimNo = SLClaimItem.ClaimNo\n```\n\nThis pattern is used in the vrvSLClaimPaymentSchedule view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspLicenseHeader_LicenseTypes do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the LicenseType(s) for a specified EnterpriseID from the LIC.LicenseHeader table in Viewpoint Vista ERP's licensing system. It validates the input EnterpriseID, checks for record existence, and returns an ordered list of LicenseTypes with success code 0 if found, or sets an error message in the output parameter and returns 1 if null or missing. Primarily used to query an enterprise's licensing configuration for feature access validation or compliance checks.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasTreeItems"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasTreeItems: ItemType (int, not null); ItemSeq (int, not null); Item (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the DDFIFieldMap form?"
      },
      {
        "from": "gpt",
        "value": "The DDFIFieldMap form includes these fields: Fixed Value, Stored Proc Parameters, Form Fields, Stored Proc - Field Map"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vJCCostProjectionColumnOptionDetail.\n\nContext: Viewpoint Vista database, view JCCostProjectionColumnOptionDetail"
      },
      {
        "from": "gpt",
        "value": "SELECT vJCCostProjectionColumnOptionDetail.*\nFROM dbo.vJCCostProjectionColumnOptionDetail;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVAGetDDUPUsersSecurityAccess do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAR, [vspVAGetDDUPUsersSecurityAccess]\n> Create date: 4/20/2015\n> Description:\treturns all DDUP users with filtered security access\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROKT16 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Kentucky state income tax withholding (`@amt` output) for payroll based on annualized wages derived from subject gross pay (`@subjamt`), pay periods per year (`@ppds`), filing status (`@status`: 'S'=Single, 'M'=Married, 'H'=Head of Household), and personal exemptions (`@exempts`, each $1,000). It applies progressive tax brackets and rates (0-5%) specific to KY tables, defaulting status to 'S' and handling married brackets at roughly double single levels. Outputs error messages (`@msg`) for invalid inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPLBLinesMarkDeleted do?"
      },
      {
        "from": "gpt",
        "value": "The vspAPLBLinesMarkDeleted stored procedure soft-deletes specific lines in an AP batch by updating the BatchTransType from 'C' (current) to 'D' (deleted) in the APLB table. It is used in Viewpoint Vista ERP's Accounts Payable module to mark batch lines for deletion without physical removal, supporting audit trails and batch reversals. Key operations include validating required inputs (company, batch month, ID, sequence), executing the targeted UPDATE, verifying all lines were updated, and returning a success code (0) or error (1) with a message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVACopyUserSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure copies a user's security permissions (e.g., form access, query security, report permissions, attachment types, canvas templates) from a source company (`@FromCo`) to a target company (`@ToCo`) in Viewpoint Vista's multi-company environment. If `@Replace = 'Y'`, it first deletes all existing security records for the user in the target company across multiple security tables. It sets a default `SecurityGroup = -1` on copied form security records and returns success/error codes with messages via `@rcode` and `@msg`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vfrl_per_bal.\n\nContext: Viewpoint Vista database, view frl_per_bal"
      },
      {
        "from": "gpt",
        "value": "SELECT vfrl_per_bal.*\nFROM dbo.vfrl_per_bal;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRateOverrideEquip"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRateOverrideEquip: SMRateOverrideEquipID (bigint, not null); SMCo (bCompany, not null); EntitySeq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HQBASReasonCodes"
      },
      {
        "from": "gpt",
        "value": "Key columns in HQBASReasonCodes: ReasonCode (tinyint, not null); Reason (varchar, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPRUpdateFlags do?"
      },
      {
        "from": "gpt",
        "value": "The bspHRPRUpdateFlags stored procedure retrieves HR/PR update configuration flags for a specific company from the HRCO table. It converts Y/N flags (e.g., UpdateNameYN, UpdateAddressYN, UpdateHireDateYN) into 'True' or 'False' strings and populates them into multiple OUTPUT parameters. This is used in HR/payroll processes to check which employee fields (like name, address, SSN, or W4) are allowed to be updated, respecting company-specific settings.\n\nThe bspHRPRUpdateFlags stored procedure retrieves HR/PR update flags for a specified company from the HRCO table, converting 'Y/N' values to 'True/False' strings and outputting them via parameters. It is used to check configurable permissions for updating employee fields like name, address, hire date, active status, PR group, timecard, W4, occupation, and SSN during HR processes. Key operations include a single SELECT query filtered by company code and returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrderQuoteExt with ARCM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrderQuoteExt with ARCM, use:\n\n```sql\nFROM SMWorkOrderQuoteExt\nINNER JOIN ARCM\n  ON SMWorkOrderQuoteExt.CustGroup = ARCM.CustGroup AND SMWorkOrderQuoteExt.Customer = ARCM.Customer\n```\n\nThis pattern is used in the vrvSMWorkOrderQuote view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ptvJCJP"
      },
      {
        "from": "gpt",
        "value": "Key columns in ptvJCJP: Phase (bPhase, not null); Description (bItemDesc, nullable); JCCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQMatlVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHQMatlVal validates a material within a specified material group by querying the bHQMT table in Viewpoint Vista ERP. It retrieves the Purchase Unit of Measure (PurchaseUM) and Description if the material exists, or returns an error message if inputs are missing or the material is not found. Primarily used to confirm material details and obtain purchase UM for headquarters material valuation or procurement processes, returning a success (0) or error (1) code.\n\nbspHQMatlVal retrieves the Purchase Unit of Measure (UM) and description for a given material group and material from the bHQMT table in Viewpoint Vista ERP. It first validates that both input parameters are provided, returning an error code and message if missing or if no matching record exists. Primarily used to look up standardized material purchasing details for inventory, valuation, or procurement processes, outputting success (code 0) with data or failure (code 1) with an explanatory message.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPCanvasNavigationSettings view?"
      },
      {
        "from": "gpt",
        "value": "The VPCanvasNavigationSettings view (Module: VP) contains: PartId, GridConfigurationID, Step, KeyID, ParentGridConfigurationID, UserDefaultDrillThrough"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDTC view?"
      },
      {
        "from": "gpt",
        "value": "The DDTC view (Module: DD) contains: TableName, ColumnName, Description, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLWHAddSingleSL do?"
      },
      {
        "from": "gpt",
        "value": "This SP adds a single withholding (retainage) entry to the Subledger Withholding (SLWH) table for a specific job and subledger (SL) account. It calculates retainage amounts based on job billing details, contract values, units billed, costs to date, and retention percentages, while validating vendor/pay control info and generating invoice-like details. Output includes a message (@msg) for success/errors and handles adjustments for prior withholdings or unbilled amounts."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectCopy form includes these fields: source vendor group, source customer group, source tax group, source phase group, source material group, Country, source project, source liability template, source pr state, destination company"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMRecordRelateRelGetUnRel do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves lists of unrelated (unlinked) records from various Vista forms/modules (e.g., documents, commitments) that match specified criteria like company, project, form name, and search string. It processes XML input containing multiple requests (via rows with 'GETAVAILABLE' action) to dynamically fetch available records for potential linking/relating in the PM module. Output is likely formatted for UI display, supporting record association without duplicates or existing links."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARCompany form?"
      },
      {
        "from": "gpt",
        "value": "The ARCompany form includes these fields: ARCo, GLCo, CMCo, CMAcct, CMInterface, CMSummaryDesc, EMCo, EMInterface, JCCo, JCInterface"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspCheckSQLAgentJob do?"
      },
      {
        "from": "gpt",
        "value": "> !!!!!!!!!!!!!!!!!!! NOTE !!!!!!!!!!!!!!!!!!! This proc is signed so any changes will cause the signature to be dropped. See Viewpoint\\Scripts\\Postscripts\\Always\\CreateCertsAndSignProcs.sql\n> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 09/30/21\n> Description:\tCheck status of SQL Agent Job.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCRevProjInit do?"
      },
      {
        "from": "gpt",
        "value": "Initializes batch records for projected revenue (units and dollars) on a JC contract's cost items/departments by inserting into bJCIR. It calculates current projections as prior-month cumulative projections from bJCIP (plus incomplete snippet logic, likely current adjustments) and captures previous projections for comparison. This establishes a baseline for revenue forecasting, plugging values for reporting or further processing in JC revenue recognition."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDH view?"
      },
      {
        "from": "gpt",
        "value": "The PMDH view (Module: PM) contains: PMCo, Project, DocType, Document, Rev, Seq, ActionDateTime, Action, UniqueAttchID, DocCategory, FieldType, FieldName, OldValue, NewValue, UserName... (35 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCProgLastDayofMonth do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the last day of a specified batch month (@mth) by adding one month and subtracting one day, outputting it via @lastdayofmonth. It validates whether an input actual date (@actualdate) falls within the batch month's range (from @mth start to the computed last day). If outside the range, it sets an error message in @msg and returns a non-zero code (1); otherwise, it returns 0 for successful validation, used in Viewpoint Vista's job cost (JC) progress processing to ensure date accuracy.\n\nThis stored procedure calculates the last day of a specified batch month (@mth) by adding one month and subtracting one day, outputting it via @lastdayofmonth. It validates if an actual date (@actualdate) falls within the batch month range (from @mth start to the computed last day). If outside the range, it sets an error message in @msg and returns a non-zero code; used in Viewpoint Vista's Job Costing module to ensure date accuracy for batch processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_SKT09 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_SKT09 calculates the per-pay-period Saskatchewan provincial income tax (SKT) withholding amount for payroll processing. It applies income-based tax rates (11-15%) and personal exemptions (KP), subtracts credits for TCP (K1P), CPP/EI contributions (K2P), other amounts (K3P), and capped stock option relief (LCP up to $1000), then outputs the net tax floored at zero divided by pay periods. Used in Viewpoint Canadian payroll to determine accurate SK tax deductions from employee earnings.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPOChangeOrderPOCOStatus do?"
      },
      {
        "from": "gpt",
        "value": "> CREATE PROC [dbo].[vspPMPOChangeOrderPOCOStatus]\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vJCJPRoles"
      },
      {
        "from": "gpt",
        "value": "Key columns in vJCJPRoles: KeyID (bigint, not null); JCCo (bCompany, not null); Job (bJob, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the DDCustomRecordTypeGroups view?"
      },
      {
        "from": "gpt",
        "value": "The DDCustomRecordTypeGroups view (Module: DD) contains: GroupId, RecordTypeId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_JCProjectMgr"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_JCProjectMgr: ProjMgrID (bigint, not null); ProjectMgr (int, nullable); Name (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvHQRolesListByMember view?"
      },
      {
        "from": "gpt",
        "value": "The vrvHQRolesListByMember view (Module: HQ) contains: HQRole, HQRoleDescription, HQRoleActiveFlag, HQRolePCUsable, HQRolePMUsable, HQRoleSMUsable, HQRoleLimtType, HQRoleLimitTypeDescription, HQRoleLimitSubType, HQRoleLimitDefaultLimit, HQRoleLimitDefaultThreshold, HQRoleLimitActiveFlag, HQRoleMemberUserName, HQRoleMemberFullName, HQRoleMemberActiveFlag... (19 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMET10 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMET10 calculates per-pay-period state income tax withholding (likely Michigan) from annualized wages, adjusted for a standard deduction and exemptions. It selects progressive tax brackets and rates based on employee filing status ('S' for single or equivalent, others for married/head of household), computes annual tax as a base addition plus marginal rate on excess wages, then divides by pay periods per year after rounding and zeroing amounts under $40 annually. Used in payroll processing to determine accurate withholding amounts for employee paychecks.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARFCInvoiceVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an invoice for application to a Finance Charge (ARFC) batch in the Accounts Receivable module. It verifies invoice eligibility based on customer, batch details, and type ('I' for Invoice, 'A' for Adjustment, 'R' for Retainage), computes original/current amounts due, identifies applicable transactions, and retrieves related job/contract details. Outputs include validation status, error messages, payment terms, and job/contract info for AR processing."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDCustomActions view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDCustomActions."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployerBAS"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployerBAS: PRCo (bCompany, not null); TaxYear (char, not null); Seq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_JCContract"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_JCContract: ContractID (bigint, not null); JCCoID (bigint, not null); JCCo (bCompany, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the INXJ view?"
      },
      {
        "from": "gpt",
        "value": "IN MO Close JC Dist Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQCX view?"
      },
      {
        "from": "gpt",
        "value": "The HQCX view (Module: HQ) contains: CompGroup, CompCode, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCJobPhaseRolesListView do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a filtered list of job phases (from JCJP) for a specific job, company, and phase group in the JC (Job Cost) module, showing associated roles from JCJPRoles or highlighting phases without roles. When @FilterPhases='N', it lists unused phases (no matching roles for the specified @Process). When @FilterPhases='Y', it lists all phases with minimal role info, defaulting @PhaseGroup from HQCO if zero, to support role assignment views."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMPurchaseOrderList"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMPurchaseOrderList: SMWorkOrderID (int, not null); SMCo (bCompany, not null); WorkOrder (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRGG table?"
      },
      {
        "from": "gpt",
        "value": "The bPRGG table (Module: PR) contains: PRCo, GarnGroup, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsIMXD do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates required input parameters for Bidtek defaults in Viewpoint Vista's IMXD import process. It checks if @ImportId, @ImportTemplate, and @Form are null, outputting an error message via @msg and returning error code 1 if any are missing. If valid, it sets a default @msg indicating \"Cross reference Detail\" and implicitly succeeds.\n\nThis stored procedure validates required input parameters for Bidtek Defaults import processing in Viewpoint Vista's IMXD module. It checks if @ImportId, @ImportTemplate, and @Form are null, setting an error message in @msg and return code 1 if any are missing, then exits early. If valid, it outputs a default \"Cross reference Detail\" message and succeeds, ensuring data integrity before further import operations.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPSLVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an AP subledger (SL) entry for use in an Accounts Payable batch process. It confirms the SL exists in the specified company, has an open status (Status=0), and is not already locked by another batch (checking InUseBatchId and InUseMth against HQBC batch records). On success, it sets compliance to 'Y' and prepares payterms; otherwise, it outputs an error message and sets compliance to 'N'."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRReviewerValidation do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 8/5/09\n> Description:\tValidation for Reviewer field in PR My Timesheet Approval form\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspVSBatchLock do?"
      },
      {
        "from": "gpt",
        "value": "bspVSBatchLock creates a new batch in the bVSBH table (likely Vendor Subcontract Batch Header in Viewpoint Vista ERP) by generating the next sequential BatchId from the maximum existing ID, then updates the new batch record with the provided description and locks it by setting InUseBy to the current user. It is used to initialize and exclusively lock a fresh batch for user processing, preventing concurrent access in batch workflows like invoicing or payments. Key operations include computing MAX(BatchId)+1, executing an UPDATE with verification via @@ROWCOUNT=1, and returning an error code/message if the update fails.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ptvPRMechWO"
      },
      {
        "from": "gpt",
        "value": "Key columns in ptvPRMechWO: WorkOrder (bWO, not null); Description (bItemDesc, nullable); Equipment (bEquip, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDFL"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDFL: Form (varchar, not null); Seq (smallint, not null); Lookup (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRTaxDocEmailEmplVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an employee in the Payroll (PR) module for eligibility to receive tax documents (e.g., PAYG Summary, W2, 1095C, T4) via email. It resolves the employee ID from input (numeric, exact name, or partial name prefix), retrieves the employee's full name, email address, and specific email consent flags for each tax form type, and outputs these for use in emailing. It enforces rules like valid PR company, employee existence, optional PR group membership, and required email address with consents."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvSLCT_DistinctSL"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvSLCT_DistinctSL: SLCo (bCompany, not null); SL (varchar, nullable); Complied (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRUH table?"
      },
      {
        "from": "gpt",
        "value": "The bPRUH table (Module: PR) contains: PRCo, State, Quarter, EIN, CoName, Address, City, CoState, Zip, ZipExt, Contact, Phone, PhoneExt, TransId, C3... (57 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pLinkControl table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pLinkControl table (Module: Other) contains: LinkControlID, PageSiteControlID, LinkOrder, LinkText, URL, PopUpHeight, PopUpWidth, SiteID, LinkTypeID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOIB table?"
      },
      {
        "from": "gpt",
        "value": "The bPOIB table (Module: PO) contains: Co, Mth, BatchId, BatchSeq, POItem, BatchTransType, ItemType, MatlGroup, Material, VendMatId, Description, UM, RecvYN, PostToCo, Loc... (106 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AUS Employer BAS\n\nContext: Viewpoint Vista database, view PRAUEmployerBAS"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM dbo.[vPRAUEmployerBAS];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAustraliaPAYGLoad do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the Australian Business Number (ABN) and truncated company name for a specified payroll company (PRCO) from the HQCO table. It validates the input PRCO, sets error outputs if missing, and returns success code 0 with the ABN (first 15 chars of FedTaxId) and name (first 30 chars). Used in Australian payroll (PAYG) GL loading to fetch essential HQ company details for reporting or posting.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join APVM with APVM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join APVM with APVM, use:\n\n```sql\nFROM APVM\nINNER JOIN APVM\n  ON APVM.VendorGroup = APVM.VendorGroup AND APVM.Vendor = APVM.DuplicateOf\n```\n\nThis pattern is used in the vrvAPVendorRelationship view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDFIcGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves detailed configuration metadata for a specific form field (column) from the DDFIc table, Vista's data dictionary for form controls. It returns properties like data type, input mask, validation procedures, default values, and UI settings (e.g., labels, min/max values) to support dynamic field rendering and behavior. The output parameter @msg provides error feedback if the form or column is missing or invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementLaborAllocationMonthlyManHours"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementLaborAllocationMonthlyManHours: SMCo (bCompany, not null); Agreement (varchar, not null); Revision (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARBH1_ValMiscDist do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates miscellaneous distribution codes (MiscDistCode) in AR batch records (bARBM) for a specific company, month, and batch. It iterates through unique combinations of customer group (CustGroup), MiscDistCode, and batch sequence (BatchSeq), calling bspARMiscDistCodeVal to check code validity per group. Errors are logged via bspHQBEInsert for batch error tracking, ensuring only valid distributions proceed."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMLaborCostEstimateEffectiveDate"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMLaborCostEstimateEffectiveDate: SMLaborCostEstimateEffectiveDateID (bigint, not null); SMCo (bCompany, not null); LaborCostEstimateSeq (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDVSUpdateView do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates system-wide configuration settings for Viewpoint Vista's web dashboard or interface (vDDVS table), including log retention, UI limits (e.g., lookup/filter rows, tabs), login messages, auto-logout, polling intervals, FTP/4Projects/Nvoicepay integrations, and security options. It centralizes admin control over user experience, performance, and external connectivity without altering core ERP data. An OUTPUT parameter (@ErrorMessage) allows callers to handle update failures."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQMU view?"
      },
      {
        "from": "gpt",
        "value": "The HQMU view (Module: HQ) contains: MatlGroup, Material, UM, Conversion, Cost, CostECM, Price, PriceECM, PayDiscRate, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMWOMassUpdateWorkOrder do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure supports mass updates to Equipment Management (EM) work orders by first selecting a filtered list of work orders into a temporary table (#SelectedWorkOrders) based on criteria like EM company, WO range, job, location, category, department, shop, payroll company, mechanic, and date ranges. It populates the temp table with key WO details (e.g., equipment, hours/odometer readings, shop/mechanic info, schedules, notes) for review or batch editing, likely enabling UI-driven bulk changes to fields like hours, odometer, assignments, or status. The output error message (@errmsg) reports issues like missing EM company."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMST20 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRMST20 calculates per-pay-period state income tax withholding (likely Massachusetts) from a subject pay amount. It annualizes the wage by multiplying by pay periods per year, subtracts a status-based standard deduction (H:3400, M:4600, B/default:2300) and exempt amount, applies progressive tax brackets (0-3k:0%, 3-5k:3% after 2k, 5-10k:4%+60, >10k:5%+260), then divides the annual tax by pay periods and rounds. Used in Viewpoint Vista payroll for accurate withholding; returns 0 amount if annualized wage is negative, or errors if pay periods unspecified.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQWO view?"
      },
      {
        "from": "gpt",
        "value": "The HQWO view (Module: HQ) contains: TemplateType, DocObject, LinkedDocObject, ObjectTable, Required, JoinOrder, Alias, JoinClause, Notes, UniqueAttchID, WordTable, StdObject, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMRT"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMRT: EMGroup (bGroup, not null); RevBdownCode (bRevCode, not null); Description (bDesc, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkCompletedPartUMVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates the unit of measure (UM) for a material/part during Service Management (SM) work completed entry, ensuring it's valid against standard (HQMT/HQUM/HQMU) or company/location-specific (INMU) definitions. Rejects invalid UMs (e.g., 'LS', non-existent for part), sets descriptive error messages in @msg, and initializes outputs for on-hand quantity (@QtyOnHand) and unit conversion (@Conversion). Early exits for LineType=5 (likely non-part line) or missing required inputs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bMSSurchargeOverrides"
      },
      {
        "from": "gpt",
        "value": "Key columns in bMSSurchargeOverrides: MSCo (bCompany, not null); Quote (varchar, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMQuotesSite form?"
      },
      {
        "from": "gpt",
        "value": "The SMQuotesSite form includes these fields: Quote, Quote Status, Service Site, Date, Work Order, Description, Work Order Scope Status, Work Scope, Call Type, SMWorkOrderQuoteID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from api.\n\nContext: Viewpoint Vista database, view APIViewMetaData"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM api.vAPIViewMetaData;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQFreqFill do?"
      },
      {
        "from": "gpt",
        "value": "The vspHQFreqFill stored procedure retrieves Frequency and Description records from the HQFC table in Viewpoint Vista ERP. It is used to populate frequency code lists for business processes like scheduling or recurring tasks. If no records exist, it sets an output error message and returns a failure code (1); otherwise, it returns success (0) with the data.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in GLBD"
      },
      {
        "from": "gpt",
        "value": "Key columns in GLBD: GLCo (bCompany, not null); GLAcct (bGLAcct, not null); BudgetCode (bBudgetCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRMyTimesheetCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PRMyTimesheetCopy form includes these fields: Copy to start date, Sheet Number to copy from, Include Hours"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPMCD"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPMCD: PMCo (bCompany, not null); Project (bJob, not null); PCOType (bDocType, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMPCPct"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMPCPct: PMCo (bCompany, not null); Project (bJob, not null); PhaseGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How are dates stored in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "Viewpoint date handling:\n- Month (Mth) columns store first day of month as datetime\n- Date columns use datetime type\n- For month comparisons, use: WHERE Mth = '2024-01-01'\n- For date ranges: WHERE Date >= @StartDate AND Date < @EndDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.PublishLog"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.PublishLog: PublishLogId (uniqueidentifier, not null); DocumentId (uniqueidentifier, not null); SuccessFlag (bit, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join ARTL with INLM in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join ARTL with INLM, use:\n\n```sql\nFROM ARTL\nINNER JOIN INLM\n  ON ARTL.INCo = INLM.INCo AND ARTL.Loc = INLM.Loc\n```\n\nThis pattern is used in the vrvARInvoiceDetails view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMTechnicianLookupFromEmployee do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tEric Vaterlaus\n> Create date: 01/20/2011\n> Description:\tLookup a SM technician given an Employee number and PRCo\n> =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMDivision form?"
      },
      {
        "from": "gpt",
        "value": "The SMDivision form includes these fields: Service Center, Division, Description, Active, Alternate Department, Department, ARCo, Notes, Reviewer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPDropFKsRelatedToTable do?"
      },
      {
        "from": "gpt",
        "value": "This SP dynamically identifies and drops all foreign key constraints from other tables that reference the specified `@TableName`. It supports safe schema modifications by automating the removal of inbound FK dependencies, preventing errors during table alterations, drops, or data restructuring in the Viewpoint Vista ERP database. Primarily a DBA utility, it prints actions for logging before executing `ALTER TABLE DROP CONSTRAINT`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRTA table?"
      },
      {
        "from": "gpt",
        "value": "The bPRTA table (Module: PR) contains: PRCo, PRGroup, PREndDate, Employee, PaySeq, PostSeq, EarnCode, Rate, Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQRefreshIndexes do?"
      },
      {
        "from": "gpt",
        "value": "This SP refreshes full-text or search indexes for attachments stored in the bHQAT table, which holds document attachments across Vista modules. It dynamically selects attachment IDs based on filters (specific ID, unique ID, or module prefix like 'JC' or 'PM') and iterates via cursor to rebuild indexes by calling `vspHQCreateIndex` for each matching attachment. The process ensures attachments remain searchable, with error handling to report failures via `@msg`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQATUnsyncdRecords"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQATUnsyncdRecords: KeyID (int, not null); AttachmentID (int, not null); WasDeleted (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure dt_removefromsourcecontrol do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the IDSRV.ApiSecrets table?"
      },
      {
        "from": "gpt",
        "value": "The IDSRV.ApiSecrets table (Module: Other) contains: Id, Description, Value, Expiration, Type, Created, ApiResourceId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRED"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRED: HRCo (bCompany, not null); HRRef (bHRRef, not null); Seq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCCMCurrentDaysUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the CurrentDays in the bJCCM table for a specified company (@jcco) and contract by adding the sum of ChangeDays from bJCOI records and eligible bPMOI records to the OriginalDays. It is used in Viewpoint Vista's job cost contract management to automatically recalculate contract days based on day change adjustments from job cost order items (JCOI) and project management order items (PMOI) that have ACO/ACOItem details not already covered by JCOI. Key operations include summing ChangeDays from matching bJCOI, summing qualifying bPMOI ChangeDays via exclusion check, fetching OriginalDays, and updating CurrentDays if the total absolute value is under 32767.\n\nThis stored procedure updates the CurrentDays in the bJCCM table for a specified job company (JCCo) and contract by adding net ChangeDays from bJCOI change orders and eligible bPMOI purchase order items not already covered by bJCOI. It sums ChangeDays from bJCOI matching the JCCo/contract, and from bPMOI where ACO/ACOItem exist without matching bJCOI entries to avoid double-counting. The update applies OriginalDays + changes only if the total is within -32766 to 32766; otherwise, it exits without changes, used to maintain accurate contract duration tracking in job costing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Increment version numbers in UDVersion table to notify Viewpoint client\n\nModule: Unknown"
      },
      {
        "from": "gpt",
        "value": "/*\n================================================================================\nUpdate UDVersion for All PWP Custom Field Views\n================================================================================\nPurpose: Increment version numbers in UDVersion table to notify Viewpoint client\n         that form metadata has changed and needs to be refreshed\n\nCritical Discovery:\n- vDDFIc registration alone is NOT enough for fields to appear in UI\n- The UDVersion table tracks metadata versions for each view\n- Viewpoint client caches form metadata based on UDVersion\n- When UDVersion is incremented, client refreshes its metadata cache\n- This is done by calling vspUDVersionUpdate for each affected view\n\nDatabase: Viewpoint on oc-cli01.olsen.local\nDate: October 15, 2025\n================================================================================\n*/\n\nUSE Viewpoint;\nGO\n\nSET NOCOUNT ON;\nGO\n\nPRINT '================================================================================'\nPRINT 'UPDATE UDVERSION FOR PWP CUSTOM FIELD VIEWS'\nPRINT '================================================================================'\nPRINT ''\n\nPRINT 'Current UDVersion state for affected views:'\nPRINT '--------------------------------------------------------------------------------'\n\nSELECT \n    TableName,\n    Version\nFROM UDVersion\nWHERE TableName IN ('vAPHB', 'vAPUI', 'vAPLB', 'vAPUL', 'vAPTL')\nORDER BY TableName\n\nPRINT ''\nPRINT '================================================================================'\nPRINT 'UPDATING VERSIONS'\nPRINT '================================================================================'\nPRINT ''\n\nPRINT '1. Updating version for vAPHB (APHB form)...'\nEXEC vspUDVersionUpdate 'vAPHB'\nPRINT '   ✓ Version updated'\n\nPRINT '2. Updating version for vAPUI (APUI form)...'\nEXEC vspUDVersionUpdate 'vAPUI'\nPRINT '   ✓ Version updated'\n\nPRINT '3. Updating version for vAPLB (APLB form)...'\nEXEC vspUDVersionUpdate 'vAPLB'\nPRINT '   ✓ Version updated'\n\nPRINT '4. Updating version for vAPUL (APUL form)...'\nEXEC vspUDVersionUpdate 'vAPUL'\nPRINT '   ✓ Version updated'\n\nPRINT '5. Updating version for vAPTL (APTL form)...'\nEXEC vspUDVersionUpdate 'vAPTL'\nPRINT '   ✓ Version updated'\n\nPRINT ''\nPRINT '================================================================================'\nPRINT 'VERIFICATION'\nPRINT '================================================================================'\nPRINT ''\n\nPRINT 'Updated UDVersion state:'\nPRINT '--------------------------------------------------------------------------------'\n\nSELECT \n    TableName,\n    Version\nFROM UDVersion\nWHERE TableName IN ('vAPHB', 'vAPUI', 'vAPLB', 'vAPUL', 'vAPTL')\nORDER BY TableName\n\nPRINT ''\nPRINT '================================================================================'\nPRINT 'COMPLETE'\nPRINT '================================================================================'\nPRINT ''\nPRINT 'All view versions have been incremented in UDVersion table.'\nPRINT ''\nPRINT 'CRITICAL NEXT"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from sysusers.\n\nContext: Viewpoint Vista database, view sysalternates"
      },
      {
        "from": "gpt",
        "value": "SELECT suid = CONVERT(smallint, suser_id(substring(name, 2, 63))), altsuid = CONVERT(smallint, suser_id(suser_sname(user_sid(altuid))))\nFROM sysusers\nWHERE isaliased = 1;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRLD"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRLD: PRCo (bCompany, not null); LocalCode (bLocalCode, not null); DLCode (bEDLCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JBBE"
      },
      {
        "from": "gpt",
        "value": "Key columns in JBBE: JBCo (bCompany, not null); BillMonth (bMonth, not null); BillNumber (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARTHUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates or inserts Accounts Receivable Transaction Headers (bARTH) for transactions like payments ('P') or miscellaneous credits ('M'), recording amounts, retainage, finance charges, and discounts taken. It handles application to specific target transactions (@ApplyTrans in @ApplyMth) and calculates aging metrics like last invoice/pay dates, amounts due, and discount impacts. The procedure ensures data integrity before committing changes to AR headers, lines (bARTL), and master (bARMT)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRSQ view?"
      },
      {
        "from": "gpt",
        "value": "PR Employee Sequence"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvSMTechnicianList view?"
      },
      {
        "from": "gpt",
        "value": "This view generates a unified list of technicians linked to customers through primary assignments, active alternate preferences, or do-not-use preferences at the customer level, incorporating associated service sites and centers. It flags the specific association type (e.g., primary, alternate, do-not-use for customers) and concatenates technician names from payroll records. Supports reporting on technician-customer relationships in Service Management."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRCompAssetCheckOutVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates a company asset for checkout/checkin in the HR module, ensuring the asset exists and determining its current status (available or checked out). If available (status=0), it prepares UI elements for checkout (e.g., captions like 'Check Out', null dateout). If already checked out, it fetches the latest transaction record and prepares for checkin (e.g., 'Check In', last DateOut)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides lookup data for status codes, including their names, descriptions, code types, and linked document categories. It incorporates global entity mapping by coalescing GlobalEntityId fro\n\nContext: Viewpoint Vista database, view StatusCode"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    COALESCE([ge].[GlobalEntityId], 0) as GlobalEntityId,\n    [PMSC].[KeyID] as [StatusCodeId],\n    [PMSC].[Status] as [StatusCodeName],\n    [PMSC].[Description] as [StatusCodeDescription],\n    [PMSC].[CodeType] as [CodeType],\n    [docCat].[KeyID] as [DocumentCategoryId]\nFROM [dbo].[PMSC] [PMSC]\nLEFT JOIN [dbo].[PMCT] [docCat] ON [docCat].[DocCat] = [PMSC].[DocCat]\nLEFT JOIN api.vGlobalEntityMap ge on ge.LocalEntityId = [PMSC].KeyID and ge.GlobalEntityTypeId = 3;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vRPFD table?"
      },
      {
        "from": "gpt",
        "value": "The vRPFD table (Module: RP) contains: Form, ReportID, ParameterName, ParameterDefault, UsedForPublish"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptSMWIPReport do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a Work In Progress (WIP) report for the Service Management (SM) module, identifying service agreements with unbilled billing schedule items or unprocessed/open preventive maintenance work orders/scopes. It filters by company (@SMCo), a specific month (@Month, used later for WIP cutoff), and optional comma-separated departments (@SMDept). The output supports WIP valuation by flagging agreements requiring billing or completion."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMQuickReferenceSettings table?"
      },
      {
        "from": "gpt",
        "value": "The vSMQuickReferenceSettings table (Module: SM) contains: SMQuickReferenceSettingID, UserName, UserSettingsData"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JB Bill Items\n\nContext: Viewpoint Vista database, view JBIT"
      },
      {
        "from": "gpt",
        "value": "SELECT bJBIT.*\nFROM dbo.bJBIT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspMSPayCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "bspMSPayCodeVal validates a pay code for a specified MS company in Viewpoint Vista ERP by checking the bMSPC table. It returns the pay code description if valid or an error message (e.g., missing parameters or invalid code) via output parameter, along with a return code (0 for success, 1 for failure). Primarily used in payroll or time entry processes to enforce valid pay codes, with key operations of null checks, single-row lookup, and error handling.\n\nbspMSPayCodeVal validates a pay code for a specified MS company in Viewpoint Vista ERP by checking the bMSPC table. It first verifies that both input parameters (@msco and @paycode) are provided, then queries for a matching record to retrieve the description if valid or sets an error message if not found. Used in payroll or labor entry processes to enforce valid pay codes, it returns a success code (0) with the description or an error code (1) via output parameter @msg.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspINPBPostGL do?"
      },
      {
        "from": "gpt",
        "value": "This SP posts summarized General Ledger transactions from Inventory Production Batches (bINPG) to the GL Detail Transactions table (bGLDT) for a specific company (@co), month (@mth), and batch (@batchid). It respects the company's GL production interface level (@glprodinterfacelvl from bINCO): if 0, it deletes the batch records without posting; if 2, it aggregates amounts by GL account, batch sequence, and production sequence for accounts where InterfaceDetail='N' (summary-level posting). The process generates sequential GL transaction numbers via bspHQTCNextTrans and uses a formatted batch ID as the GL reference."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPORN"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPORN: POCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Column Names?"
      },
      {
        "from": "gpt",
        "value": "- **Always** use exact case from `columns.csv` (e.g., `APCo` not `apco`)\n- **Never** add schema prefixes to column names"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMInvoiceList"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMInvoiceList: SMInvoiceID (bigint, not null); SMCo (bCompany, not null); CustGroup (bGroup, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPCanvasSettings"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPCanvasSettings: KeyID (int, not null); VPUserName (bVPUserName, not null); NumberOfRows (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRDLTypeDescVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHRDLTypeDescVal validates and retrieves deduction line (DL) type, description, and rate amount for a given DL code from the Payroll system, then counts its non-dependent instances in HR benefits lines (HRBL) for a specific HR company and reference, excluding a designated benefit code. It is used in Viewpoint Vista's HR/Payroll integration to confirm deduction validity and quantify usage in employee benefits enrollments. Key operations include input validation for companies and code, invoking bspPRDLTypeDescVal for PR details, and counting matching HRBL records.\n\nbspHRDLTypeDescVal retrieves the type, description, and rate amount for a deduction/loan (DL) code from the payroll system via bspPRDLTypeDescVal, then counts existing instances of that DL in the HR benefits list (HRBL) for a specific HR company and employee reference, excluding a given benefit code and dependents. It is used in Viewpoint Vista's HR-Payroll integration to validate DL codes and detect prior usage before associating them with benefits. Key operations include input validation for HR/PR companies and DL code, delegation to the PR procedure for details, and a COUNT query on HRBL filtered by HRCo, HRRef, DLCode, and DLType.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHRBE"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHRBE: HRCo (bCompany, not null); HRRef (bHRRef, nullable); BenefitCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementSite"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementSite: SMAgreementSiteID (bigint, not null); SMCo (bCompany, not null); Agreement (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRFWT13 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates U.S. Federal Income Tax (FIT) withholding for a single payroll period using 2001-era tax brackets (Form W-4 rules). It annualizes the subject wage amount, applies withholding allowances ($3,900 each), adjusts for non-resident alien status (+$2,200 wage adjustment, max 1 exemption), and computes progressive tax based on filing status ('S' for single or 'M' for married). The output `@amt` is the withholding tax amount; `@msg` reports errors (e.g., missing pay periods)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMWorkOrderScope form?"
      },
      {
        "from": "gpt",
        "value": "The SMWorkOrderScope form includes these fields: Service Center, Is Preventive Maintenance, Agreement, Revision, Price Method, Price, Use Agreement Rates, Tax Type, Tax Group, Tax Code"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.CommentType"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.CommentType: CommentTypeId (smallint, not null); CommentType (varchar, not null); CreatedByUser (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSSurchargeGroups form?"
      },
      {
        "from": "gpt",
        "value": "The MSSurchargeGroups form includes these fields: Surcharge Group, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view delivers essential company master data by joining project management company records with headquarters company details, providing a unique identifier, company code, and name for each organiz\n\nContext: Viewpoint Vista database, view OrganizationCompany"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [pmco].[KeyID] as [Id],\n    [pmco].[PMCo] as [CompanyId],\n    [hqco].[Name] as [Name],\n    [_userdefined_] = convert(nvarchar(max),\n    (\n    select *\nfrom (\n    select [Tag] = 1, [Parent] = null, [prop!1!name] = null, [prop!1!type] = '', [prop!1!isnull] = 'false', [prop!1] = convert(nvarchar(MAX), null)\nwhere (1 = 0)\n    ) a\n    FOR XML EXPLICIT, ROOT('obj')\n    )\n    )\nFROM [dbo].[PMCO] [pmco]\nJOIN [dbo].[HQCO] [hqco] ON [hqco].[HQCo] = [pmco].[PMCo];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRKST98 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRKST98 calculates per-pay-period Korean provincial income tax withholding for payroll, annualizing the subject gross amount by pay periods, subtracting exemptions (at 2000 each), and applying progressive tax brackets based on employee status ('S' for single or 'M' for married). It determines base tax, bracket limits, and marginal rates from predefined tiers (e.g., 3.5% to 6.45% for 'M'), computes total annual tax, divides by pay periods, rounds to two decimals, and floors at zero. Used in Viewpoint Payroll for accurate tax deductions; returns tax amount via output or error message if pay periods are missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCraftTempItems form?"
      },
      {
        "from": "gpt",
        "value": "The PRCraftTempItems form includes these fields: DLCode, DLType, Craft, Template"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVASecurityAdminGetCompanyModuleSecurityAccess do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves company (Co) and module (Mod) security access for the current user in Viewpoint Vista ERP's security administration context. It returns special values (-1, -1) if security administration is globally disabled (via vDDVS) or the user is a master admin (in vVASecurityMasterAdmin), granting full access. Otherwise, it queries user-specific access from vVASecurityAdmin based on the current SUSER_NAME().\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRCT"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRCT: PRCo (bCompany, not null); Craft (bCraft, not null); Template (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMGetAPCOFlags do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves configuration flags from the APCO table for a specified company (@APCo), specifically PMVendAddYN (PM vendor insert permission) and PMVendUpdYN (PM vendor update permission), outputting them as @PMInsertAP and @PMUpdateAP. It is used in Viewpoint Vista ERP to check whether the Project Management (PM) module can add or update vendors in Accounts Payable (AP) for the given company. Key operations include a single SELECT query on APCO by company code, setting output parameters, and returning a success code (0) or error code (1).\n\nThis stored procedure retrieves company-specific flags from the APCO table indicating whether Project Management (PM) can insert (PMVendAddYN) or update (PMVendUpdYN) Accounts Payable (AP) vendors. It is used in Viewpoint Vista ERP to validate permissions before PM operations on vendor data. Key operations include querying APCO by @APCo input parameter, populating output parameters @PMInsertAP and @PMUpdateAP, and returning a success code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQINAvailLocationsGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves a list of available inventory locations (from INLM) for a specified company (INCo), material group, and material in Viewpoint Vista's Inventory (IN) module. It supports two modes: \"AV\" (available locations excluding those already stocking the material via INMT) or \"AL\" (all matching locations), optionally filtered to active locations only. The output includes location code, description, and active status, aiding users in selecting valid stock locations for materials."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPRCertified do?"
      },
      {
        "from": "gpt",
        "value": "*No overview available.*\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMCompanyTemplates view?"
      },
      {
        "from": "gpt",
        "value": "The PMCompanyTemplates view (Module: PM) contains: PMCo, DocType, DefaultTemplate, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspARBLLinesExist do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the existence of AR Billing Lines (bARBL) for a specific company, month, batch, and invoice application (ApplyMth/ApplyTrans). It determines if any lines exist and, if so, whether they contain non-zero monetary amounts (e.g., Amount, TaxAmount, Retainage, Discounts, Finance Charges, including \"old\" historical values). Outputs @allzeroyn='Y' if no lines or all lines are zeroed out (indicating no substantive activity), or 'N' if meaningful lines exist; returns error code 1 with message only for invalid source or missing lines entirely."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQPM"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQPM: Country (char, not null); State (varchar, not null); PriceIndex (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Mail Sources\n\nContext: Viewpoint Vista database, view WFMailSources"
      },
      {
        "from": "gpt",
        "value": "SELECT vWFMailSources.*\nFROM dbo.vWFMailSources;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VSBHInfo view?"
      },
      {
        "from": "gpt",
        "value": "Summarizes VS batch headers with total document counts per batch and counts of unattached documents via subquery. Includes batch metadata like ID, description, creator, creation date, and current user lock. Orders batches by ID for listing active or available batches."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMWorkCompleted"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMWorkCompleted: SMWorkCompletedID (bigint, not null); Type (tinyint, not null); SMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMRequestForQuoteHistory form?"
      },
      {
        "from": "gpt",
        "value": "The PMRequestForQuoteHistory form includes these fields: Seq, Document Category, Action Date and Time, Field Type, Field Name, Old Value, New Value, Username, Action, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMMFPOItemLookup"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMMFPOItemLookup: POCo (bCompany, nullable); PO (varchar, nullable); POItem (bItem, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SLCB"
      },
      {
        "from": "gpt",
        "value": "Key columns in SLCB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JBIS with HQTX in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JBIS with HQTX, use:\n\n```sql\nFROM JBIS\nINNER JOIN HQTX\n  ON JBIS.TaxGroup = HQTX.TaxGroup AND JBIS.TaxCode = HQTX.TaxCode\n```\n\nThis pattern is used in the vrvJBProgressBills view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PR STP Employee Amounts Other Components\n\nContext: Viewpoint Vista database, view PRAUSTP2AmtOther"
      },
      {
        "from": "gpt",
        "value": "SELECT vPRAUSTP2AmtOther.*\nFROM dbo.vPRAUSTP2AmtOther;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPRTimeJob view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates payroll time transactions (PRTH) charged to jobs/phases, summing hours and earnings amounts by payroll group/end date, employee, job, phase, craft, earn code, and service management fields; includes max employee/job/dept/phase descriptions and earn code details. Uses UNION ALL to append adjustment transactions (PRTA) with amounts only (hours=0) and CodeType='A', while main query sets CodeType='E' for earnings. Filters to job-charged time (Phase or SMScope not null) for batch reporting of labor costs."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the api.Package view?"
      },
      {
        "from": "gpt",
        "value": "The api.Package view (Module: Other) contains: GlobalPackageId, Description, BusinessUnitId, ProjectId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMIMMaster view?"
      },
      {
        "from": "gpt",
        "value": "The PMIMMaster view (Module: PM) contains: PMCo, Project, Issue, MasterIssue, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRPRT11 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates state income tax withholding (likely Michigan, based on exemption amounts and brackets) for payroll by annualizing a subject's pay amount, subtracting personal/dependent exemptions, additional allowances, and miscellaneous deductions, then applying progressive tax rates (0% up to $5K, 7% to $22K, 14% to $40K+). It outputs the computed tax amount and an error message if inputs are invalid. Key business rules include minimum annualized wage threshold ($20K), status-based personal exemptions (S: $3.5K, M: $7K, B: $3.5K, H: $0), and dependent exemptions scaled by misc_factor ($1.25K or $2.5K each)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvPOChgOrderSummary view?"
      },
      {
        "from": "gpt",
        "value": "Summarizes purchase order change orders by company, PO, and item, including original PO total cost from item records, current change details like date, units, unit cost, and total change cost. Calculates prior cumulative change cost by summing previous change orders for the same PO. Supports batch reporting of change order impacts without current change totals."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRGLInsert do?"
      },
      {
        "from": "gpt",
        "value": "The bspPRGLInsert stored procedure accumulates payroll GL (General Ledger) amounts and hours into the bPRGL table for a specific payroll company, group, end date, month, GL account, employee, and pay sequence. It performs an upsert operation: updating existing matching records by adding the input @amt and @hours, or inserting a new record if none exists (initializing OldAmt and OldHours to 0). This is used in payroll processing to consolidate GL postings efficiently, avoiding duplicates while building cumulative totals for financial reporting.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bHQAX"
      },
      {
        "from": "gpt",
        "value": "Key columns in bHQAX: ParentColumn (varchar, not null); Description (bDesc, nullable); Notes (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMKeyWordSearch do?"
      },
      {
        "from": "gpt",
        "value": "The vspPMKeyWordSearch stored procedure, part of Viewpoint Vista's Project Management (PM) module, is designed for keyword searches but primarily functions as a SQL Server version checker in its implementation. It extracts the major SQL Server version from @@VERSION, outputs it to the @msg parameter, initializes @rcode to 0, and returns without using @ColumnToSearch or @SearchCondition for any search operations. This suggests use as a compatibility validator or stub prior to dynamic search execution in PM data like projects or contracts.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRReforPREmpVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates an employee identifier (numeric HRRef, exact SortName, or partial SortName match) against the HRRM table in an HR company context (or partially in PR context per truncated SQL), resolving it to a valid BHRREF and full employee name. It enforces company-specific lookups, skipping validation if unrestricted, and returns error messages for invalid/missing inputs. Outputs support auto-complete or validation in user interfaces."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalDetailsFieldCustom"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalDetailsFieldCustom: DetailsFieldID (int, not null); DetailsID (int, not null); ColumnName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRORT14 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates Rhode Island state income tax withholding for payroll based on annualized subject wages (`@subjamt * @ppds`), filing status (`@status`: 'S'ingle or 'M'arried), exemptions (`@exempts`), and federal tax withheld (`@fedtax`). It applies hardcoded tax brackets (5-9% rates up to $50K annual wages), standard deductions ($2115 for single/<3 exemptions), and caps, outputting the per-period tax amount (`@amt`) or error message (`@msg`). Designed for pre-2000s RI withholding tables (e.g., $6350 FedMax, specific bases like $191/$356/$703)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vRPRPc table?"
      },
      {
        "from": "gpt",
        "value": "The vRPRPc table (Module: RP) contains: ReportID, ParameterName, DisplaySeq, ReportDatatype, Datatype, ActiveLookup, LookupParams, LookupSeq, Description, ParameterDefault, InputType, InputMask, InputLength, Prec, PortalParameterDefault... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQFormatMultiPart do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure is a utility for parsing and formatting multi-part input strings (e.g., addresses, phone numbers, or identifiers) based on a compact format specification. The format spec starts with a numeric width (1-2 digits), followed by justification flag (@just), separator character (or 'N' for fixed-width), and recursive sub-format. It iteratively extracts portions of the input string up to the specified width or separator, applies basic trimming/slicing, and builds a formatted output string (logic for justification/concatenation likely in truncated code)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRPurgeBAS do?"
      },
      {
        "from": "gpt",
        "value": "The bspPRPurgeBAS stored procedure purges Business Activity Statement (BAS) data for a specified company and tax year in Viewpoint Vista ERP's Australian payroll module. It deletes all related records from three tables—vPRAUEmployerBASAmounts, vPRAUEmployerBASGSTTaxCodes, and vPRAUEmployerBAS—filtered by the input company code (@PRCo) and tax year (@TaxYear). This is used to clean up historical or erroneous BAS data, returning a success code and descriptive message via output parameters.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the INPhyCount form?"
      },
      {
        "from": "gpt",
        "value": "The INPhyCount form includes these fields: Location, Material Group, User Name, Material, UM, Material Descrption"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRTH with PRCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRTH with PRCO, use:\n\n```sql\nFROM PRTH\nINNER JOIN PRCO\n  ON PRTH.PRCo = PRCO.PRCo\n```\n\nThis pattern is used in the vrvJCRatesUnbilledAnalysis view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Transaction Detail\n\nContext: Viewpoint Vista database, view APTD"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPTD.*\nFROM dbo.bAPTD;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementGetNextNumber do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJeremiah Barkley\n> Create date: 1/12/12\n> Description:\tGet the next SM Agreement integer number.\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the POPendingPurchaseOrderItem view?"
      },
      {
        "from": "gpt",
        "value": "The POPendingPurchaseOrderItem view (Module: PO) contains: POCo, PO, POItem, ItemType, PostToCo, MatlGroup, Material, VendMatId, RecvYN, Description, GLCo, GLAcct, ReqDate, PayCategory, PayType... (54 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: PO Shipping Locations\n\nContext: Viewpoint Vista database, view POSL"
      },
      {
        "from": "gpt",
        "value": "SELECT bPOSL.*\nFROM dbo.bPOSL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HQMATables view?"
      },
      {
        "from": "gpt",
        "value": "The HQMATables view (Module: HQ) contains: TableName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Asset Master\n\nContext: Viewpoint Vista database, view EMDP"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMDP.*\nFROM dbo.bEMDP;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrder with SMWorkOrderStatus in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrder with SMWorkOrderStatus, use:\n\n```sql\nFROM SMWorkOrder\nINNER JOIN SMWorkOrderStatus\n  ON SMWorkOrder.SMCo = SMWorkOrderStatus.SMCo AND SMWorkOrder.WorkOrder = SMWorkOrderStatus.WorkOrder\n```\n\nThis pattern is used in the vrvSMWorkOrder view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPGetICDate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the most recent Inventory Cost Report Date (ICRptDate) for a specified company from the bAPFT table in Viewpoint Vista ERP's Accounts Payable module, first checking the current year and falling back to the previous year if none exists. It is used to determine the latest IC reporting cutoff date for AP processes like invoice validation or period-end closing. Key operations include selecting MAX(ICRptDate) filtered by APCo and YEMO year using DATEPART and NOLOCK for efficient reads, defaulting to an empty string if no date is found.\n\nThis stored procedure retrieves the most recent IC Report Date (ICRptDate) for a specified company (APCo) from the bAPFT table in Viewpoint Vista ERP's Accounts Payable module, first checking the current year and falling back to the previous year if no data exists. It is used to identify the latest intercompany reporting cutoff date for AP processing or validation. Key operations include selecting MAX(ICRptDate) via DATEPART on YEMO with NOLOCK, handling null results by setting the output to an empty string, and returning a zero error code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMDT with PMPU in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMDT with PMPU, use:\n\n```sql\nFROM PMDT\nINNER JOIN PMPU\n  ON PMDT.DocType = PMPU.DocType\n```\n\nThis pattern is used in the vrvPMDocDistAudit view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the WFTasklist view?"
      },
      {
        "from": "gpt",
        "value": "The WFTasklist view (Module: WF) contains: Company, Type, KeyID, Task, Checklist, Step, Summary, Required, UseEmail, Status, Description, ItemType, VPName, AssignedTo, AssignedOn... (25 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRACAEFileWriteTransmissionHistory do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure records a new ACA (Affordable Care Act) e-file transmission history entry for 1095-C forms in the Payroll (PR) module. It generates a unique sequential TransmissionID per company/tax year, retrieves the Transmitter Control Code (TCC) from company setup, sets initial status to 'PD' (Pending Delivery), and links relevant 1095 headers via a CTE for original ('O'), replacement ('R'), or correction ('C') filings, capturing UUID and timestamps for IRS Modernized e-File (MeF) tracking."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvWFProcessApprovalOutstandingDocs view?"
      },
      {
        "from": "gpt",
        "value": "The vrvWFProcessApprovalOutstandingDocs view (Module: WF) contains: KeyID, FormName, SourceDocumentType, SourceCompanyID, DocumentApprovalStatusCode, DocumentApprovalStatusDescription, DocumentID, DocumentIDDescription, DetailID, DetailIDDescription, DetailDollarAmt, InitiatedBy, InitiatedByFullName, DateInitiatedOn, ProcessName... (30 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PCStates view?"
      },
      {
        "from": "gpt",
        "value": "The PCStates view (Module: PC) contains: VendorGroup, Vendor, Country, State, License, Expiration, SalesTaxNo, UINo, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides equipment location history records with the immediately prior and next location assignments (job, cost company, location) based on datetime sequence per equipment item and company. Uses OUTER\n\nContext: Viewpoint Vista database, view EMLocationHistoryPriorNext"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    EMLocationHistory_1.EMCo AS [EMCo],\n    EMLocationHistory_1.Equipment AS [Equipment],\n    EMLocationHistory_1.DateTimeIn AS [DateTimeIn],\n    CONVERT(VARCHAR(30), PRIOR.DateTimeIn, 100) AS [PriorDateTimeIn],\n    PRIOR.ToJCCo AS [PriorToJCCo],\n    PRIOR.ToJob AS [PriorToJob],\n    PRIOR.ToLocation AS [PriorToLocation],\n    CONVERT(VARCHAR(30), NEXT.DateTimeIn, 100) AS [NextDateTimeIn],\n    NEXT.ToJCCo AS [NextToJCCo],\n    NEXT.ToJob AS [NextToJob],\n    NEXT.ToLocation AS [NextToLocation]\nFROM dbo.EMLocationHistory AS EMLocationHistory_1\n    OUTER APPLY (SELECT TOP 1 EMLocationHistory_2.ToJCCo, EMLocationHistory_2.ToJob, EMLocationHistory_2.ToLocation, EMLocationHistory_2.DateTimeIn\nFROM dbo.EMLocationHistory AS EMLocationHistory_2\nWHERE EMLocationHistory_2.EMCo = EMLocationHistory_1.EMCo\n    AND EMLocationHistory_2.Equipment = EMLocationHistory_1.Equipment\n    AND EMLocationHistory_2.DateTimeIn < EMLocationHistory_1.DateTimeIn\nORDER BY EMLocationHistory_2.EMCo,\n    EMLocationHistory_2.Equipment,\n    EMLocationHistory_2.DateTimeIn DESC\n    ) PRIOR\n    OUTER APPLY (SELECT TOP 1 EMLocationHistory_3.ToJCCo, EMLocationHistory_3.ToJob, EMLocationHistory_3.ToLocation, EMLocationHistory_3.DateTimeIn\nFROM dbo.EMLocationHistory AS EMLocationHistory_3\nWHERE EMLocationHistory_3.EMCo = EMLocationHistory_1.EMCo\n    AND EMLocationHistory_3.Equipment = EMLocationHistory_1.Equipment\n    AND EMLocationHistory_3.DateTimeIn > EMLocationHistory_1.DateTimeIn\nORDER BY EMLocationHistory_3.EMCo,\n    EMLocationHistory_3.Equipment,\n    EMLocationHistory_3.DateTimeIn ASC\n    ) NEXT;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMCO"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMCO: PMCo (bCompany, not null); APInUse (bYN, not null); SLInUse (bYN, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vDDMF table?"
      },
      {
        "from": "gpt",
        "value": "The vDDMF table (Module: DD) contains: Mod, Form"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMWI"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMWI: ImportId (varchar, not null); Sequence (int, not null); Item (bContractItem, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APNvoicepay form?"
      },
      {
        "from": "gpt",
        "value": "The APNvoicepay form includes these fields: Month, Batch ID, AP CM Account (Virtual), CM Acct, CSCMAcctYN, CredServ CM Acct Overwrite, Rerun batch?, Pay Methods to Export, CMRef to assign, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCIA view?"
      },
      {
        "from": "gpt",
        "value": "The JCIA view (Module: JC) contains: JCCo, Mth, BatchId, GLCo, GLAcct, BatchSeq, OldNew, ItemTrans, Contract, Item, JCTransType, ActDate, Description, Amount, SrcTable... (16 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRCM table?"
      },
      {
        "from": "gpt",
        "value": "The bPRCM table (Module: PR) contains: PRCo, Craft, Description, Address, City, State, Zip, EffectiveDate, ReportType, VendorGroup, Vendor, OTSched, Notes, TradeSeq, UniqueAttchID... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMCostProjectionOption form?"
      },
      {
        "from": "gpt",
        "value": "The PMCostProjectionOption form includes these fields: Form, User Name, Show Changed Only, Show Item Unit CT Only, Show Phase Unit CT Only, Show Linked CT, Show Options Form On Load, Load Last Opened Projection, Show Remaining Units Only, Show Remaining Cost Only"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvPCBidAnalysis view?"
      },
      {
        "from": "gpt",
        "value": "This view consolidates bid coverage details for potential projects, linking bid packages, scopes, phases, vendors, and contacts with descriptive enrichments and status lookups. It provides bid response indicators, award status, amounts, and project location data for analysis. Key transformations include ISNULL defaults for bid responses and received flags, plus display values from combo lookups for statuses."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the MSMH view?"
      },
      {
        "from": "gpt",
        "value": "MS Matl Vendor Pymt Header"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AP Vendor Activity By Month\n\nContext: Viewpoint Vista database, view APVA"
      },
      {
        "from": "gpt",
        "value": "SELECT bAPVA.*\nFROM dbo.bAPVA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INPG view?"
      },
      {
        "from": "gpt",
        "value": "The INPG view (Module: IN) contains: INCo, Mth, BatchId, GLCo, GLAcct, BatchSeq, ProdSeq, Loc, MatlGroup, Material, Description, Amount, ActDate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCIP view?"
      },
      {
        "from": "gpt",
        "value": "The JCIP view (Module: JC) contains: JCCo, Contract, Item, Mth, OrigContractAmt, OrigContractUnits, OrigUnitPrice, ContractAmt, ContractUnits, CurrentUnitPrice, BilledUnits, BilledAmt, ReceivedAmt, CurrentRetainAmt, BilledTax... (18 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPROKT14 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates Kentucky state income tax withholding ('PROKT' = Payroll Kentucky Tax) for a pay period. Annualizes input wages (@subjamt) by pay periods per year (@ppds) minus exemptions (@exempts * $1000), then applies progressive brackets and rates based on filing status (@status: 'M'=married, 'S'=single/'H'=head of household). Outputs withholding amount (@amt) or error message (@msg)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCProjectionCode"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCProjectionCode: JCCo (bCompany, not null); Job (bJob, not null); ProjectionCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRCanadaT4EmployeeCodes form?"
      },
      {
        "from": "gpt",
        "value": "The PRCanadaT4EmployeeCodes form includes these fields: Tax Year, Employee, T4 Code Number, Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkOrderScope with SMAgreementService in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkOrderScope with SMAgreementService, use:\n\n```sql\nFROM SMWorkOrderScope\nINNER JOIN SMAgreementService\n  ON SMWorkOrderScope.SMCo = SMAgreementService.SMCo AND SMWorkOrderScope.Agreement = SMAgreementService.Agreement AND SMWorkOrderScope.Revision = SMAgreementService.Revision AND SMWorkOrderScope.Service = SMAgreementService.Service\n```\n\nThis pattern is used in the vrvSMWorkOrder view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCJobAnalysisJob"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCJobAnalysisJob: JCCo (bCompany, nullable); Job (bJob, nullable); OrigEstHours (numeric, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPGridQueryParametersc"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPGridQueryParametersc: QueryName (varchar, not null); ParameterName (varchar, not null); DataType (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRDCT01 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRDCT01 calculates per-pay-period withholding for a payroll deduction (likely state income tax) from annualized subject wages minus personal exemption allowances (1370 per exempt). It applies progressive tax brackets based on filing status ('S' for single-like with standard thresholds, 'F' for adjusted thresholds), using tiered rates: 5% on amounts over 2000/1000, 7.5% over 10000, and 9.3% over 30000, with fixed base amounts. The procedure annualizes input by pay periods (@ppds), computes total annual withholding, divides by @ppds for the periodic @amt output, and returns an error code if @ppds is missing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQBatchLine"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQBatchLine: HQBatchLineID (bigint, not null); Co (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPOJM table?"
      },
      {
        "from": "gpt",
        "value": "The bPOJM table (Module: PO) contains: VendorGroup, Vendor, MatlGroup, Material, UM, JCCo, Job, CostOpt, UnitCost, CostECM, PriceDisc, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRDD view?"
      },
      {
        "from": "gpt",
        "value": "PR Employee Deposit Distr"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VADDSecureDetails form?"
      },
      {
        "from": "gpt",
        "value": "The VADDSecureDetails form includes these fields: Table, Description, Instance, Qualifier, In Use Flag, Status, Show if datatype is secured., Synchronized, Datatype"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGeneratePMWORemoveCompleted do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tMatthew Bradford\n> Create date: 9/23/15\n> Description:\tRemove the records from view so the summary page doesn't get too crowded\n> Modified:\tECV 10/01/21 VSTS-355707 Also remove with status 'Cancelled'\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMImportMTGet do?"
      },
      {
        "from": "gpt",
        "value": "This SP resolves an imported material code (`@importmaterial`) to a standard Vista material code and description during PM import processes. It prioritizes custom template mappings in `bPMUX` (XrefType=3), falls back to a standard template if `@override='Y'`, then queries the HQ materials master (`bHQMT`) by material group, defaulting to the trimmed import code if no match is found. Outputs include the resolved `@material`, `@mdescription`, and `@found` flag ('Y'/'N') to indicate success."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvGLFSPart2 view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from GLPI."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPRDeptVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHRPRDeptVal validates a department in the HR/Payroll context by first checking if the provided HR company (@hrco) exists in the HRCO table and deriving the associated PR company (@prco) if not specified. It then calls bspPRDeptVal to perform the actual department (@dept) validation using the PRCo. This procedure ensures valid company-department linkages in HR processes, returning an error code and output message for any validation failures.\n\nbspHRPRDeptVal validates a department code within an HR company context in Viewpoint Vista ERP's HR/Payroll modules. It checks for a valid HR company, derives the associated PR company if unspecified, and delegates department validation to bspPRDeptVal. Returns a success/error code with an output message for use in payroll or HR processes requiring department integrity.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMCOItemInitJCCIVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure initializes values for a contract item in the JCCI table during PMCO (Project Management Change Order) processing in Viewpoint ERP. It retrieves original/current contract units, amounts, unit price, and UOM from JCCI, sums billed units/amounts from JCIP and active bJBIT invoices (excluding lump sum units), and calculates additional remaining units/amounts. It is used to populate default values when adding or validating change order items, returning errors for missing/invalid inputs.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Document.vCommentType table?"
      },
      {
        "from": "gpt",
        "value": "The Document.vCommentType table (Module: Other) contains: CommentTypeId, CommentType, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBHQBatchMonthValStd do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a specified month (@mth) for Job Billing (JB) HQ Batch processing in a given company (@jbco), ensuring it falls within open periods for both Job Cost (JC) and Accounts Receivable (AR) GL subledgers. It cross-references company setups to retrieve associated GL companies, computes allowable month ranges based on last closed months and maximum open periods, checks fiscal year existence, and returns an error message (@msg) if invalid. The procedure enforces financial period controls to prevent batch processing in closed, unopened, or non-fiscal months."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bSLCT table?"
      },
      {
        "from": "gpt",
        "value": "The bSLCT table (Module: SL) contains: SLCo, SL, CompCode, Seq, VendorGroup, Vendor, Description, Verify, ExpDate, Complied, Notes, ReceiveDate, Limit, PurgeYN, UniqueAttchID... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCJobAnalysisJobRevProj view?"
      },
      {
        "from": "gpt",
        "value": "The JCJobAnalysisJobRevProj view (Module: JC) contains: JCCo, Contract, Proj-Contract"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSubcontractCOApproveSCOs do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure approves ('Y') or unapproves ('N') a specific Subcontract Change Order (SCO) in the Project Management module by updating its status, while counting processed SCOs. It performs critical pre-approval validations to prevent invalid state changes, such as checking for interfaced SL (Schedule of Values Line) items or correction-marked items. Outputs success/failure messages and the count of affected SCOs for UI or batch feedback."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMWorkOrder table?"
      },
      {
        "from": "gpt",
        "value": "The vSMWorkOrder table (Module: SM) contains: SMWorkOrderID, SMCo, WorkOrder, CustGroup, Customer, ServiceSite, Description, ServiceCenter, RequestedDate, RequestedTime, EnteredDateTime, EnteredBy, RequestedBy, ContactName, ContactPhone... (32 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PMPMReq view?"
      },
      {
        "from": "gpt",
        "value": "This view supplies complete PM personnel master records with a computed full contact name from first name, middle initial, and last name components, joined to overridden mailing address details. It enables access to standard personnel data alongside optional address overrides linked by vendor group, firm number, and contact code."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUSTPPAYG view?"
      },
      {
        "from": "gpt",
        "value": "PR STP Employee PAYG Amounts"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRAUSuperContributionHistoryVal do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspPRAUSuperContributionHistoryVal validates whether Australian superannuation contribution history already exists in PRAUContributionHistory for a specified company, group, optional employee, and payroll date range. It joins payroll tables (PRSQQ, PRPC, PRDT, PRDL, PRED, HQAUSuperSchemes) to identify active super-related detail lines (EDLType 'D'/'L', ATOCategory 'S'/'SE') with matching history entries. Returns 1 if records exist (preventing duplicates), otherwise 0, ensuring history is not reprocessed in Viewpoint payroll.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bWDQY"
      },
      {
        "from": "gpt",
        "value": "Key columns in bWDQY: QueryName (varchar, not null); Description (varchar, nullable); Title (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pDisplayControl"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pDisplayControl: PageSiteControlID (int, not null); AttachmentID (int, nullable); DisplayText (nvarchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRPC"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRPC: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in APDB"
      },
      {
        "from": "gpt",
        "value": "Key columns in APDB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRAUATOEFileGenerate form?"
      },
      {
        "from": "gpt",
        "value": "The PRAUATOEFileGenerate form includes these fields: Tax Year, Amended Report"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the INXJ view?"
      },
      {
        "from": "gpt",
        "value": "The INXJ view (Module: IN) contains: INCo, Mth, BatchId, JCCo, Job, PhaseGroup, Phase, JCCType, BatchSeq, MO, MOItem, Loc, MatlGroup, Material, Description... (21 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPRL view?"
      },
      {
        "from": "gpt",
        "value": "The RPRL view (Module: RP) contains: Location, Path, LocType, ServerName, StandardLocation"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementServiceDetail form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementServiceDetail form includes these fields: Agreement, Seq, Revision, Craft, Class, Labor Hours, Common Markup Rate, Labor Cost Estimate, Material Cost Estimate, Equipment Cost Estimate"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVPGetToolbarActionsOld do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves custom toolbar actions and their parameters for a specified record type in Viewpoint Vista ERP. It performs two SELECT queries: one joining DDCustomActions with DDCustomActionRecordTypes to fetch action details, and another joining DDCustomActionParameters with DDCustomActionRecordTypes to fetch parameters, both filtered by the input @RecordType. It supports dynamic UI toolbar population, enabling context-specific actions like buttons or menus on forms and grids.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMPFList view?"
      },
      {
        "from": "gpt",
        "value": "The PMPFList view (Module: PM) contains: PMCo, Project, Seq, VendorGroup, FirmNumber, ContactCode, Description, Notes, UniqueAttchID, PortalSiteAccess, KeyID, EmailOption, InviteTo4PRequested, FirmName, ContactName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspARBHVal_Cash do?"
      },
      {
        "from": "gpt",
        "value": "Validates an Accounts Receivable (AR) cash receipts batch (ARBH) for posting, ensuring it contains only payment transactions ('P' or 'M' types), batch status is valid, and no non-payment transactions exist. Updates HQ batch control status to \"In Process\" (1) and begins cleanup (e.g., deletes from bHQ). Returns errors via @errmsg if validations fail, preventing invalid batches from proceeding to GL posting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDUT view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vDDUT."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPPPost do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts batches of Job Cost Progress transactions (JCPP table) to committed Job Cost Detail postings (JCCD table) in the JC module. It validates the batch status, handles dynamic user-defined fields (udf/ud columns) by generating UPDATE statements to sync them between staging and posted tables, and updates the batch control record (bHQBC) to \"posting in progress.\" The process ensures progress costs (e.g., labor, materials) are finalized for job costing and GL integration on a specified date."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vDDExtractColumns"
      },
      {
        "from": "gpt",
        "value": "Key columns in vDDExtractColumns: ColumnID (int, not null); TableID (int, not null); ColumnName (nvarchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMDeliveryGroupBuild do?"
      },
      {
        "from": "gpt",
        "value": "This SP rebuilds invoice groupings and reports for a Service Management (SM) delivery group by clearing prior data, then repopulating SMDeliveryGroupInvoice with relevant SMInvoiceIDs from an invoice session based on the @Action ('PreviewInvoice' for a specific invoice, or 'DeliverInvoiced'/'PreviewAll' for all invoiced items). It supports previewing or preparing invoice deliveries, setting up SMDeliveryReport (SQL truncated), and returns error messages via @msg if prerequisites like a valid SMInvoiceID are missing. Core to grouping service invoices for batch delivery or reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJBBG table?"
      },
      {
        "from": "gpt",
        "value": "The bJBBG table (Module: JB) contains: JBCo, Contract, BillGroup, Description, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFNotifyPendingPORejected do?"
      },
      {
        "from": "gpt",
        "value": "This SP notifies the Purchase Order (PO) initiator via email when a Pending PO is rejected in the approval workflow. It retrieves the initiator's email/name, PO number, and compiles the latest rejection comments from approver history into an email body for queuing (likely to vMailQueue). It supports rejection feedback in the PO process."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectDefaultTemplates form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectDefaultTemplates form includes these fields: Project, Document Category, Document Type"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vHQDetailEMUseTransaction"
      },
      {
        "from": "gpt",
        "value": "Key columns in vHQDetailEMUseTransaction: HQDetailEMUseTransactionID (bigint, not null); Co (bCompany, not null); DetailSeq (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vIMNotifications"
      },
      {
        "from": "gpt",
        "value": "Key columns in vIMNotifications: ImportTemplate (varchar, not null); NotificationSeq (int, not null); DestinationType (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPURUpdateHeader do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates the approval status of AP (Accounts Payable) unapproved receipt/invoice review headers and lines for a specific reviewer. When `@apprvdyn='Y'`, it bulk-approves matching items by setting `ApprvdYN='Y'`, logging the approver, and clearing rejection flags; it supports rejection via `@rejected` and `@rejreason` (inferred from params and partial SQL). Filters ensure only valid, data-complete items matching job, line types, and display options are processed, with errors returned via `@errmsg`."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRequiredLaborExt"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRequiredLaborExt: SMRequiredLaborID (bigint, not null); SMCo (bCompany, not null); EntitySeq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vpspEmailTemplateNameVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates an email template name by checking its existence in the pEmailTemplate table. It returns a success code (0) if valid, or an error code (1) with a message if the name is missing or invalid. Primarily used to prevent errors in email-related processes by confirming template availability before use.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPOItemLineJCUMConvGet do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the conversion factor (@JCUMConv) between a purchase order unit of measure (@UM) and a job cost unit of measure (@JCUM) for a given material and material group. It determines if the material is an HQ type by retrieving the standard unit of measure (StdUM) from bHQMT, fetches direct conversions from StdUM to @UM via bHQMU, and for @JCUM, either sets it to 1 if identical or calls bspHQStdUMGet to compute the relative factor (@UMConv / @JCUMConv). It is used in Viewpoint Vista ERP for PO item line processing to enable accurate quantity or cost conversions between PO and job costing units, returning an error message if issues arise.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCPPPhases"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCPPPhases: Co (bCompany, not null); Month (bMonth, nullable); BatchId (bBatchID, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RPRQShared view?"
      },
      {
        "from": "gpt",
        "value": "The RPRQShared view (Module: RP) contains: ReportID, DataSetName, QueryText, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCCMContracts view?"
      },
      {
        "from": "gpt",
        "value": "The JCCMContracts view (Module: JC) contains: JCCo, Contract, Description, Department, ContractStatus, OriginalDays, CurrentDays, StartMonth, MonthClosed, ProjCloseDate, ActualCloseDate, CustGroup, Customer, PayTerms, TaxInterface... (76 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HQMC view?"
      },
      {
        "from": "gpt",
        "value": "HQ Material Category"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRPayStubNotifyList do?"
      },
      {
        "from": "gpt",
        "value": "The vspPRPayStubNotifyList stored procedure retrieves a list of employees eligible for electronic pay stub notifications for a specified company, payroll group, end date, optional pay sequence, and employee. It joins payroll square (PRSQ), employee history (PREH), and company (PRCO) tables to select employee IDs, emails, delivery methods (excluding 'N'), attachment IDs, email password options, and generated PDF passwords, filtering for non-null CMRef references. Used in Viewpoint Vista payroll processing to facilitate automated emailing of pay stubs to qualifying employees.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGetWorkOrderScopes do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves detailed scope information for a specific Work Order in Service Management (SM), including status, on-hold flags, descriptions, linked agreement/revision details, derived craft/class (from budget or task group), and a concatenated list of associated agreement services. It supports viewing comprehensive scope data tied to maintenance/service agreements. Output includes an error message via @msg if validation fails."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDFormReset do?"
      },
      {
        "from": "gpt",
        "value": "The vspDDFormReset stored procedure resets a specified form in Viewpoint Vista ERP by deleting its custom configuration records from dynamic form tables (vDDFLc, vDDFIc excluding ControlType 6/7, vDDGBc, and vDDFTc where tabs exist). It is used to clear form customizations, reverting the form to default state for redevelopment or troubleshooting. Key operations include input validation for the @form parameter, targeted DELETE statements, and output of success/error messages with return code.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMWorkOrderQuoteScopeUnapprove do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure unapproves scopes linked to a specific Work Order Quote in the Service Management (SM) module, reverting their approval status (where `UnApprove = 'Y'`). It first gathers eligible scopes into a table variable, then validates against business rules before proceeding (SQL truncated, but logic sets up for unapproval). The `@msg` output collects error reasons if unapproval is blocked."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the RFCommandUsagePerformanceCounts view?"
      },
      {
        "from": "gpt",
        "value": "The RFCommandUsagePerformanceCounts view (Module: Other) contains: PerformanceID, CommandID, CategorySeconds, CategoryCount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRRQ view?"
      },
      {
        "from": "gpt",
        "value": "The PRRQ view (Module: PR) contains: PRCo, Crew, PostDate, SheetNum, EMCo, EMGroup, Equipment, Employee, Phase1Usage, Phase1CType, Phase1Rev, Phase2Usage, Phase2CType, Phase2Rev, Phase3Usage... (36 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vHQProjectStatusCodes table?"
      },
      {
        "from": "gpt",
        "value": "The vHQProjectStatusCodes table (Module: HQ) contains: ProjectStatusCode, Description, ActiveLookup, StatusOrder, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPRCanadaT4EmployeeInitBox26 do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes employee-level data for Box 26 of Canadian T4 slips (CPP/QPP employee contributions) in Vista Payroll, focusing on Quebec (QC) province accumulations. It creates a temporary table to aggregate CPP/QPP amounts, subject limits, overlimits, program accounts, and rounding corrections per employee/province. It pulls deduction codes from PRFI and processes year-specific accumulations from PRCAEmployeeAccumsDetail via a CTE for QPP/CPP-only data."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCForecastMonth view?"
      },
      {
        "from": "gpt",
        "value": "JC Job Forecast Month"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptJCContItemCostEstiReca do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a reconciliation report for Job Cost contract items, comparing original contract amounts and change order values against their corresponding cost estimates (from job headers and detail lines). It aggregates revenues (Original Contract, Change Orders, Current Contract) and costs (Original Estimate, Change Orders Cost) at the contract item level, calculating profit margins to highlight variances. The report supports per-item profitability analysis across main contracts (JCCI) and change orders (JCOI), linked to job/phase structures."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCCostProjectionResDet view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vJCCostProjectionResDet."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PRDT with PREC in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PRDT with PREC, use:\n\n```sql\nFROM PRDT\nINNER JOIN PREC\n  ON PRDT.PRCo = PREC.PRCo AND PRDT.EDLCode = PREC.EarnCode\n```\n\nThis pattern is used in the vrvPRPayStubByEmployee view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PMSC with dbo].[PMSubmittal in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PMSC with dbo].[PMSubmittal, use:\n\n```sql\nFROM PMSC\nINNER JOIN dbo].[PMSubmittal\n  ON PMSC.Status = dbo].[PMSubmittal.Status\n```\n\nThis pattern is used in the vrvPMSubmittalBallInCourt view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bHQNT table?"
      },
      {
        "from": "gpt",
        "value": "The bHQNT table (Module: HQ) contains: StdNote, Description, CreatedBy, CreationDate, Notes, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMTransmittalHistory form?"
      },
      {
        "from": "gpt",
        "value": "The PMTransmittalHistory form includes these fields: Seq, Document Category, Action Date and Time, Field Type, Field Name, Old Value, New Value, User Name, Action, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSQLReservedWords table?"
      },
      {
        "from": "gpt",
        "value": "The vSQLReservedWords table (Module: Other) contains: ReservedWord, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRAUSTP2AmtLump view?"
      },
      {
        "from": "gpt",
        "value": "PR STP Employee Amounts Lump Sum"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPPBatchDelete do?"
      },
      {
        "from": "gpt",
        "value": "The bspJCPPBatchDelete stored procedure removes a specific batch of Job Cost Posting (JCPP) data for a given company, month, and batch ID from the Viewpoint Vista ERP system. It performs DELETE operations on bJCPP, bJCPPPhases, and bJCPPCostTypes tables matching the input criteria, then updates the Status to 6 in bHQBC to reflect the deletion. This is used to safely eliminate erroneous or unwanted batch postings while maintaining data integrity.\n\nThe bspJCPPBatchDelete stored procedure removes a specific Job Cost Payment Processing (JCPP) batch by deleting records from bJCPP, bJCPPPhases, and bJCPPCostTypes tables, filtered by company, month, and batch ID. It also updates the batch status to 6 in the bHQBC table, marking it as deleted or cancelled. This is used in Viewpoint Vista ERP to clean up unposted or erroneous batches before final processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in pTables.pPortalControlLayout"
      },
      {
        "from": "gpt",
        "value": "Key columns in pTables.pPortalControlLayout: PortalControlID (int, not null); TopLeftTableID (int, nullable); TopCenterTableID (int, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the EMMeterReadings form?"
      },
      {
        "from": "gpt",
        "value": "The EMMeterReadings form includes these fields: BatchMonth, Batch ID, BatchSeq, Batch TransType, EMTrans, Meter Reading Date, Equipment, HourMeter Date Last Read, Last Hour Reading, Calc Last Hour Reading"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMDocEmail"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMDocEmail: AttachmentID (int, not null); From (varchar, nullable); To (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspSLClosedMonthVal do?"
      },
      {
        "from": "gpt",
        "value": "bspSLClosedMonthVal validates if a specified month is closed for a given Sales Ledger (SL) company by cross-referencing the associated General Ledger (GL) company via the AP company record. It retrieves the GL company code from bAPCO, fetches the last submitted closed month (LastMthSubClsd) from bGLCO, and checks if the input month exceeds it. Used in Viewpoint Vista ERP to enforce financial period closure before SL processes, returning error code 1 with a message if invalid (e.g., missing company or unclosed month), or 0 if valid.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMDM"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMDM: EMCo (bCompany, not null); Department (bDept, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PCProjectTypes view?"
      },
      {
        "from": "gpt",
        "value": "The PCProjectTypes view (Module: PC) contains: VendorGroup, Vendor, ProjectTypeCode, WorkPrevious, WorkNext, NoPriorWork, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJCNetCashFlow view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJCNetCashFlow view (Module: JC) contains: JCCo, Contract, Mth, PreviousMth, ReceivedAmt, ReceivedAmtToDate, ActualCost, ActualCostToDate, UnPaidToDate, UnpaidPrevious, PaidToDate, NetCashFlowToDate, NetCashIsNegative, NetCashIsPositive, UnpaidMonthDelta... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the JCJobAnalysisPhaseUM view?"
      },
      {
        "from": "gpt",
        "value": "The JCJobAnalysisPhaseUM view (Module: JC) contains: JCCo, Job, PhaseGroup, Phase, UM, PhaseUnitFlag"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: SMGeneratePMWOSummary\n\nContext: Viewpoint Vista database, view SMGeneratePMWOSummary"
      },
      {
        "from": "gpt",
        "value": "SELECT *\nFROM vSMGeneratePMWOSummary;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMDocumentMapping view?"
      },
      {
        "from": "gpt",
        "value": "The PMDocumentMapping view (Module: PM) contains: Form, View, DocumentCategory, DocumentTypeColumn, FirmOrVendorColumn, ContactColumn, DescriptionColumn, OurFirmColumn, OurFirmContactColumn, KeyID, ChildView, ChildViewJoin"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in VPLog.vVAVPUserRenameLog"
      },
      {
        "from": "gpt",
        "value": "Key columns in VPLog.vVAVPUserRenameLog: LogID (int, not null); LogMessage (varchar, nullable); IsError (bit, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vfrl_attr_category"
      },
      {
        "from": "gpt",
        "value": "Key columns in vfrl_attr_category: entity_num (int, not null); attr_type (tinyint, not null); cat_num (tinyint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This batch report view provides payroll attachment details linked to job cost code transactions for employees, including company, cost transaction, liability type, payroll group, period end date, and \n\nContext: Viewpoint Vista database, view brvPRAttachments"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    JCCD.PRCo,\n    JCCD.JCCo,\n    JCCD.CostTrans,\n    JCCD.LiabilityType,\n    PRTH.PRGroup,\n    PRTH.PREndDate,\n    Date= (CASE WHEN PRCO.JCIPostingDate = 'N' THEN JCCD.ActualDate ELSE PRTH.PostDate END ),\n    JCCD.Employee,\n    PRTH.UniqueAttchID\nFROM dbo.JCCD\nLEFT JOIN dbo.PRTH ON PRTH.PRCo=JCCD.PRCo AND PRTH.Employee=JCCD.Employee\nINNER JOIN PRCO ON PRTH.PRCo=PRCO.PRCo\nWHERE PRTH.UniqueAttchID IS NOT NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPMCommitmentCompliance"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPMCommitmentCompliance: Co (bCompany, not null); DocType (varchar, not null); DocID (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMTechnicianUnavailableTime form?"
      },
      {
        "from": "gpt",
        "value": "The SMTechnicianUnavailableTime form includes these fields: Technician, Seq, Description, Details, Start Date, Start Time, End Date, Duration, All Day, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Lists distinct purchase orders marked as in use by specific batches where the batch status is pending or processing (5 or 6). Identifies POs locked during batch operations to prevent concurrent proces\n\nContext: Viewpoint Vista database, view brvPOHDInUse"
      },
      {
        "from": "gpt",
        "value": "SELECT DISTINCT\n    POHD.POCo,\n    POHD.PO,\n    POHD.InUseMth,\n    POHD.InUseBatchId,\n    TableName='POHD',\n    BatchStatus=isnull(HQBC.Status,9)\nFROM POHD WITH(nolock)\nLEFT JOIN HQBC WITH(nolock) ON HQBC.Co=POHD.POCo AND HQBC.Mth=POHD.InUseMth AND HQBC.BatchId=POHD.InUseBatchId\nWHERE (POHD.InUseMth IS NOT NULL OR POHD.InUseMth IS NOT NULL)\n    AND POHD.InUseBatchId IS NOT NULL AND isnull(HQBC.Status,9) IN (5,6);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the AuditColumns view?"
      },
      {
        "from": "gpt",
        "value": "The AuditColumns view (Module: Other) contains: KeyID, AuditTablesID, ColumnName, ColumnDesc, IsKey, IsInsertAudit, IsUpdateAudit, IsDeleteAudit, IsUD, IsCo, IsGroup, ConvertStyle, ConvertLength"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspSICCode do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in MSPC"
      },
      {
        "from": "gpt",
        "value": "Key columns in MSPC: MSCo (bCompany, not null); PayCode (bPayCode, not null); Description (bDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viFact_HRTraining"
      },
      {
        "from": "gpt",
        "value": "Key columns in viFact_HRTraining: HRCoID (bigint, not null); HRRefID (bigint, not null); PRCoID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPRefUniqueALL do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the uniqueness of an Accounts Payable (AP) reference (e.g., invoice number) within a company, vendor, month, and batch context, respecting company-wide (APRefUnq) or vendor-specific (APRefUnqOvr) rules (levels 1-4). It checks for duplicates in AP headers (bAPHB), considering case sensitivity, check revisions, and source (e.g., 'AP Entry'), while handling master/sub-vendor relationships. If a duplicate exists, it sets an error message in @msg and returns a non-zero @rcode."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bAPLB"
      },
      {
        "from": "gpt",
        "value": "Key columns in bAPLB: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the APTHMoveBatchLookup view?"
      },
      {
        "from": "gpt",
        "value": "Provides lookup details on Accounts Payable transaction headers within batches, including vendor information, current usage status across companies, workflow assignment, and summarized transaction line counts with payment indicators to support batch relocation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the HQGP form?"
      },
      {
        "from": "gpt",
        "value": "The HQGP form includes these fields: Grp, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVARSUpdateSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This SP updates security permissions for VARS (Vista Accounts Receivable module reports/forms) by parsing bit-packed XML permissions data into components like company (Co), report ID, access level, security group, and VPUserName. It validates inputs (e.g., valid companies accessible by the caller, proper user/group distinctions) before applying updates to the vRPRS view. It generates result messages for each row indicating success or validation errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMBidtekDefaultsSMRequiredMaterial do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves and applies Bidtek-specific default values for required materials in Service Management (SM) during data imports. It validates the import setup in the IMTD (Import Template Defaults) table for Bidtek configurations and prepares overwrite flags for fields like materials, quantities, costs, taxes, and notes on SM required material lines. The procedure supports populating SM work orders, agreements, or quotes with standardized material data from Bidtek estimates."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMPOVal do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspPMPOVal checks if a purchase order (PO) already exists in the POHD table for a specified company and PO number. It is used to prevent duplicate POs from being added through different processes in the procurement system. If a duplicate is found, it outputs an error message and returns a non-zero code; otherwise, it returns 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRNYT10 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure computes New York State (NY) income tax withholding for payroll based on a subject pay amount, pay periods per year, filing status ('S' for Single, 'M' for Married), and exemptions. It annualizes the wage, subtracts exemptions ($1000 each) and standard deductions ($6975 Single/$7475 Married), then applies progressive tax brackets with fixed additions and marginal rates (e.g., 4% up to $8000, escalating to 20.67%+ over $500k). The output `@amt` is the calculated withholding tax; `@msg` reports errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vPRArrears table?"
      },
      {
        "from": "gpt",
        "value": "The vPRArrears table (Module: PR) contains: PRCo, Employee, DLCode, Seq, Date, ArrearsAmt, PaybackAmt, PRGroup, PREndDate, PaySeq, EDLType, PurgeYN, Memo, KeyID, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMVendorRange form?"
      },
      {
        "from": "gpt",
        "value": "The PMVendorRange form includes these fields: AP Company, Vendor Group, Beginning Vendor, Ending Vendor, Firm Type"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMScopePriority"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMScopePriority: SMScopePriorityID (int, not null); PriorityName (varchar, not null); Description (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMGetAssignmmentForTrip do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tAaron Lang\n> Create date: 11/10/16\n> Description:\tReturn assignment number to set when createing a trip\n> Modified:\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates job costing data from JCCP, summing actual costs, original estimated costs, current estimated costs, and projected costs by company and job. It enables direct comparison of realiz\n\nContext: Viewpoint Vista database, view JCCPReport"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    JCCo,\n    Job,\n    sum(ActualCost) AS [Actual Cost],\n    sum(OrigEstCost) AS [Original Est Cost],\n    sum(CurrEstCost) AS [Current Est Cost],\n    sum(ProjCost) AS [Projected Cost]\nFROM JCCP\nGROUP BY JCCo, Job;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the MSInvAdd form?"
      },
      {
        "from": "gpt",
        "value": "The MSInvAdd form includes these fields: BatchMth, BatchId, ARCo, Customer Group, Select by Location Group, Location Group, Select by Location, Location, Select by Customer, Customer"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRPRCraftClassVal do?"
      },
      {
        "from": "gpt",
        "value": "bspHRPRCraftClassVal validates a craft and class combination for a given HR company by checking if the HRCo exists, deriving the associated PRCo if not provided, and ensuring PRCo is valid. It then calls bspPRCraftClassVal to perform the core craft/class validation at the PR company level, outputting an error message and return code on failure. This procedure supports HR/PR data integrity by enforcing valid craft-class pairings prior to payroll or HR record processing.\n\nbspHRPRCraftClassVal validates craft and class codes within a specified HR company context in Viewpoint's HR/payroll system. It verifies the HR company exists, derives the PR company if omitted, and delegates core validation to bspPRCraftClassVal. Primarily used to enforce valid craft-class combinations for payroll-related HR operations, returning a status code and error message if issues arise.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bSLXA table?"
      },
      {
        "from": "gpt",
        "value": "The bSLXA table (Module: SL) contains: SLCo, Mth, BatchId, BatchSeq, JCCo, Job, PhaseGroup, Phase, JCCType, SLItem, SL, VendorGroup, Vendor, Description, ActDate... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMAgreementBudget form?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementBudget form includes these fields: Agreement, Agreement Type, Revision, Call Type, Cost Type Category, Budget Amount, Service Budget, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the JCPDTotals view?"
      },
      {
        "from": "gpt",
        "value": "This view aggregates cumulative actual equipment hours and costs from job cost detail transactions up to each period month, for equipment-assigned records in job cost period details. It sums ActualHours and ActualCost only when equipment master company and ID are specified, zeroing otherwise. Results are grouped by company, period month, batch details, and equipment keys matching on job, phase group, phase, and cost type."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bEMUD table?"
      },
      {
        "from": "gpt",
        "value": "The bEMUD table (Module: EM) contains: EMCo, Sequence, RulesTable, EMGroup, MoreThanHrs, LessThanHrs, RevCode, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMDL"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMDL: EMCo (bCompany, not null); Department (bDept, not null); LiabType (bLiabilityType, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMDocTrackSLHD form?"
      },
      {
        "from": "gpt",
        "value": "The PMDocTrackSLHD form includes these fields: SL Company, SL, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMDD"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMDD: PMCo (bCompany, not null); Project (bJob, not null); LogDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRCAEmployeeT4SlipItems view?"
      },
      {
        "from": "gpt",
        "value": "PR Canadian Employee T4 Box Items"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRAUEmployerMiscItems"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRAUEmployerMiscItems: KeyID (bigint, not null); PRCo (bCompany, not null); TaxYear (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMSubcontractCO view?"
      },
      {
        "from": "gpt",
        "value": "The PMSubcontractCO view (Module: PM) contains: PMCo, Project, SubCO, Description, Date, Status, Reference, SLCo, SL, Details, ReadyForAcctg, ApprovedBy, Notes, UniqueAttchID, KeyID... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join PCPotentialProjectCertificate with SLIT in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join PCPotentialProjectCertificate with SLIT, use:\n\n```sql\nFROM PCPotentialProjectCertificate\nINNER JOIN SLIT\n  ON PCPotentialProjectCertificate.JCCo = SLIT.JCCo AND PCPotentialProjectCertificate.VendorGroup = SLIT.VendorGroup\n```\n\nThis pattern is used in the vrvPCSWMBESubcontracts view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vUtilities.vPTTableInformation table?"
      },
      {
        "from": "gpt",
        "value": "The vUtilities.vPTTableInformation table (Module: Other) contains: TableName, SchemaName, PrimaryIndex, CountOfRows, IndexesOnTable, Reads, Updates, TotalPages, UsedPages, DataPages, TotalSpaceMB, UsedSpaceMB, DataSpaceMB, CurrentDateTime, CurrentMonth"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCJPProjMinPct"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCJPProjMinPct: JCCo (bCompany, not null); Job (bJob, not null); Phase (bPhase, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the pTables.pReportSecurityCustom table?"
      },
      {
        "from": "gpt",
        "value": "The pTables.pReportSecurityCustom table (Module: RP) contains: ReportID, RoleID, Access"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRMOT09 do?"
      },
      {
        "from": "gpt",
        "value": "This SP calculates Michigan Occupational Tax (MOT) withholding for payroll, annualizing a subject wage amount (@subjamt * pay periods/year), applying status-based deductions/allowances (@status: S=Single, M=Married, B=??, H=Head of Household), capping adjusted federal withholding, and computing tax (@amt OUTPUT) via a 1.5% bracketed rate on remaining taxable income (up to ~$9K in $1K brackets). It outputs an error message (@msg) if inputs are invalid."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMRepairTypeVal do?"
      },
      {
        "from": "gpt",
        "value": "vspEMRepairTypeVal validates a repair type for a specified EM group by checking existence in the bEMRX table. It outputs the matching description with return code 0 if valid, or an error message (e.g., missing parameters or not on file) with return code 1 otherwise. Used in Viewpoint Vista's equipment management to enforce data integrity before repair-related transactions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkCompletedLabor"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkCompletedLabor: SMWorkCompletedID (bigint, not null); IsSession (bit, not null); CostQuantity (bHrs, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in ARBA"
      },
      {
        "from": "gpt",
        "value": "Key columns in ARBA: Co (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the PRTD view?"
      },
      {
        "from": "gpt",
        "value": "PR Template Dedns/Liabs"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_MBT14 do?"
      },
      {
        "from": "gpt",
        "value": "bspPR_CA_MBT14 calculates the per-pay-period tax liability (output as @calcamt) for Canadian (likely Quebec) provincial income tax based on annual income (@A) and deductions. It selects a tiered tax rate (10.8%, 12.75%, or 17.4%) and personal exemption (KP) from income brackets, computes gross tax (T4) by subtracting credits for TCP (@TCP), CPP/EI (@PP/@EI capped), and input (@K3P), then deducts a capital stock credit (LCP up to 1800) to get net tax (T2), and divides by pay periods (@ppds). Used in Viewpoint Vista payroll to determine periodic withholdings or installments, with validation and error messaging.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HQ Escalation Index\n\nContext: Viewpoint Vista database, view HQPO"
      },
      {
        "from": "gpt",
        "value": "SELECT bHQPO.*\nFROM dbo.bHQPO;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the Batch.vDocumentV6TableRow table?"
      },
      {
        "from": "gpt",
        "value": "The Batch.vDocumentV6TableRow table (Module: Other) contains: DocumentV6TableRowId, DocumentId, TableName, TableKeyId, CreatedByUser, DBCreatedDate, UpdatedByUser, DBUpdatedDate, Version"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMACOSItemsDetail form?"
      },
      {
        "from": "gpt",
        "value": "The PMACOSItemsDetail form includes these fields: Default Phase Description, Default Bill Flag, Default Item Unit Flag, Default Phase Unit Flag, Default Active Flag, PhaseGroup, Phase, Description, CostType, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the POBatchProcess form?"
      },
      {
        "from": "gpt",
        "value": "The POBatchProcess form includes these fields: Month, Batch ID, Created By, Created, Source, Status, List, JC Dist, IN Dist, EM Dist"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRSX"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRSX: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspIMGetAutoImportQueue do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspIMGetAutoImportQueue retrieves all records from the IMAutoImportQueue table in Viewpoint Vista's Information Management module. It is used to fetch the complete queue of pending or processed auto-import tasks, enabling monitoring, reporting, or processing of import jobs. The sole key operation is a simple SELECT * query to return all data without filters or modifications.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for Common Mistakes to Avoid?"
      },
      {
        "from": "gpt",
        "value": "| Mistake | Correct |\n|---------|---------|\n| `dbo.APTH` | `APTH` |\n| `bAPTH` (in SELECT) | `APTH` |\n| `FROM APTH` | `FROM APTH WITH (NOLOCK)` |\n| `APTH.APCo = APTH.APCo` | Actual join to another table |\n| Recreating logic from scratch | Check for existing vrv*/brv* views first |"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployeeETPAmounts"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployeeETPAmounts: PRCo (bCompany, not null); TaxYear (char, not null); Employee (bEmployee, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Projection Dtl Transaction\n\nContext: Viewpoint Vista database, view JCPR"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCPR.*\nFROM dbo.bJCPR;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are the Viewpoint Vista conventions for # Phase C: Join Validation?"
      },
      {
        "from": "gpt",
        "value": "- [ ] All join columns match primary keys\n- [ ] Join types correct (INNER vs LEFT)\n- [ ] No orphan/cartesian joins"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides payroll details for crew employees assigned to other jobs, including names, earn codes with descriptions, phase quantities from register details, and phase labels from crew sheet headers.\n\nContext: Viewpoint Vista database, view vrvPRCrewOtherJob"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    PRRO.Employee,\n    PREHName.Suffix,\n    PREHName.LastName,\n    PREHName.FirstName,\n    PREHName.MidName,\n    PRRO.Class,\n    PRRO.EarnCode,\n    PREC.Description,\n    PRRO.Phase1Value,\n    PRRO.Phase2Value,\n    PRRO.Phase3Value,\n    PRRO.Phase4Value,\n    PRRO.Phase5Value,\n    PRRO.Phase6Value,\n    PRRO.Phase7Value,\n    PRRO.Phase8Value,\n    PRRO.PRCo,\n    PRRO.Crew,\n    PRRO.PostDate,\n    PRRO.SheetNum,\n    PRRH.Phase1,\n    PRRH.Phase2,\n    PRRH.Phase3,\n    PRRH.Phase4,\n    PRRH.Phase5,\n    PRRH.Phase6,\n    PRRH.Phase7,\n    PRRH.Phase8\nFROM ((PRRO PRRO (Nolock)\nINNER JOIN dbo.PRRH (Nolock)\n    ON (((PRRO.PRCo=PRRH.PRCo) AND (PRRO.Crew=PRRH.Crew))\n    AND (PRRO.PostDate=PRRH.PostDate)) AND (PRRO.SheetNum=PRRH.SheetNum))\nINNER JOIN dbo.PREHName (Nolock)\n    ON (PRRO.PRCo=PREHName.PRCo) AND (PRRO.Employee=PREHName.Employee))\nINNER JOIN dbo.PREC (Nolock)\n    ON (PRRO.PRCo=PREC.PRCo) AND (PRRO.EarnCode=PREC.EarnCode);"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPREmplVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates an employee identifier (numeric ID up to 6 digits or partial/exact SortName) within a specific payroll company (PRCo), retrieving key details like name, department, craft, class, job assignment, and active status from the PREH table. It enforces active/inactive checks based on @activeopt ('Y' for active only, 'N' for inactive only, 'X' to bypass) and outputs validated data or an error message via @msg. Partial name matching (LIKE @empl + '%') provides fuzzy lookup with TOP(1) result."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides unposted Service Management work completed transactions linked to Payroll ledger update distributions, capturing actual labor wages from completions with payroll sequences, employee details, \n\nContext: Viewpoint Vista database, view PRSM"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    vSMDetailTransaction.SMWorkCompletedID,\n    vPRLedgerUpdateDistribution.PRCo,\n    vPRLedgerUpdateDistribution.PRGroup,\n    CAST(vPRLedgerUpdateDistribution.PREndDate AS DATETIME) PREndDate,\n    vSMDetailTransaction.Mth,\n    SMWorkCompleted.PRPaySeq PaySeq,\n    SMWorkCompleted.PRPostSeq PostSeq,\n    SMWorkCompleted.PRPostDate,\n    SMWorkCompleted.PREmployee Employee,\n    vSMDetailTransaction.Amount ActualLaborWages,\n    CAST(0 AS NUMERIC(12, 2)) ActualLaborBurden,\n    CAST(0 AS NUMERIC(12, 2)) OldActualLaborWages,\n    CAST(0 AS NUMERIC(12, 2)) OldActualLaborBurden,\n    SMWorkCompleted.SMCo,\n    SMWorkCompleted.[Date] AS WorkCompleted_Date,\n    SMWorkCompleted.SMCostType,\n    SMWorkCompleted.CostQuantity,\n    SMWorkCompleted.PayType,\n    SMWorkCompleted.WorkOrder,\n    SMWorkCompleted.Scope,\n    SMWorkCompleted.WorkCompleted\nFROM dbo.vPRLedgerUpdateDistribution\nINNER JOIN dbo.vSMDetailTransaction\n    ON vPRLedgerUpdateDistribution.PRLedgerUpdateDistributionID = vSMDetailTransaction.PRLedgerUpdateDistributionID\nINNER JOIN dbo.SMWorkCompleted\n    ON vSMDetailTransaction.SMWorkCompletedID = SMWorkCompleted.SMWorkCompletedID\nWHERE vSMDetailTransaction.IsReversing = 0\n    AND vSMDetailTransaction.Posted = 0\n    AND vSMDetailTransaction.TransactionType = 'C';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMFlatPriceRevenueSplit view?"
      },
      {
        "from": "gpt",
        "value": "The SMFlatPriceRevenueSplit view (Module: SM) contains: SMFlatPriceRevenueSplitID, SMCo, EntitySeq, Seq, CostTypeCategory, CostType, Amount, PricePercent, Taxable, GLCo, RevenueAccount, RevenueWIPAccount, Notes, UniqueAttchID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the APHoldRel form?"
      },
      {
        "from": "gpt",
        "value": "The APHoldRel form includes these fields: Assign or release holdcode, Hold Code to assign or release, Restrict by Job?, Job Company, Job, Restrict by Vendor, virtual vendorgroup, Vendor/Sortname to restrict by, restrict by Payable type, Release amount or percentage?"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the ptvJobData view?"
      },
      {
        "from": "gpt",
        "value": "The ptvJobData view (Module: Other) contains: JCCo, Job, JDesc, Phase, Description1, SumOfActualHours, SumOfCurrEstHours, SumOfActualUnits, SumOfCurrEstUnits, SumOfActualCost, SumOfCurrEstCost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPShared_SMInvoiceTotals view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates totals for service management invoices from non-no-charge, non-removed lines including billed amount, tax, tax basis, and discounts, with total amount as billed plus tax. Determines invoice status as Voided, Invoiced, Prebilling (via linked sessions), or Pending Invoice. Provides per-invoice summary for billing oversight."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRBCDelVal do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates whether a specific Benefit Code can be safely deleted for a given HR Company by checking for usage across related HR tables (bHRBI, bHREB, bHRGI, bHRBB). If the code is referenced in benefit items, employee benefits, benefit groups, or payroll update batches, it returns an error code (1) with a descriptive message via @errmsg, preventing deletion. Otherwise, it returns success (0), enforcing referential integrity in HR benefits setup."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the IDSRV.ApiClaims table?"
      },
      {
        "from": "gpt",
        "value": "The IDSRV.ApiClaims table (Module: Other) contains: Id, Type, ApiResourceId"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvAROpenTrans view?"
      },
      {
        "from": "gpt",
        "value": "Aggregates Accounts Receivable transaction lines by company, apply month, and apply transaction to compute total amounts, total retainage, maximum transaction month, and a flag for entries with both non-zero amount and retainage sums. Identifies AR transactions with outstanding balances and retainage for batch reporting."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRDH table?"
      },
      {
        "from": "gpt",
        "value": "The bPRDH table (Module: PR) contains: PRCo, CMCo, CMAcct, PayMethod, CMRef, CMRefSeq, EFTSeq, DistSeq, RoutingId, BankAcct, Type, Amt"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspVADDDSList do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a dynamic list of data instances (e.g., companies from bHQCO) for a specified datatype, showing qualifiers, descriptions, associated security groups, and access status (Y/N) via the Viewpoint Data Dictionary Security (vDDDS) tables. It supports company-specific security by joining master data tables defined in vDDDT, filtering by optional security group or company, and including orphaned vDDDS entries not present in the master table. Output is used to populate grids in security maintenance screens for auditing or assigning data access."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRBMT18 do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure calculates the per-pay-period withholding amount for a Brazilian municipal tax (likely ISS or similar, based on \"BMT18\" naming) using progressive tax brackets on annualized income derived from a base subject amount (@subjamt) and pay periods per year (@ppds). It caps taxable income at 900,000, applies tiered rates (4%-8.75%) with base taxes, and outputs the periodic tax (@amt) while ensuring non-negative results. Unused parameters (@status, @regexempts) suggest potential for exemptions or status checks in extended logic."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMWorkCompletedAllCurrent"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMWorkCompletedAllCurrent: KeyID (bigint, not null); Type (tinyint, not null); IsDeleted (bit, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptCMCashFlowDrillDown do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a daily cash flow drill-down report for the Cash Management (CM) module, calculating outstanding \"float\" (uncleared AP checks/deposits, CMTransType 1 or 4) across a date range for a specific CM company. It populates a temp table with per-day aggregates like FloatAccount (cumulative outstanding), cleared amounts, and new issuances, enabling detailed visibility into daily cash position impacts from uncleared transactions. The result supports reconciliation and forecasting by tracking how float evolves day-over-day (prior balance + new - cleared)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query for Viewpoint Vista: Consolidates WF Notifier query definitions with parameters\n\nModule: Unknown"
      },
      {
        "from": "gpt",
        "value": "-- Purpose: Consolidates WF Notifier query definitions with parameters \n\nCREATE VIEW dbo.vWFNotifierQueryComplete AS\nWITH QueryParameters AS (\n    -- Aggregate parameters for each query into a single column\n    SELECT \n        QueryName,\n        '' -- STRING_AGG removed, not supported), \n            CHAR(13) + CHAR(10)\n        ) WITHIN GROUP (ORDER BY Param) AS Parameters\n    FROM dbo.WDQP\n    GROUP BY QueryName\n),\nEmailFields AS (\n    SELECT \n        QueryName,\n        '' -- STRING_AGG removed, not supported), \n                ' | Table Column: ', TableColumn, \n                ' | Email Field: ', EMailField,\n                CASE WHEN IsKeyField = 'Y' THEN ' (KEY FIELD)' ELSE '' END\n            ), \n            CHAR(13) + CHAR(10)\n        ) WITHIN GROUP (ORDER BY Seq) AS EmailFieldMappings\n    FROM dbo.WDQF\n    GROUP BY QueryName\n)\nSELECT \n    q.QueryName,\n    q.Description AS QueryDescription,\n    q.Title AS QueryTitle,\n    q.Standard,\n    q.IsEventQuery,\n    q.Notes,\n    \n    q.SelectClause,\n    q.FromWhereClause,\n    \n    CONCAT(q.SelectClause, ' ', q.FromWhereClause) AS FullQuery,\n    \n    -- Parameters\n    ISNULL(p.Parameters, 'No parameters defined') AS QueryParameters,\n    \n    ISNULL(e.EmailFieldMappings, 'No email fields defined') AS EmailFieldMappings,\n    \n    q.KeyID,\n    q.UniqueAttchID\n    \nFROM dbo.WDQY q\nLEFT JOIN QueryParameters p ON q.QueryName = p.QueryName\nLEFT JOIN EmailFields e ON q.QueryName = e.QueryName;\n\nGO\n\n-- Helper View: Query Parameter Details\nCREATE VIEW dbo.vWFNotifierQueryParameters AS\nSELECT \n    qy.QueryName,\n    qy.Description AS QueryDescription,\n    qp.Param AS ParameterName,\n    qp.Description AS ParameterDescription,\n    qp.KeyID AS ParamKeyID\nFROM dbo.WDQY qy\nINNER JOIN dbo.WDQP qp ON qy.QueryName = qp.QueryName;\n\nGO\n\nCREATE VIEW dbo.vWFNotifierQueryEmailFields AS\nSELECT \n    qy.QueryName,\n    qy.Description AS QueryDescription,\n    qf.Seq AS FieldSequence,\n    qf.TableColumn,\n    qf.EMailField,\n    qf.IsKeyField\nFROM dbo.WDQY qy\nINNER JOIN dbo.WDQF qf ON qy.QueryName = qf.QueryName;\n\nGO\n\n/*\nSELECT \n    QueryName,\n    QueryDescription,\n    QueryTitle,\n    Standard,\n    IsEventQuery,\n    FullQuery,\n    QueryParameters,\n    EmailFieldMappings,\n    Notes\nFROM dbo.vWFNotifierQueryComplete\nORDER BY QueryName;\n*/"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsJCCB do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates the import setup for Bidtek (construction estimating software) data into Viewpoint Vista's Job Cost (JC) Cost Budget (JCCB) records, confirming Bidtek defaults exist in the import template. It then retrieves overwrite flags for key JC fields (e.g., TransType, JCTransType, PhaseGroup, GLCo, UM) using template functions, enabling standardized defaulting during import. The output message flags errors like missing parameters or unconfigured defaults."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMPunchListCopy form?"
      },
      {
        "from": "gpt",
        "value": "The PMPunchListCopy form includes these fields: Destination Project, From Punch List, To Punch List, Copy Only Unfinished Items, Renumber Items, Number for first item, Increment By number, Item, Description"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPCanvasGridColumnsTemplate view?"
      },
      {
        "from": "gpt",
        "value": "The VPCanvasGridColumnsTemplate view (Module: VP) contains: ColumnId, GridConfigurationId, Name, IsVisible, Position"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in api.UserDefinedFormItem"
      },
      {
        "from": "gpt",
        "value": "Key columns in api.UserDefinedFormItem: Id (bigint, nullable); Label (varchar, nullable); InputType (tinyint, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMRequiredMisc form?"
      },
      {
        "from": "gpt",
        "value": "The SMRequiredMisc form includes these fields: Entity Seq, Seq, Task, Standard Item, Description, Cost Type, Quantity, Cost Rate, Cost Total, Pretax Cost"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspCMClearTotals do?"
      },
      {
        "from": "gpt",
        "value": "bspCMClearTotals computes summary totals and counts for non-void adjustments, checks, deposits, and transfers from the bCMDT table for a specified company, cash management account, and statement date. It retrieves working and statement balances from CMST, calculates the variance between them, and outputs negated check totals, positive deposit/adjustment/transfer totals, overall transaction count, balances, and variance via SELECT. Used in Viewpoint Vista's Cash Management module to validate reconciliation data prior to clearing statement totals.\n\nbspCMClearTotals computes aggregate sums and counts of non-void transactions (adjustments, checks, deposits, transfers) from the bCMDT table for a specified company, cash management account, and statement date. It retrieves working and statement balances from CMST, calculates the variance between them, and returns these totals (with checks negated), overall transaction count, balances, and variance via a SELECT statement. Used in cash management reconciliation to summarize and verify statement totals before clearing or processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PCBidCommunication form?"
      },
      {
        "from": "gpt",
        "value": "The PCBidCommunication form includes these fields: Vendor Group, Potential Project, Potential Project Description, Is Bid Package, Bid Package, Bid Package Unique Attach ID, Vendor Filter, Contact Filter, Scope Filter, Message Status Filter"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the HRBL view?"
      },
      {
        "from": "gpt",
        "value": "HR Resource Benefit Dedn/Liab"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: EM Equip Rev Templ Breakdown\n\nContext: Viewpoint Vista database, view EMTF"
      },
      {
        "from": "gpt",
        "value": "SELECT bEMTF.*\nFROM dbo.bEMTF;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCCostTypeValForJCCT do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure validates a cost type for a specific phase group in the Job Cost (JC) module, retrieving the full cost type, abbreviation, and description from the JCCT table if an exact numeric match exists. If no exact match, it attempts a fuzzy match by finding the minimum cost type whose abbreviation starts with the input cost type prefix from the bJCCT view. It returns validation results via output parameters and a return code, enforcing standardized cost categorization for job costing entries."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCUOSave do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure saves user-specific preferences and display options for Job Cost (JC) forms into the bJCUO table, including filters for units/hours/costs, phase ranges, column visibility/order, cost types, and job settings like production mode or inactive phases. It validates the JC company (via bJCCO) and form (via DDFI) before updating, ensuring only existing configurations are modified. On success, it persists these \"user options\" for reuse; failures return error messages via @msg OUTPUT."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the MSMA view?"
      },
      {
        "from": "gpt",
        "value": "The MSMA view (Module: MS) contains: MSCo, Mth, BatchId, BatchSeq, MatlGroup, Material, UM, UnitCost, ECM, GLCo, GLAcct, TaxGroup, TaxCode, TransMth, MSTrans... (22 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates projected units, actual units, and projected hours from the EVJobAnalysisQuery, grouped by company, job, phase group, phase, cost type, unit of measure, and actual date. It delive\n\nContext: Viewpoint Vista database, view EVEarnedProjAndActualUnits"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    [JCCo],\n    [Job],\n    [PhaseGroup],\n    [Phase],\n    [CostType],\n    [UM],\n    [ActualDate],\n    sum([ProjUnits]) AS [ProjUnits],\n    sum([ActualUnits]) AS [ActualUnits],\n    sum([ProjHours]) AS [ProjHours]\nFROM[EVJobAnalysisQuery]\nGROUP BY [JCCo]\n    ,[Job]\n    ,[PhaseGroup]\n    ,[Phase]\n    ,[CostType]\n    ,[UM]\n    ,[ActualDate];"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMDispatchBoardSearchData do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure powers the search functionality for the Service Management (SM) Dispatch Board by querying multiple entity types (Customers, Work Orders, Agreements, Service Sites, and Customer POs) using a partial match string. It returns the top 100 results per type, formatted with a display value (SearchValue), unique ID (SearchID), and entity type code (e.g., 'CU' for Customer), enabling quick lookup in a unified search interface. The output supports auto-complete or dropdown population in the dispatch UI."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPRLH table?"
      },
      {
        "from": "gpt",
        "value": "The bPRLH table (Module: PR) contains: PRCo, Mth, Trans, Employee, LeaveCode, ActDate, PostDate, Type, Amt, Description, PRGroup, PREndDate, PaySeq, BatchId, InUseBatchId... (20 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view lists BI-designated reports from the RPRT table, joined to DDMO for activity status where the module is 'BI', and filters to include only SQL Reporting Services, OLAPReport application types\n\nContext: Viewpoint Vista database, view RPRTBIReport"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    'BI' AS [Mod],\n    ReportID,\n    DDMO.Active,\n    'Y' AS [IsBIReport]\nFROM dbo.RPRT\nINNER JOIN DDMO ON DDMO.Mod = 'BI'\nWHERE AppType IN ('SQL Reporting Services','OLAPReport') OR Location = 'BI';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPMTM table?"
      },
      {
        "from": "gpt",
        "value": "The bPMTM table (Module: PM) contains: PMCo, Project, Transmittal, Subject, TransDate, DateSent, DateDue, Issue, CreatedBy, Notes, UniqueAttchID, VendorGroup, ResponsibleFirm, ResponsiblePerson, DateResponded... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMRequiredTasksExt"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMRequiredTasksExt: SMWorkOrderQuoteScopeTaskID (int, not null); SMCo (bCompany, not null); EntitySeq (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in IMPR"
      },
      {
        "from": "gpt",
        "value": "Key columns in IMPR: ImportId (varchar, not null); Co (bCompany, not null); PRGroup (bGroup, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PREM"
      },
      {
        "from": "gpt",
        "value": "Key columns in PREM: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the SMNamedDispatchBoardQuery view?"
      },
      {
        "from": "gpt",
        "value": "SM Named Disp Board Query"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the ARCustomers form?"
      },
      {
        "from": "gpt",
        "value": "The ARCustomers form includes these fields: Displayed Customer Group, Bound Customer Group, TaxGroup, Customer, Name, TempYN, SortName, Address, City, State"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINCJ table?"
      },
      {
        "from": "gpt",
        "value": "The bINCJ table (Module: IN) contains: INCo, Mth, BatchId, JCCo, Job, PhaseGroup, Phase, JCCType, BatchSeq, OldNew, MO, MOItem, Loc, MatlGroup, Material... (36 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vWFProcessDetailApproverHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in vWFProcessDetailApproverHistory: Action (varchar, not null); DateTime (datetime, not null); DetailStepID (bigint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMGetTCListToAttach do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspEMGetTCListToAttach retrieves KeyIDs from the bEMBF table for a specified company (@emco), month (@mth), and batch (@batchid) where UniqueAttchID is null, identifying unattached records. It is used in Viewpoint Vista ERP's Equipment Management module to fetch a list of eligible time cards or burden entries for attachment processing. The sole key operation is a filtered SELECT query with NOLOCK for efficient, non-blocking reads.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMProjIntfcVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a PM project for JC interface eligibility by confirming existence in JCJM, retrieving key attributes (status, liability template, PR state, contract, description), and checking for unprocessed change orders (JCCH records with SourceStatus='Y' and no InterfaceDate). Outputs success/failure status, a message, and flags if JCCH records need processing. Ensures data integrity before PM-to-JC integration."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Canacian T5018 Payment Header\n\nContext: Viewpoint Vista database, view APT5018Payment"
      },
      {
        "from": "gpt",
        "value": "SELECT vAPT5018Payment.*\nFROM dbo.vAPT5018Payment;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMUseAgreementRatesVal do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tMatthew Bradford\n> Create date: 5/5/14\n> Description:\tValidation for SM Work Order Use Agreement fields.\n> -- =============================================\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: AR Transaction Batch Audit\n\nContext: Viewpoint Vista database, view ARBA"
      },
      {
        "from": "gpt",
        "value": "SELECT bARBA.*\nFROM dbo.bARBA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHQWDVal do?"
      },
      {
        "from": "gpt",
        "value": "The bspHQWDVal stored procedure validates a specified document template name by querying the HQWD table to retrieve its associated source location and filename. It is used in Viewpoint Vista ERP to confirm template validity before document generation or processing, avoiding errors from missing or invalid templates. Key operations include input null-check, selective lookup with NOLOCK hint, population of output parameters (@srclocation, @srcfilename, @msg), and return code (0 for success, 1 for failure).\n\nThe bspHQWDVal stored procedure validates a given document template name by querying the HQWD table to retrieve its associated source location and filename. It sets these values as output parameters and returns a success code (0) if found, or an error message and code (1) if the template is missing or invalid. Used in Viewpoint Vista ERP workflows to confirm template validity and obtain file details before document processing.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMTestLogs form?"
      },
      {
        "from": "gpt",
        "value": "The PMTestLogs form includes these fields: Project, Default Vendor Group, Document Category Active, Document Category, Project, JCJM.JobStatus, Our Firm, PMCO Exists Flag, Notes, TestType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join vDDCI with APCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join vDDCI with APCO, use:\n\n```sql\nFROM vDDCI\nINNER JOIN APCO\n  ON vDDCI.DatabaseValue = APCO.GLExpInterfaceLvl\n```\n\nThis pattern is used in the vrvCompanySettings view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspAPICCheck do?"
      },
      {
        "from": "gpt",
        "value": "The bspAPICCheck stored procedure validates an AP Company by retrieving its ICPayAmt threshold and checks for the existence of unreported (ICRptDate NULL) miscellaneous 1099 transactions in the current year from bAPFT and bAPVM tables, where the sum of Box1-18 amounts meets or exceeds ICPayAmt and the vendor has identifiable info (Social Security number, state, or ZIP). It outputs @ICcheckYN as 'Y' if qualifying transactions exist (using TOP 1 check) or 'N' otherwise, along with an error message and code if the company is invalid. This supports 1099 reporting decisions in Viewpoint Vista ERP by flagging companies needing IC (Informational Return) checks.\n\nThe bspAPICCheck stored procedure validates an AP Company and determines if an IC (1099 reporting) check is required by checking for unreported 1099-MISC transactions in the current year that exceed the company's ICPayAmt threshold and have vendor IC details (e.g., SocSecNbr, State, or Zip). It retrieves ICPayAmt from bAPCO, then queries bAPFT joined with bAPVM to sum Box amounts across 1099 boxes; if any qualifying record exists, it sets @ICcheckYN to 'Y', otherwise 'N'. Used in Viewpoint Vista's AP module for 1099 compliance to flag companies needing IC review before reporting.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bINRO table?"
      },
      {
        "from": "gpt",
        "value": "The bINRO table (Module: IN) contains: INCo, Loc, MatlGroup, Material, OutMth, InDate, UnitCost, InMth, Units"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHRLicEndorseCopy do?"
      },
      {
        "from": "gpt",
        "value": "> ISSUE: #133204 --\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bJCDE table?"
      },
      {
        "from": "gpt",
        "value": "The bJCDE table (Module: JC) contains: JCCo, Department, EarnType, GLCo, OpenLaborAcct, ClosedLaborAcct, UniqueAttchID, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvSLSubContrByJob view?"
      },
      {
        "from": "gpt",
        "value": "Batch report view consolidating subcontractor ledger original entries, monthly change order costs/taxes from cost details, and AP transaction payments by job, with tax type breakdowns including committed/uncommitted VAT and JC committed differences."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What are vrv* and brv* views in Viewpoint?"
      },
      {
        "from": "gpt",
        "value": "Viewpoint reporting views:\n- vrv* = Viewpoint Report Views (optimized for reporting)\n- brv* = Base Report Views\n\nThese are pre-built views designed for Crystal Reports. Always check if a vrv* view exists before writing custom SQL - they're optimized and validated."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMInterfaceSLSubCO do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure interfaces approved PM subcontract ledger (PMSL) entries for a specific PM company, project, month, GL company, SL number, and subcontractor company (SubCO) into the Sales Ledger (SL) module, creating or updating SL header/detail batches (SLHB/SLHD/SLIB/SLCB) and handling changes via BatchTransType='C'. It performs validations on send flags, interface dates, approvals, taxes (GST/PST), and job cost details, outputting SL batch IDs, statuses, and error messages while updating batch control (HQBC) statuses."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the VPCanvasGridGroupedColumnsUser view?"
      },
      {
        "from": "gpt",
        "value": "View exposing data from vVPCanvasGridGroupedColumnsUser."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMTechnicianPreferences table?"
      },
      {
        "from": "gpt",
        "value": "The vSMTechnicianPreferences table (Module: SM) contains: SMTechnicianPreferencesID, SMCo, CustGroup, Customer, ServiceSite, Technician, Status"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRPayMethodOverride do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure bulk-overrides the payment method (e.g., from direct deposit to check) for all qualifying employee entries in a specific payroll company, group, period end date, and pay sequence. It targets only unprocessed entries (CMRef null/empty) matching the 'from' method, optionally setting ChkType='C' for check payments, and returns a count or error message. Ensures atomic updates via transaction with per-employee validation."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join JCCM with DDCI in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join JCCM with DDCI, use:\n\n```sql\nFROM JCCM\nINNER JOIN DDCI\n  ON JCCM.ContractStatus = DDCI.DatabaseValue\n```\n\nThis pattern is used in the vrvPCSWMBESubcontracts view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vSMRateOverrideMatlBP table?"
      },
      {
        "from": "gpt",
        "value": "The vSMRateOverrideMatlBP table (Module: SM) contains: SMRateOverrideMatlBPID, Seq, BreakPoint, Percent, UniqueAttchID, SMCo, EntitySeq"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PCBidCoverageOverview"
      },
      {
        "from": "gpt",
        "value": "Key columns in PCBidCoverageOverview: JCCo (bCompany, not null); PotentialProject (varchar, not null); BidPackage (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMGetMaxIdentifier do?"
      },
      {
        "from": "gpt",
        "value": "> Parameter list goes here\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspPMSubmittalCopy do?"
      },
      {
        "from": "gpt",
        "value": "This SP copies a specific submittal (document like shop drawings or samples) from a source project to a destination project in the PM module. It optionally copies associated items, revisions, and distributions, while setting a responsible person, due date, and submittal type; it can also generate the next sequential submittal number. The output message reports success or validation errors."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRProcessCraftCalcPrep do?"
      },
      {
        "from": "gpt",
        "value": "This SP prepares payroll data for craft-specific calculations by clearing and repopulating a temporary table (#PRPE) with filtered time header (bPRTH) and adjustment (bPRTA) records matching the input payroll period, employee, craft, class, earning code (DLCode), and craft template from jobs (JCJM) or service work orders (SM). It outputs configuration values like effective date, old/new cap limits (likely for OT/premiums), reciprocity option, job craft, and error messages to support downstream pay computations. This enables precise craft-based payroll adjustments in construction environments where trade skills dictate rates and limits."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMEMCompOfEquip"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMEMCompOfEquip: EMCo (bCompany, not null); Equipment (bEquip, nullable); Component (bEquip, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJCRatesUnbilledAnalysis view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJCRatesUnbilledAnalysis view (Module: JC) contains: Type, JCCo, Mth, CostTrans, Job, PhaseGroup, Phase, CostType, PostedDate, ActualDate, JCTransType, Source, Description, GLCo, ActualHours... (53 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in JCCostProjectionResDetHistory"
      },
      {
        "from": "gpt",
        "value": "Key columns in JCCostProjectionResDetHistory: JCCo (bCompany, not null); Job (bJob, not null); ProjectionCode (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPR_CA_MBT21 do?"
      },
      {
        "from": "gpt",
        "value": "Calculates per-pay-period provincial tax withholding (likely Manitoba basic tax, MBT21) for Canadian payroll, using annual income (@A) in progressive brackets (10.8%-17.4%) minus credits/deductions (@KP, @K1P from TCP base, capped @K2P from @PP/@EI, @K3P, unused @LCP/@capstock). Outputs periodic amount (@calcamt = net tax / @ppds) after flooring negatives to zero; errors if no pay periods (@ppds=0)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vWFProcessStep"
      },
      {
        "from": "gpt",
        "value": "Key columns in vWFProcessStep: Process (varchar, not null); Seq (int, not null); ApproverType (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the VAWDJobLogs form?"
      },
      {
        "from": "gpt",
        "value": "The VAWDJobLogs form includes these fields: Job Name, RunDateTime, Step, Status, Message, RunDuration"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: WF Notifier Query Parameters\n\nContext: Viewpoint Vista database, view WDQF"
      },
      {
        "from": "gpt",
        "value": "SELECT bWDQF.*\nFROM dbo.bWDQF;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMViewpointDefaultsJCPC do?"
      },
      {
        "from": "gpt",
        "value": "This SP applies Viewpoint-specific defaults (sourced from Bidtek via IMTD templates) to Job Cost (JC) import data, specifically populating fields like PhaseGroup in the import worksheet (IMWE). It checks template overwrite flags and retrieves JC Phase Group values via bspJCPhaseGrpGet, updating import records only if conditions (e.g., '[Bidtek]' default and overwrite enabled) are met. Similar logic likely extends to BillFlag, ItemUnitFlag, and PhaseUnitFlag based on declared variables."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBProgUpdateJCCINotes do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the `Notes` field in the `bJCCI` (Job Cost Contract Item) table for a specified company, contract, and contract item. It supports adding or modifying free-text notes tied to job cost items, typically for documenting progress, changes, or comments. The procedure ensures atomic updates with success validation, returning an error message via `@msg` if parameters are invalid or no rows are affected."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the DDTDShared view?"
      },
      {
        "from": "gpt",
        "value": "This view consolidates menu configuration data for Document Distribution transactions by unioning standard and custom sources, providing folder templates, item types, menu items, and sequences. It ensures a unified dataset for accessing DDTD menu structures without duplication."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bRPPLV5"
      },
      {
        "from": "gpt",
        "value": "Key columns in bRPPLV5: Title (char, not null); ParameterName (varchar, not null); LookupSeq (smallint, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPRTimeExpenseDept do?"
      },
      {
        "from": "gpt",
        "value": "> -- Test values 2011-0602 @PRCo bCompany, @PRGroup bGroup, @BegMth bDate = '01/01/1950', @EndMth bDate = '12/31/2050', @BegEmployee bEmployee = 0, @EndEmployee bEmployee = 999999, @NonTrueEarn char(1) = 'Y', @NonJob char(1) = 'Y' )\n> Test values 2011-0602\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMInspectionLogsHist form?"
      },
      {
        "from": "gpt",
        "value": "The PMInspectionLogsHist form includes these fields: Seq, Document Category, Action Date and Time, Field Type, Field Name, Old Value, New Value, User Name, Action, Project"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in brvJCCMDet"
      },
      {
        "from": "gpt",
        "value": "Key columns in brvJCCMDet: JCCo (bCompany, nullable); Contract (bContract, not null); Description (bItemDesc, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This BI dimension view delivers Equipment Management cost code master data, including ID, code, description, and a concatenated code-description label for display. It appends a special 'Unassigned' ro\n\nContext: Viewpoint Vista database, view viDim_EMCostCode"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    KeyID AS CostCodeID,\n    CostCode,\n    Description AS CostCodeDescription,\n    CostCode + ' ' + Description AS CostCodeAndDescription\nFROM dbo.bEMCC\nUNION ALL\nSELECT\n    0 ,NULL ,'Unassigned' ,NULL;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: JC Detail Roll-up Codes\n\nContext: Viewpoint Vista database, view JCRU"
      },
      {
        "from": "gpt",
        "value": "SELECT bJCRU.*\nFROM dbo.bJCRU;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMFM"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMFM: VendorGroup (bGroup, not null); FirmNumber (bFirm, not null); FirmName (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspIMBidtekDefaultsMSTB do?"
      },
      {
        "from": "gpt",
        "value": "This SP sets default values and resolves codes to internal IDs (e.g., for vendors, customers, jobs, materials, equipment, haulers, taxes) during import of Bidtek data into Vista's IM (Inventory/Materials) module, specifically for MSTB (Material Sales Ticket Batch) records. It uses flags (@ynXXX) to determine which fields require defaulting and populates lookup IDs from master tables. The process supports accurate mapping of external Bidtek takeoff/bid data to Vista entities like weighmaster tickets or haul tickets."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vSMINBatch"
      },
      {
        "from": "gpt",
        "value": "Key columns in vSMINBatch: SMINBatchID (bigint, not null); SMCo (bCompany, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDDGetIdentityColumn do?"
      },
      {
        "from": "gpt",
        "value": "> ==========================================================================================\n> Author:\t\tChris G\n> Create date: 12/2010\n> Modified: 1/03/10 CJG - Issue 140507 (Rejection) - Add logic to check if KeyID exists before returning it.\n> Modified: 1/13/14 GBJ - Issue 69125 (Rejection) - Schema was ignored when finding identity columns.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspHQResponseValueDesc do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure retrieves the description for a given ValueCode from the HQResponseValue table in Viewpoint Vista ERP, outputting it via the @msg parameter. It validates that @ValueCode is not null, returning an error message and code 1 if missing, or code 0 on success. Used to provide human-readable descriptions for response values in business processes like reporting or user interfaces.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRUR"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRUR: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMWPMatlInvStatusOK do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates whether a material assignment (with equipment, group, and code) is allowable for a specific sequence on an Equipment Management work order item, checking for duplicates within the same WO item. It returns success (rcode=0) if unique or an error message (via @errmsg) and failure (rcode=1) if the WO item sequence already exists with duplicates or if a new sequence would duplicate an existing material/equipment combo. Prevents inventory status conflicts in EMWP records."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Supplies a dimension table of truck types by MS company, with company ID, truck type ID, and description for analytics use. Includes a UNION ALL row for 'Unassigned' to accommodate unclassified truck \n\nContext: Viewpoint Vista database, view viDim_MSTruckTypes"
      },
      {
        "from": "gpt",
        "value": "SELECT bMSCO.KeyID AS MSCoID, bMSTT.KeyID AS TruckTypeID, bMSTT.Description AS TruckTypeDescription\nFROM bMSTT\nINNER JOIN bMSCO WITH (NoLock) ON bMSCO.MSCo = bMSTT.MSCo\nUNION ALL\nSELECT\n    NULL\n    , 0\n    , 'Unassigned';"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the brvAPTax view?"
      },
      {
        "from": "gpt",
        "value": "Provides tax details for AP transaction lines, including vendor, job, tax codes, GL accounts, effective rates based on invoice date vs. tax effective dates, and computed tax amounts for base/local/multi-level taxes. Handles GST breakdowns via linked view, calculating total tax, GST tax, inclusive basis, and non-GST taxes per line."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCJRVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates inputs for adding or updating a job reviewer record in the JCJR (Job Cost Job Reviewers) table. It checks for required parameters (JC company, job, reviewer), verifies their existence and activity status in supporting tables, detects duplicates (excluding the current sequence), and outputs an error message if invalid or the reviewer's name if valid. Returns 0 for success (valid, @msg = reviewer name) or 1 for failure (with @msg describing the issue)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCAllocationJobsRemove do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure deletes records from the JCAJ (Job Cost Allocation Jobs) table for a specified company (@jcco) and allocation code (@alloccode) in Viewpoint Vista's Job Costing module. It is used to remove specific job allocation configurations, such as during cleanup, reconfiguration, or error correction in cost allocation setups. The sole key operation is a conditional DELETE statement, followed by a success return code of 0.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SLIT view?"
      },
      {
        "from": "gpt",
        "value": "The SLIT view (Module: SL) contains: SLCo, SL, SLItem, ItemType, Addon, AddonPct, JCCo, Job, PhaseGroup, Phase, JCCType, Description, UM, GLCo, GLAcct... (48 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvPROSSSchedules view?"
      },
      {
        "from": "gpt",
        "value": "The vrvPROSSSchedules view (Module: PR) contains: PRCo, SOL1MonEC, SOL1TueEC, SOL1WedEC, SOL1ThuEC, SOL1FriEC, SOL1SatEC, SOL1SunEC, SOL1HolEC, SOL2MonEC, SOL2TueEC, SOL2WedEC, SOL2ThuEC, SOL2FriEC, SOL2SatEC... (51 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMVG view?"
      },
      {
        "from": "gpt",
        "value": "The PMVG view (Module: PM) contains: ViewName, ViewGrid, GridTitle, Hide, Notes, UniqueAttchID, Form, KeyID"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPMVCInitialize do?"
      },
      {
        "from": "gpt",
        "value": "This SP initializes UI grid column configurations in the bPMVC table for the hardcoded PM Document Tracking form ('PMDocTrackPMSM') in Viewpoint view. It checks if column definitions are missing in bPMVC but the grid exists in bPMVG, then inserts predefined columns (e.g., Description, Sub Firm, Phase, Date Reqd) sourced from PMSM/PMFMSub/JCJPDescGet views. Parameters @viewname/@form are validated but unused in logic, suggesting setup for PM submittal/material document tracking grids."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vrvJBProgressBills view?"
      },
      {
        "from": "gpt",
        "value": "The vrvJBProgressBills view (Module: JB) contains: JBCo, BillMonth, BillNumber, Contract, Item, AUS_VariationIndicator, CurrentContractDollars, WorkComplete_Previous, WorkComplete_ThisBill, StoredMaterial_Previous, StoredMaterial_ThisBill, AmountBilled_ThisBill, AmountBilled_Previous, TaxAmount_ThisBill, TaxAmount_Previous... (27 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the HRRMName view?"
      },
      {
        "from": "gpt",
        "value": "The HRRMName view (Module: HR) contains: HRCo, HRRef, FullName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PMDHDrawing"
      },
      {
        "from": "gpt",
        "value": "Key columns in PMDHDrawing: DrawingType (bDocType, nullable); Drawing (bDocument, not null); PMCo (bCompany, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vJCCostProjectionColumnOption"
      },
      {
        "from": "gpt",
        "value": "Key columns in vJCCostProjectionColumnOption: JCCo (bCompany, not null); VPUserName (bVPUserName, not null); LayoutName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join SMWorkCompletedAllCurrent with SMMiscellaneousBatch in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join SMWorkCompletedAllCurrent with SMMiscellaneousBatch, use:\n\n```sql\nFROM SMWorkCompletedAllCurrent\nINNER JOIN SMMiscellaneousBatch\n  ON SMWorkCompletedAllCurrent.SMWorkCompletedID = SMMiscellaneousBatch.SMWorkCompletedID\n```\n\nThis pattern is used in the vrvSMCostAdjBatchReport view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspEMEquipPartsUMVal do?"
      },
      {
        "from": "gpt",
        "value": "Validates a unit of measure (UM) for a material within a specified material group in Equipment Management parts context. If no material is provided, confirms the UM exists; if material is specified, ensures it exists and the UM matches one of its defined UMs (StdUM, PurchaseUM, SalesUM, or MetricUM), returning the UM description on success or an error message via @errmsg. Sets internal @rcode=0 for success or 1 for failure (likely returned via caller logic)."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: Provides purchase order compliance tracking data, including company-specific PO details, vendor information, verification status, expiration dates, and a standardized yes/no compliance indicator. Tran\n\nContext: Viewpoint Vista database, view POCTGrid"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    TOP 100 percent POCo,\n    PO,\n    CompCode,\n    Seq,\n    Vendor,\n    Description,\n    Verify,\n    ExpDate,\n    Complied=CASE\n    WHEN Complied='Y' THEN 'Y'\n    ELSE 'N'\n    END\nFROM POCT WITH (nolock)\nORDER BY POCo,PO, CompCode, Seq;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vSLInExclusions.\n\nContext: Viewpoint Vista database, view SLInExclusionsPM"
      },
      {
        "from": "gpt",
        "value": "SELECT vSLInExclusions.*, vSLInExclusions.Co AS [PMCo], vSLInExclusions.Co AS [SLCo]\nFROM dbo.vSLInExclusions;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspPRAZT03 do?"
      },
      {
        "from": "gpt",
        "value": "bspPRAZT03 calculates Arizona state tax withholding for payroll by adjusting a subject amount using federal tax and basis ratios, then applying tiered rates based on annualized earnings (default 10% under $15K, 18.2% above) or specified miscellaneous factors. It outputs the computed withholding amount (@amt), enforcing minimum thresholds by pay period frequency (@ppds, e.g., $5 min for monthly). Used in Viewpoint Vista ERP payroll processing to ensure compliant per-period deductions.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the SMLaborCostEstimate form?"
      },
      {
        "from": "gpt",
        "value": "The SMLaborCostEstimate form includes these fields: Seq, PR Company, Technician, Craft, Class, Cost Rate, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PMSubmittal view?"
      },
      {
        "from": "gpt",
        "value": "The PMSubmittal view (Module: PM) contains: PMCo, Project, Seq, SubmittalNumber, SubmittalRev, Package, PackageRev, Description, Details, DocumentType, Status, SpecSection, Copies, ApprovingFirm, ApprovingFirmContact... (42 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJBContractTemplateChk do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure checks if a specified JB contract template is already in use for a given company by querying the bJCCM table for matching records with ContractStatus 1 or 2 (active states). It returns error code 0 if no matching contracts exist (template available), code 7 if in use, or code 1 with a message if company or template parameters are missing. It is used to validate template availability before creating new contracts, preventing conflicts with existing ones.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bEMAV"
      },
      {
        "from": "gpt",
        "value": "Key columns in bEMAV: EMCo (bCompany, not null); AllocCode (tinyint, not null); RevCode (bRevCode, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PMProjectCost form?"
      },
      {
        "from": "gpt",
        "value": "The PMProjectCost form includes these fields: Project, PhaseGroup, CostType, Markup %, Equivalent Rate, Default PMPC Percent, Round Amount"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the CMTA view?"
      },
      {
        "from": "gpt",
        "value": "CM Transfer GL Dist Batch"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in HRCM"
      },
      {
        "from": "gpt",
        "value": "Key columns in HRCM: HRCo (bCompany, not null); Code (varchar, not null); Type (char, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspHREarnCodeVal do?"
      },
      {
        "from": "gpt",
        "value": "This SP validates an earnings code (`@earncode`) for a payroll company (`@prco`) and HR employee/benefit context (`@hrco`, `@hrref`, `@bencode`), confirming it exists in payroll master (PREC), checking for prior assignments to the employee on other benefits (HRBE, excluding current `@bencode`), and retrieving linked benefit option/frequency from benefit instructions (HRBI) if exactly one matching earnings deduction line (EDLType='E') exists. It outputs validation status (`@msg`), instance count on other benefits (`@dlinstcnt`: 0 if none found post-PREC validation, 1 if duplicate on other benefit), and benefit details (`@benefitoption`, `@freq`). Returns 1 on errors (missing inputs, invalid code); 0 on success."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: IN Material Order Item\n\nContext: Viewpoint Vista database, view INMI"
      },
      {
        "from": "gpt",
        "value": "SELECT bINMI.*\nFROM dbo.bINMI;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspAPCheckList do?"
      },
      {
        "from": "gpt",
        "value": "The vspAPCheckList stored procedure generates a list of uncleared checks from an Accounts Payable (AP) payment batch in Viewpoint Vista ERP. It queries the bAPPB table for checks (PayMethod='C', ChkType='C') in a specific company, month, and batch that are not voided, lack a statement date in cash management (bCMDT.StmtDate IS NULL), and fall within a provided check reference range, while joining vendor master data (bAPVM) for sorting and display. This supports AP check printing or reconciliation workflows by identifying payable checks ready for processing, ordered by check reference.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspDMGetAttachmentsWithSecurity do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves a filtered list of active attachments (when `@type='A'`) matching a comma-separated list of unique attachment IDs, enforcing user-specific security permissions on attachment types via company-level or global access rules. It returns key attachment metadata (e.g., filename, description, linked table/form, state) from the HQAT table only for those the user is authorized to view, handling cases like null/untyped attachments or group-based security. The UNION structure separates default/global access from user group validations."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PortalUsers"
      },
      {
        "from": "gpt",
        "value": "Key columns in PortalUsers: UserName (varchar, not null); UserID (int, not null); PID (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspJCAllocationDepartments do?"
      },
      {
        "from": "gpt",
        "value": "The stored procedure vspJCAllocationDepartments retrieves Job Cost departments (from JCDM) for a specified company (@jcco) and allocation code (@alloccode), filtered by allocation status in JCAD. If @exists = 'N', it lists departments that *are* allocated (matching JCAD records exist); otherwise, it lists departments that *are not* allocated. Used in Viewpoint Vista Job Costing to populate UI lists of current or available departments for allocation setup and management.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the PRLedgerUpdateJCCostEntryTransaction view?"
      },
      {
        "from": "gpt",
        "value": "The PRLedgerUpdateJCCostEntryTransaction view (Module: PR) contains: PRCo, PRGroup, PREndDate, Posted, JCCostEntryID, Source, HQBatchDistributionID, PRLedgerUpdateMonthID, Employee, PaySeq, PostSeq, JCCostTransaction, Type, EarnCode, LiabilityType"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMAgreementAmrt view?"
      },
      {
        "from": "gpt",
        "value": "The SMAgreementAmrt view (Module: SM) contains: SMAgreementAmrtID, SMCo, Mth, SMTrans, Agreement, Revision, Service, Amount, GLCo, AgreementRevDefGLAcct, AgreementRevGLAcct, WorkOrder, WorkOrderRevDefGLAcct, WorkOrderRevGLAcct, Department... (17 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure uspForeman do?"
      },
      {
        "from": "gpt",
        "value": "> User Defined Validation Procedure *\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vVPCanvasGridColumnsTemplate"
      },
      {
        "from": "gpt",
        "value": "Key columns in vVPCanvasGridColumnsTemplate: ColumnId (int, not null); GridConfigurationId (int, nullable); Name (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the bPORS table?"
      },
      {
        "from": "gpt",
        "value": "The bPORS table (Module: PO) contains: Co, Mth, BatchId, BatchSeq, PO, POItem, RecvdUnits, RecvdCost, POItemLine"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCJobOverridesNoteUpdate do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure updates the OverProjNotes field in the JCJM table for a specified job within a company in Viewpoint Vista's Job Costing module. It is used to modify custom override notes associated with job projections, ensuring accurate documentation of project-specific adjustments. Key operations include executing an UPDATE statement filtered by JCCo and Job, validating that exactly one row is affected, and returning a success code (0) or error code (1) with a message via output parameter.\n\nThis stored procedure updates the OverProjNotes field in the JCJM table for a specified job within a company in Viewpoint Vista's Job Cost module. It is used to modify override project notes associated with a job, ensuring accurate documentation of job-specific overrides. Key operations include executing an UPDATE statement filtered by JCCo and Job, validating that exactly one row is affected, and setting an error message with a return code of 1 on failure or 0 on success.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vrptGLCanadaGSTHST do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure generates a dataset for Canadian GST/HST tax reporting in the GL module, aggregating tax amounts from AR invoices/applications and AP invoices/payments into categorized lines (e.g., 101, 103, 106, 107) corresponding to CRA GST/HST return forms. It filters transactions by company (@GLCo) and date range (@BeginningMonth to @EndingMonth), capturing details like tax codes, customer/vendor info, holdbacks, and GST-specific amounts. The temp table structures data for reporting taxable sales, purchases, adjustments, and remittances."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMEntityCreate do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJacob Van Houten\n> Create date: 1/12/12\n> Description:\tCreates a Generic Entity record and returns the SMGenericEntityID\n> Mod: DKS 3/26/2013 Added default value for OverrideBase insert which can no longer be null\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bPRIA"
      },
      {
        "from": "gpt",
        "value": "Key columns in bPRIA: PRCo (bCompany, not null); PRGroup (bGroup, not null); PREndDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the VPLog.vSMErrorLog table?"
      },
      {
        "from": "gpt",
        "value": "The VPLog.vSMErrorLog table (Module: SM) contains: LogId, Msg, EventTime, HostName, UserName"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJCPBPost do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure posts Job Cost Projection Batches (JCPB) for a specified company, month, and batch in the JC (Job Cost) module. It validates the batch source (e.g., 'JC Projctn'), retrieves JC company settings from JCCO, and dynamically builds/updates projection details in tables like JCPD/JCPR, handling forecasts, units, hours, costs, and integrations with PM (Project Management) cost projections. It outputs errors via @errmsg and manages posting logic including plugged status, multi-batch jobs, and resource details."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view aggregates Accounts Payable cash flow projections by the start of each week, summing net payment amounts to provide a weekly outflow summary. It simplifies granular cash flow data into time-\n\nContext: Viewpoint Vista database, view CashFlowAPbyWeek"
      },
      {
        "from": "gpt",
        "value": "SELECT StartOfWeek AS [StartOfWeek], sum([NetAmount]) AS [NetAmount]\nFROM [CashFlowAP]\nGROUP BY CashFlowAP.StartOfWeek;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspWFTemplateValForCopy do?"
      },
      {
        "from": "gpt",
        "value": "> template to validate\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vfrl_seg_ctrl table?"
      },
      {
        "from": "gpt",
        "value": "The vfrl_seg_ctrl table (Module: Other) contains: entity_num, seg_num, seg_desc, seg_start_pos, seg_length, last_updated"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMAgreementRequiredMiscCopy do?"
      },
      {
        "from": "gpt",
        "value": "This stored procedure copies miscellaneous required items (e.g., tasks, standard items, costs, billing, and taxes) from a source Service Management (SM) agreement/revision to a target agreement/revision in the SMRequiredMisc table. It preserves core cost and descriptive data while conditionally adjusting billing rates and totals based on the source service's pricing method ('T' for time-based), and updates tax amounts using current tax rates/basis. The output @msg likely reports success or errors, supporting agreement duplication with minimal data loss."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRGarnishGroup form?"
      },
      {
        "from": "gpt",
        "value": "The PRGarnishGroup form includes these fields: GarnGroup, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vPRAUEmployeeAccumsDetail"
      },
      {
        "from": "gpt",
        "value": "Key columns in vPRAUEmployeeAccumsDetail: PRCo (bCompany, not null); Employee (bEmployee, not null); Mth (bMonth, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "How do I join bHQCO with JCCO in Viewpoint Vista?"
      },
      {
        "from": "gpt",
        "value": "To join bHQCO with JCCO, use:\n\n```sql\nFROM bHQCO\nINNER JOIN JCCO\n  ON bHQCO.HQCo = JCCO.JCCo\n```\n\nThis pattern is used in the vrvCompanySettings view."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDQueryableColumns"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDQueryableColumns: Form (varchar, not null); Seq (smallint, not null); QueryColumnName (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: HR Status Codes\n\nContext: Viewpoint Vista database, view HRST"
      },
      {
        "from": "gpt",
        "value": "SELECT bHRST.*\nFROM dbo.bHRST;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What is the purpose of the vrvSMServiceItemWithAgreement view?"
      },
      {
        "from": "gpt",
        "value": "This view combines service item master records with linked service agreement details, including agreement number, revision, and service code, matched by company and service site. It provides a complete dataset of service items contextualized by their governing agreements for reporting purposes."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in vrvPRGL_HQDetailTran"
      },
      {
        "from": "gpt",
        "value": "Key columns in vrvPRGL_HQDetailTran: PRCo (bCompany, not null); PRGroup (bGroup, nullable); PREndDate (bDate, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the vWFChecklistSteps table?"
      },
      {
        "from": "gpt",
        "value": "The vWFChecklistSteps table (Module: WF) contains: KeyID, Step, Task, Checklist, Company, Summary, IsStepRequired, UseEmail, Status, Description, StepType, VPName, AssignedTo, AssignedOn, DueDate... (24 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRRE"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRRE: PRCo (bCompany, not null); Crew (varchar, not null); PostDate (bDate, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the EMAH view?"
      },
      {
        "from": "gpt",
        "value": "The EMAH view (Module: EM) contains: EMCo, AllocCode, EMGroup, Description, SelectEquip, SelectCatgy, SelectDept, AllocBasis, BasisCol, AmtRateFlag, AllocAmount, EquipAmtCol, AllocRate, EquipRateCol, MthDateFlag... (31 total columns)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in EMDepartmentRole"
      },
      {
        "from": "gpt",
        "value": "Key columns in EMDepartmentRole: KeyID (bigint, not null); EMCo (bCompany, not null); Department (bDept, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure vspSMDeliveryGroupCleanup do?"
      },
      {
        "from": "gpt",
        "value": "> =============================================\n> Author:\t\tJeremiah Barkley\n> Create date: 9/26/11\n> Modified by: EN 07/15/2021 VSTS-335142 Use generic vEmailDelivery in place of obsolete vSMDelivery\n> Description:\tClean up a delivery group.\n\n---"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: View exposing data from vDDDA.\n\nContext: Viewpoint Vista database, view DDDA"
      },
      {
        "from": "gpt",
        "value": "SELECT vDDDA.*\nFROM dbo.vDDDA;"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in PRCACBNPayrollProgramAcct"
      },
      {
        "from": "gpt",
        "value": "Key columns in PRCACBNPayrollProgramAcct: PRCo (bCompany, not null); Employee (int, nullable); CBNPayrollProgramAcct (char, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What fields are available on the PRLeaveLevels form?"
      },
      {
        "from": "gpt",
        "value": "The PRLeaveLevels form includes these fields: LeaveLevel, Description, Notes"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in SMAgreementBillingScheduleExt"
      },
      {
        "from": "gpt",
        "value": "Key columns in SMAgreementBillingScheduleExt: SMAgreementBillingScheduleID (bigint, not null); SMCo (bCompany, not null); Agreement (varchar, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in bINPG"
      },
      {
        "from": "gpt",
        "value": "Key columns in bINPG: INCo (bCompany, not null); Mth (bMonth, not null); BatchId (bBatchID, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in viDim_MSUnitMeasures"
      },
      {
        "from": "gpt",
        "value": "Key columns in viDim_MSUnitMeasures: UMID (bigint, not null); UM (varchar, nullable); UMDescription (varchar, nullable)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure brptPRTimeJob do?"
      },
      {
        "from": "gpt",
        "value": "This SP generates a dataset for a \"Business Report - Payroll Time by Job\" by populating a temp table (#PRTime) with detailed payroll time entries charged to JC jobs. It extracts employee hours, rates, amounts, earn codes, jobs, phases, depts, and related attributes from posted payroll time records (PRTH/PREC), filtered by payroll company/group, pay period dates, JC company range, and job range. The output supports reporting on labor costs distributed by job for analysis."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What does the stored procedure bspJBTandMGetLaborRate do?"
      },
      {
        "from": "gpt",
        "value": "This SP retrieves the appropriate labor billing rate (or new rate) for Time & Materials (T&M) job billing from the template's labor rate table (bJBLR), using a hierarchical fallback search based on labor category, earn type, factor, and shift (prioritizing exact matches, then NULLs in shift/factor/earn type). It checks the billing template (JBTM) for labor override permissions and prepares for employee/craft/class-based overrides using payroll/actual/effective dates. Outputs the rate, rate option (e.g., override flag), and validation messages."
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Describe the key columns in DDFS"
      },
      {
        "from": "gpt",
        "value": "Key columns in DDFS: Co (smallint, not null); Form (varchar, not null); SecurityGroup (int, not null)"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "What columns are in the SMWOInvoiceDescriptionWorkOptionsCustomer view?"
      },
      {
        "from": "gpt",
        "value": "The SMWOInvoiceDescriptionWorkOptionsCustomer view (Module: SM) contains: SMWOInvoiceDescriptionWorkOptionsCustomerID, SMCo, CustGroup, Customer, Field, Select, CustomLabelName, SortOrder"
      }
    ]
  },
  {
    "conversations": [
      {
        "from": "system",
        "value": "You are VGPT, an expert SQL assistant for Viewpoint Vista construction ERP database.\n\nKey conventions:\n- Use views (APTH) not base tables (bAPTH) for SELECT queries\n- Always add WITH (NOLOCK) after table names\n- Filter by company columns (APCo, JCCo, PRCo, etc.)\n- Use exact column name case (APCo not apco)\n- Check for vrv* reporting views before writing custom SQL"
      },
      {
        "from": "human",
        "value": "Write a SQL query to: This view provides current invoice billing amounts and taxes per work order scope detail, along with previously billed amounts on the same scope from prior invoices, calculated as total historical sco\n\nContext: Viewpoint Vista database, view vrvSMPreviousFlatPriceBillingsByInvoice"
      },
      {
        "from": "gpt",
        "value": "SELECT\n    SMWorkOrderScope.SMCo,\n    SMWorkOrderScope.WorkOrder,\n    SMWorkOrderScope.Scope,\n    SMInvoiceDetail_1.Invoice,\n    SMInvoiceDetail_1.InvoiceDetail,\n    SMInvoiceDetail_1.WorkCompleted,\n    InvoiceLineSum.Amount,\n    InvoiceLineSum.TaxAmount\nFROM dbo.SMWorkOrderScope\nINNER JOIN dbo.SMWorkOrder\n    ON SMWorkOrder.SMCo = SMWorkOrderScope.SMCo\n    AND SMWorkOrder.WorkOrder = SMWorkOrderScope.WorkOrder\nINNER JOIN dbo.SMInvoiceDetail AS SMInvoiceDetail_1\n    ON SMInvoiceDetail_1.SMCo = SMWorkOrderScope.SMCo\n    AND SMInvoiceDetail_1.WorkOrder = SMWorkOrderScope.WorkOrder\n    AND SMInvoiceDetail_1.Scope = SMWorkOrderScope.Scope\n    CROSS APPLY (SELECT SUM(SMInvoiceLine.Amount) AS Amount,\n    SUM(SMInvoiceLine.TaxAmount) AS TaxAmount\nFROM SMInvoiceLine\nWHERE SMInvoiceDetail_1.SMCo = SMInvoiceLine.SMCo\n    AND SMInvoiceDetail_1.Invoice = SMInvoiceLine.Invoice\n    AND SMInvoiceDetail_1.InvoiceDetail = SMInvoiceLine.InvoiceDetail) InvoiceLineSum\n    CROSS APPLY (SELECT SUM(SMInvoiceLine_1.Amount) - InvoiceLineSum.Amount AS PreviouslyBilled\nFROM dbo.SMInvoiceLine AS SMInvoiceLine_1\nINNER JOIN dbo.SMInvoiceDetail AS SMInvoiceDetail_1\n    ON SMInvoiceDetail_1.SMCo = SMInvoiceLine_1.SMCo\n    AND SMInvoiceDetail_1.Invoice = SMInvoiceLine_1.Invoice\n    AND SMInvoiceDetail_1.InvoiceDetail = SMInvoiceLine_1.InvoiceDetail\nWHERE SMWorkOrderScope.SMCo = SMInvoiceLine_1.SMCo\n    AND SMWorkOrderScope.WorkOrder = SMInvoiceDetail_1.WorkOrder\n    AND SMWorkOrderScope.Scope = SMInvoiceDetail_1.Scope) PreviousBillingSum;"
      }
    ]
  }
]